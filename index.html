<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">
<head>
<!-- 2025-10-23 jue 13:18 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Apuntes Graficación</title>
<meta name="author" content="Eduardo Alcaraz" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="src/readtheorg_theme/css/readtheorg.css"/>
<script type="text/javascript" src="src/lib/js/jquery.min.js"></script>
<script type="text/javascript" src="src/lib/js/bootstrap.min.js"></script>
<script type="text/javascript" src="src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="src/readtheorg_theme/js/readtheorg.js"></script>
<style> #content{max-width:1800px;}</style>
<style>pre.src {background-color: #303030; color: #e5e5e5;}</style>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Apuntes Graficación</h1>
<div id="table-of-contents" role="doc-toc">
<h2>&Iacute;ndice</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgbee7ec4">Manual de Instalación de Git</a>
<ul>
<li><a href="#org99a1753">Instalación en Windows</a></li>
<li><a href="#orgfd1f0d4">Instalación en macOS</a>
<ul>
<li><a href="#org9a7429a">Método recomendado: usando Homebrew</a></li>
<li><a href="#org1997672">Método alternativo: paquete descargado</a></li>
</ul>
</li>
<li><a href="#org144f1b9">Instalación en Linux (Distribuciones basadas en Debian/Ubuntu)</a></li>
<li><a href="#org6d207f9">Configuración básica de Git</a></li>
<li><a href="#org4427188">Actualización de Git</a></li>
<li><a href="#org4868d03">Configurar Llave SSH con GitHub</a>
<ul>
<li><a href="#org0f19966">1. Verificar si ya tienes una llave SSH</a></li>
<li><a href="#org07956c2">2. Generar una nueva llave SSH</a></li>
<li><a href="#org7c2ec7a">3. Añadir la llave SSH al agente SSH</a></li>
<li><a href="#org6a3ce5d">4. Copiar la llave SSH pública</a></li>
<li><a href="#org8b06a45">5. Añadir la llave SSH a GitHub</a></li>
<li><a href="#org6a0f2d1">6. Probar la conexión SSH con GitHub</a></li>
<li><a href="#orge135dfc">7. Usar la conexión SSH en repositorios de GitHub</a></li>
</ul>
</li>
<li><a href="#org8d3fbc4">Configurar Llave SSH con GitHub en Windows</a>
<ul>
<li><a href="#org9f8861a">1. Abrir Git Bash</a></li>
<li><a href="#orge910a24">2. Verificar si ya tienes una llave SSH</a></li>
<li><a href="#org59aab8b">3. Generar una nueva llave SSH</a></li>
<li><a href="#org1b0baaf">4. Añadir la llave SSH al agente SSH</a></li>
<li><a href="#orgabcc4b2">5. Copiar la llave SSH pública</a></li>
<li><a href="#orga0f3e7f">6. Añadir la llave SSH a GitHub</a></li>
<li><a href="#orgf8ac537">7. Probar la conexión SSH con GitHub</a></li>
<li><a href="#orgcef3b87">8. Usar la conexión SSH en repositorios de GitHub</a></li>
</ul>
</li>
<li><a href="#orgc3eaab7">Manual de Git en Windows</a>
<ul>
<li><a href="#org3de07b0">1. Instalar Git en Windows</a></li>
<li><a href="#org028aa49">2. Configurar Git</a></li>
<li><a href="#org6986243">3. Clonar un repositorio</a></li>
<li><a href="#org320ac7b">4. Comandos básicos de Git</a></li>
<li><a href="#org78b9dfd">5. Actualizar el repositorio local</a></li>
<li><a href="#orgee72158">6. Crear y cambiar de ramas (branches)</a></li>
<li><a href="#org54c141e">7. Ver historial de commits</a></li>
<li><a href="#orgbf62883">8. Configurar una llave SSH</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org4d15c2d">Manual de Instalación de Python en Windows</a>
<ul>
<li><a href="#org89f076b">Paso 1: Descarga de Python</a></li>
<li><a href="#orgde2dfa0">Paso 2: Ejecutar el instalador</a></li>
<li><a href="#orgef97205">Paso 3: Verificación de la instalación</a></li>
<li><a href="#org8624b42">Paso 4: Instalar pip y otros paquetes</a></li>
<li><a href="#org9e79920">Paso 5: Configuración del entorno de desarrollo</a></li>
<li><a href="#orge9b3941">Paso 6: Actualización de Python (opcional)</a></li>
</ul>
</li>
<li><a href="#org4eab63c">Entornos Virtuales en Python</a>
<ul>
<li><a href="#orgbf7bb2c">¿Qué es un Entorno Virtual?</a></li>
<li><a href="#org5a72962">Preparación: Instalación de Python y Visual Studio Code</a></li>
<li><a href="#orge32f5a6">Crear un Entorno Virtual</a></li>
<li><a href="#org87bf433">Activar el Entorno Virtual</a></li>
<li><a href="#orgbb5bdff">Configurar el Entorno Virtual en Visual Studio Code</a></li>
<li><a href="#org038ee47">Instalar Paquetes en el Entorno Virtual</a></li>
<li><a href="#org9486a75">Administrar Paquetes</a></li>
<li><a href="#org7d0fd1f">Desactivar el Entorno Virtual</a></li>
<li><a href="#orga069961">Eliminar el Entorno Virtual</a></li>
<li><a href="#org44b1c49">Consejos Adicionales para VS Code</a></li>
</ul>
</li>
<li><a href="#orgdaea50e">Entornos virtuales en Python (Windows + VS Code)</a>
<ul>
<li><a href="#orgfd453cc">1. ¿Qué es un entorno virtual?</a></li>
<li><a href="#orgac0e9f7">2. Requisitos previos</a></li>
<li><a href="#org23b514b">3. Crear un entorno virtual</a></li>
<li><a href="#org9847f90">4. Activar el entorno virtual</a></li>
<li><a href="#orgced03b7">5. Problema común: PowerShell bloquea Activate.ps1</a></li>
<li><a href="#org80562b0">6. Desactivar el entorno virtual</a></li>
<li><a href="#orgad891ac">7. Instalar paquetes dentro del entorno</a></li>
<li><a href="#org6879de1">8. Integrar el entorno en VS Code</a></li>
<li><a href="#org2d96c4c">9. Configuración manual en settings.json</a></li>
<li><a href="#org3cf2961">10. Diferencias entre los scripts de activación</a></li>
<li><a href="#org39af930">11. Buenas prácticas</a></li>
<li><a href="#org54adf49">12. Ejemplo de flujo completo</a></li>
</ul>
</li>
<li><a href="#org5e347d3">Introducción a la Graficación por computadora</a>
<ul>
<li><a href="#org84fcf3d">Graficación por Computadora</a>
<ul>
<li><a href="#org1830d9d">Objetivos de la Graficación por Computadora</a></li>
<li><a href="#orgd95dfc9">Áreas de estudio en Graficación por Computadora</a></li>
<li><a href="#org20ab2f6">Aplicaciones de la Graficación por Computadora</a></li>
<li><a href="#org930f302">Temas principales en Graficación por Computadora</a></li>
</ul>
</li>
<li><a href="#org2bebd2f">¿Qué es una imagen? (definición formal)</a>
<ul>
<li><a href="#org2324af4">Imagen continua, muestreo y cuantización</a></li>
<li><a href="#org5cc9717">Representación matricial y tensores</a></li>
<li><a href="#org1b50240">Transformaciones de intensidad (píxel a píxel)</a></li>
<li><a href="#org4c13ec9">Color: modelos y conversiones</a></li>
<li><a href="#org61f4a54">Filtrado espacial (convolución) y operadores diferenciales</a></li>
<li><a href="#orgc99b800">Dominio de la frecuencia (DFT 2D)</a></li>
<li><a href="#org8b6baab">Transformada discreta de Fourier 2D</a></li>
<li><a href="#orge9e87f2">Formación de imagen (modelo pinhole simplificado)</a></li>
<li><a href="#org64872da">Iluminación lambertiana (intensidad difusa)</a></li>
<li><a href="#orgd5b5ec1">Estadística básica de intensidades (útil para normalización)</a></li>
</ul>
</li>
<li><a href="#org0b78e9c">Modelos de Color: RGB, CMY, HSV y HSL</a></li>
<li><a href="#org27aa3ec">Introducción</a></li>
<li><a href="#org4ea2c66">Modelo de Color RGB (Red, Green, Blue)</a></li>
<li><a href="#orge37bae2">Definición</a></li>
<li><a href="#org805709f">Funcionamiento de la Mezcla Aditiva</a></li>
<li><a href="#org38cea65">Espacio de Color RGB</a></li>
<li><a href="#org49032dd">Conversión a otros modelos de color</a></li>
<li><a href="#orga1ac37a">Aplicaciones del Modelo RGB</a></li>
<li><a href="#org1046491">Limitaciones del Modelo RGB</a></li>
<li><a href="#orgd51849f">Modelo CMY (Cyan, Magenta, Yellow)</a></li>
<li><a href="#orga248369">Modelo HSV (Hue, Saturation, Value)</a>
<ul>
<li><a href="#org9034bfc">HSV opencv</a></li>
<li><a href="#org1daf341">Tutorial: Umbrales en el Modelo de Color HSV</a></li>
<li><a href="#org4b1b5db">Definición de los Parámetros del Modelo HSV</a></li>
<li><a href="#orgf8d1a68">Detectar un color en el espacio HSV</a></li>
<li><a href="#org99d1271">Explicación de los Parámetros:</a></li>
<li><a href="#orgcb1376c">Ajustes de los Umbrales</a></li>
<li><a href="#org4d9c96c">Ejemplo visual: Rango de tonos para detectar verde</a></li>
<li><a href="#org46789ec">Uso de <code>cv2.inRange</code></a></li>
</ul>
</li>
<li><a href="#orga08ea71">Modelo HSL (Hue, Saturation, Lightness)</a></li>
<li><a href="#org7d58874">Función Bitwise opencv</a>
<ul>
<li><a href="#org1c4e1cf">Tutorial: Operaciones Bitwise en OpenCV</a></li>
</ul>
</li>
<li><a href="#orge56835d">Definición: Operación Bit a Bit</a>
<ul>
<li><a href="#org4a2fb1e">Principales operaciones bit a bit</a></li>
</ul>
</li>
<li><a href="#orgf9961f8">Operadores Puntuales</a>
<ul>
<li><a href="#org673331a">Definición</a></li>
<li><a href="#org46acb3c">Características</a></li>
<li><a href="#org1e6975e">Tipos de Operadores Puntuales</a></li>
<li><a href="#orgcf5eccd">Aplicaciones de Operadores Puntuales</a></li>
</ul>
</li>
<li><a href="#orgca664c4">Explicación detallada de los Momentos</a>
<ul>
<li><a href="#orgf1c2b3d">Momentos espaciales</a></li>
<li><a href="#org4aa137b">Momentos centrales (mu)</a></li>
<li><a href="#org41b7c6b">Momentos normalizados (nu)</a></li>
<li><a href="#org43f021e">Hu Moments</a></li>
<li><a href="#orgbd462a4">Resumen gráfico</a></li>
</ul>
</li>
<li><a href="#org6eacc90">Cálculo de los momentos espaciales (m00)</a>
<ul>
<li><a href="#orgd11ec23">Ejemplo específico de m00</a></li>
<li><a href="#orgf367d69">Ejemplo en código</a></li>
</ul>
</li>
<li><a href="#orga8e8d18">Cálculo exacto del centroide con momentos</a>
<ul>
<li><a href="#org9612969">Fórmulas del centroide</a></li>
<li><a href="#orgd053433">Ejemplo manual</a></li>
<li><a href="#org4cc1128">Ejemplo en OpenCV</a></li>
</ul>
</li>
<li><a href="#org46f3673">Comparación entre Centroide (momentos) y Bounding Box (extremos)</a>
<ul>
<li><a href="#orgddafc98">Código de ejemplo en Python</a></li>
<li><a href="#orgf76cc22">Interpretación</a></li>
<li><a href="#orgcd0a64f">Conclusión</a></li>
</ul>
</li>
<li><a href="#org5fe5df4">Proceso de Multiplicación de una Matriz de Transformación por una Coordenada de Píxel</a>
<ul>
<li><a href="#org31f1c92">1. Representación de las coordenadas en forma homogénea</a></li>
<li><a href="#org9aadad2">2. Definición de la matriz de transformación</a></li>
<li><a href="#org5463a8b">3. Multiplicación de la matriz por las coordenadas</a></li>
<li><a href="#org81c5c38">4. Resultado final</a></li>
<li><a href="#org2fae5f2">Ejemplo concreto: Rotación</a></li>
<li><a href="#org6bc2b33">Resumen del proceso</a></li>
</ul>
</li>
<li><a href="#org8266117">Transformaciones Geométricas en Imágenes</a>
<ul>
<li><a href="#org00cf4bf">1. Traslación (Translation)</a></li>
<li><a href="#org41cece2">2. Rotación (Rotation)</a></li>
<li><a href="#org9f4ab5d">3. Escalado (Scalin</a></li>
<li><a href="#org6094016">4. Cizallamiento (Shearing)</a></li>
<li><a href="#orgcca7c33">5. Reflexión (Reflection)</a></li>
<li><a href="#orga663c6d">6. Transformación Afín (Affine Transformation)</a></li>
<li><a href="#orgcb89e7b">7. Transformación Proyectiva (Homografía)</a></li>
<li><a href="#org93be4ed">Aplicaciones</a></li>
</ul>
</li>
<li><a href="#org412bf88">Landmarks</a>
<ul>
<li><a href="#org0163b21">Fundamentos de los Landmarks</a></li>
<li><a href="#orgf5fec27">Aplicaciones de los Landmarks</a></li>
<li><a href="#orgca9366f">Métodos de Detección de Landmarks</a></li>
</ul>
</li>
<li><a href="#orgc89df4f">Detección de Manos con MediaPipe en Python</a>
<ul>
<li><a href="#org6928302">Introducción</a></li>
<li><a href="#org56c807b">Instalación de Dependencias</a></li>
<li><a href="#orgb209c8d">Código para Detección de Manos en Tiempo Real</a></li>
<li><a href="#orgf3cc6d0">Explicación del Código</a></li>
<li><a href="#orgbedd9ab">Mejoras Posibles</a></li>
<li><a href="#org8a6bc7e">Indice de dedos en mediapipe</a></li>
<li><a href="#org0d27752">Medipipe Reconocimiento de letras</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org6d9f462">Actividades</a></li>
<li><a href="#org78fefe8">Programación</a>
<ul>
<li><a href="#org8dfd794">Programas Unidad 1</a>
<ul>
<li><a href="#org6cc544c">Creación de una Imagen</a></li>
<li><a href="#org137a011">Cargar Imagen</a></li>
<li><a href="#orgc635705">Split y Merge Imagen</a></li>
<li><a href="#org94b72f8">Ejemplo de Operador Puntual en Imágenes</a></li>
<li><a href="#org7ae5bba">Cargar vídeo Opencv</a></li>
<li><a href="#org88bc8af">Conteo</a></li>
</ul>
</li>
<li><a href="#org822f11c">Ejemplos de Transformaciones Geométricas en Modo Raw en Python</a>
<ul>
<li><a href="#orga6f2177">1. Traslación</a></li>
<li><a href="#org0d0fa51">2. Rotación (alrededor del centro de la imagen)</a></li>
<li><a href="#org6bdcdff">3. Escalado</a></li>
<li><a href="#orga095689">4. Cizallamiento (Shearing)</a></li>
<li><a href="#org15c8e46">5. Reflexión (Reflection)</a></li>
</ul>
</li>
<li><a href="#org2fde9f1">Ejemplos de Transformaciones Geométricas en Python usando OpenCV</a>
<ul>
<li><a href="#org2ede79a">1. Traslación</a></li>
<li><a href="#org98e1d93">2. Rotación (alrededor del centro de la imagen)</a></li>
<li><a href="#orgea5779d">3. Escalado</a></li>
<li><a href="#org87cf458">4. Cizallamiento (Shearing)</a></li>
<li><a href="#org4f057e6">5. Reflexión (Reflection)</a></li>
</ul>
</li>
<li><a href="#org6bd30f6">Primitivas de Dibujo</a></li>
<li><a href="#org22d609e">Parametricas</a></li>
<li><a href="#org4523aa2">Segmentación de color mediante el modelo de color HSV</a>
<ul>
<li><a href="#org539cd0b">Dibujo utilizando seguimiento por color</a></li>
</ul>
</li>
<li><a href="#org8f455ac">Capa de Harry Potter</a></li>
<li><a href="#orgb3a921b">Efecto Gris np.where</a>
<ul>
<li><a href="#orgc186bf0">Sintaxis básica de np.where:</a></li>
<li><a href="#org3ee25b1">Aplicación en procesamiento de imágenes:</a></li>
</ul>
</li>
<li><a href="#org3997a2c">Flujo optico</a></li>
<li><a href="#orgb6d1b94">Ejemplo de clasificación utilizando Haarcascades</a></li>
<li><a href="#org3553db7">OpenGL</a></li>
<li><a href="#org3886c4b">Descripción de la Proyección Isométrica</a>
<ul>
<li><a href="#orgdb21245">Ejemplo de Proyección Isométrica en OpenCV</a></li>
</ul>
</li>
<li><a href="#orgfecaf3e">Opengl Ejemplo</a></li>
</ul>
</li>
<li><a href="#org58324d1">Introducción a OpenGL</a>
<ul>
<li><a href="#org3e4c08c">Características de OpenGL</a></li>
<li><a href="#org45c50c8">Primeros pasos en OpenGL</a>
<ul>
<li><a href="#org9a8aa0d">Configuración del Entorno</a></li>
<li><a href="#org9e44a32">Estructura básica de un programa OpenGL</a></li>
</ul>
</li>
<li><a href="#org1293092">Sistema de Coordenadas en OpenGL</a>
<ul>
<li><a href="#org550e6cf">Coordenadas del Objeto</a></li>
<li><a href="#org8d01d38">Coordenadas del Mundo</a></li>
<li><a href="#orgafdd5a2">Coordenadas de Vista</a></li>
<li><a href="#orgc636e5d">Coordenadas de Recorte</a></li>
<li><a href="#org797b3fe">Coordenadas Normalizadas del Dispositivo (NDC)</a></li>
<li><a href="#org7f9585c">Coordenadas de Pantalla</a></li>
</ul>
</li>
<li><a href="#org782854c">Primitivas de Dibujo en OpenGL</a>
<ul>
<li><a href="#org92b104d">Código en Python con OpenGL y GLUT</a></li>
</ul>
</li>
<li><a href="#org3c3ef62">Tutorial de gluPerspective en OpenGL</a>
<ul>
<li><a href="#orgb488390">¿Qué es gluPerspective?</a></li>
<li><a href="#orge42f5b6">Sintaxis</a></li>
<li><a href="#orgbf3bb47">Ejemplo Básico de Uso de gluPerspective</a></li>
</ul>
</li>
<li><a href="#orgce6a7af">Objetos de Glut</a></li>
<li><a href="#orgc0fd886">Transformaciones en OpenGL</a>
<ul>
<li><a href="#org8651638">Traslación</a></li>
<li><a href="#org332c71d">Rotación</a></li>
<li><a href="#orgb04a19b">Escalado</a></li>
</ul>
</li>
<li><a href="#org5dccb33">Iluminación y Materiales</a>
<ul>
<li><a href="#orgd59b968">Tipos de luces</a></li>
<li><a href="#org8ad779c">Materiales</a></li>
</ul>
</li>
<li><a href="#org643fde1">Sombras y Efectos Avanzados</a></li>
<li><a href="#org75c647d">OpenGL Moderno: Shaders y el Pipeline Gráfico</a>
<ul>
<li><a href="#org04a8d0f">Vertex Shader</a></li>
<li><a href="#org1d80423">Fragment Shader</a></li>
<li><a href="#orga8d0c89">Geometry Shader</a></li>
</ul>
</li>
<li><a href="#org0b5d49b">Conclusión</a></li>
</ul>
</li>
<li><a href="#org908fb82">Proyecto Final</a></li>
</ul>
</div>
</div>



<div id="outline-container-orgbee7ec4" class="outline-2">
<h2 id="orgbee7ec4">Manual de Instalación de Git</h2>
<div class="outline-text-2" id="text-orgbee7ec4">
</div>
<div id="outline-container-org99a1753" class="outline-3">
<h3 id="org99a1753">Instalación en Windows</h3>
<div class="outline-text-3" id="text-org99a1753">
<ul class="org-ul">
<li>Descarga el instalador desde [<a href="https://git-scm.com/">https://git-scm.com/</a>].</li>
</ul>



<ul class="org-ul">
<li>Haz clic en el botón “Download for Windows”.
<ul class="org-ul">
<li>Ejecuta el archivo descargado (.exe).</li>

<li>Configuración de las opciones recomendadas durante la instalación:
<ul class="org-ul">
<li>Seleccionar el editor por defecto (por ejemplo, Vim o Notepad++).</li>
<li>Usar Git desde la línea de comandos y aplicaciones de terceros (opción recomendada).</li>
<li>Opciones de formato de fin de línea: selecciona la opción predeterminada para Windows.</li>
</ul></li>

<li>Completa la instalación.</li>
<li>Verifica la instalación abriendo Git Bash o Command Prompt y ejecutando:</li>
</ul></li>
</ul>
<div class="org-src-container">
<pre class="src src-bash">git --version
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfd1f0d4" class="outline-3">
<h3 id="orgfd1f0d4">Instalación en macOS</h3>
<div class="outline-text-3" id="text-orgfd1f0d4">
</div>
<div id="outline-container-org9a7429a" class="outline-4">
<h4 id="org9a7429a">Método recomendado: usando Homebrew</h4>
<div class="outline-text-4" id="text-org9a7429a">
<ul class="org-ul">
<li>Si tienes Homebrew instalado, abre la terminal y ejecuta:</li>
</ul>
<div class="org-src-container">
<pre class="src src-bash">brew install git
</pre>
</div>
</div>
</div>

<div id="outline-container-org1997672" class="outline-4">
<h4 id="org1997672">Método alternativo: paquete descargado</h4>
<div class="outline-text-4" id="text-org1997672">
<ul class="org-ul">
<li>Descarga el instalador desde [<a href="https://git-scm.com/">https://git-scm.com/</a>].</li>
<li>Ejecuta el paquete descargado (.dmg).</li>
<li>Sigue las instrucciones de instalación.</li>

<li><p>
Verifica la instalación abriendo la terminal y ejecutando:
</p>
<div class="org-src-container">
<pre class="src src-bash">     git --version
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org144f1b9" class="outline-3">
<h3 id="org144f1b9">Instalación en Linux (Distribuciones basadas en Debian/Ubuntu)</h3>
<div class="outline-text-3" id="text-org144f1b9">
<ul class="org-ul">
<li><p>
Abre la terminal y ejecuta:
</p>
<div class="org-src-container">
<pre class="src src-bash">     sudo apt update
     sudo apt install git
</pre>
</div></li>

<li><p>
Verifica la instalación ejecutando:
</p>
<div class="org-src-container">
<pre class="src src-bash">     git --version
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org6d207f9" class="outline-3">
<h3 id="org6d207f9">Configuración básica de Git</h3>
<div class="outline-text-3" id="text-org6d207f9">
<ul class="org-ul">
<li><p>
Configura tu nombre de usuario:
</p>
<div class="org-src-container">
<pre class="src src-bash">     git config --global user.name <span style="color: #8b2252;">"Tu Nombre"</span>
</pre>
</div></li>

<li><p>
Configura tu correo electrónico:
</p>
<div class="org-src-container">
<pre class="src src-bash">     git config --global user.email <span style="color: #8b2252;">"tuemail@ejemplo.com"</span>
</pre>
</div></li>

<li><p>
Verifica la configuración:
</p>
<div class="org-src-container">
<pre class="src src-bash">     git config --list
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org4427188" class="outline-3">
<h3 id="org4427188">Actualización de Git</h3>
<div class="outline-text-3" id="text-org4427188">
<ul class="org-ul">
<li><b>Windows</b>: Ejecuta el instalador más reciente desde el sitio oficial.</li>
<li><p>
<b>macOS</b>: Ejecuta:
</p>
<div class="org-src-container">
<pre class="src src-bash">     brew upgrade git
</pre>
</div></li>
<li><p>
<b>Linux</b>: Ejecuta:
</p>
<div class="org-src-container">
<pre class="src src-bash">     sudo apt update &amp;&amp; sudo apt upgrade git
</pre>
</div></li>
</ul>
</div>
</div>



<div id="outline-container-org4868d03" class="outline-3">
<h3 id="org4868d03">Configurar Llave SSH con GitHub</h3>
<div class="outline-text-3" id="text-org4868d03">
</div>
<div id="outline-container-org0f19966" class="outline-4">
<h4 id="org0f19966">1. Verificar si ya tienes una llave SSH</h4>
<div class="outline-text-4" id="text-org0f19966">
<ul class="org-ul">
<li><p>
Abre la terminal y ejecuta el siguiente comando para verificar si ya tienes llaves SSH generadas:
</p>
<div class="org-src-container">
<pre class="src src-bash">     ls -al ~/.ssh
</pre>
</div></li>

<li>Si ves archivos como `id<sub>rsa</sub>` o `id<sub>ed25519</sub>`, ya tienes llaves SSH. Si no, continúa con el siguiente paso.</li>
</ul>
</div>
</div>

<div id="outline-container-org07956c2" class="outline-4">
<h4 id="org07956c2">2. Generar una nueva llave SSH</h4>
<div class="outline-text-4" id="text-org07956c2">
<ul class="org-ul">
<li><p>
Si no tienes una llave SSH, genera una nueva con el siguiente comando (puedes cambiar `ed25519` por `rsa` si lo prefieres):
</p>
<div class="org-src-container">
<pre class="src src-bash">     ssh-keygen -t ed25519 -C <span style="color: #8b2252;">"tuemail@ejemplo.com"</span>
</pre>
</div></li>

<li>Cuando se te pregunte por la ubicación del archivo, presiona `Enter` para usar la ubicación predeterminada (`~/.ssh/id<sub>ed25519</sub>`).</li>
<li>Puedes agregar una contraseña para proteger tu llave, pero también puedes dejarlo en blanco.</li>
</ul>
</div>
</div>

<div id="outline-container-org7c2ec7a" class="outline-4">
<h4 id="org7c2ec7a">3. Añadir la llave SSH al agente SSH</h4>
<div class="outline-text-4" id="text-org7c2ec7a">
<ul class="org-ul">
<li><p>
Para añadir tu nueva llave SSH al agente, asegúrate de que esté en ejecución:
</p>
<div class="org-src-container">
<pre class="src src-bash">     <span style="color: #483d8b;">eval</span> <span style="color: #8b2252;">"$(ssh-agent -s)"</span>
</pre>
</div></li>

<li><p>
Añade la llave SSH al agente:
</p>
<div class="org-src-container">
<pre class="src src-bash">     ssh-add ~/.ssh/id_ed25519
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org6a3ce5d" class="outline-4">
<h4 id="org6a3ce5d">4. Copiar la llave SSH pública</h4>
<div class="outline-text-4" id="text-org6a3ce5d">
<ul class="org-ul">
<li><p>
Copia el contenido de tu llave pública para añadirla a GitHub:
</p>
<div class="org-src-container">
<pre class="src src-bash">     cat ~/.ssh/id_ed25519.pub
</pre>
</div></li>

<li>Copia el texto que aparece en la terminal (comienza con `ssh-ed25519` o `ssh-rsa`).</li>
</ul>
</div>
</div>

<div id="outline-container-org8b06a45" class="outline-4">
<h4 id="org8b06a45">5. Añadir la llave SSH a GitHub</h4>
<div class="outline-text-4" id="text-org8b06a45">
<ul class="org-ul">
<li>Inicia sesión en tu cuenta de GitHub.</li>
<li>Ve a la sección de <b>Settings</b> (Configuración).</li>
<li>En el menú lateral izquierdo, selecciona <b><b>SSH and GPG keys</b></b>.</li>
<li>Haz clic en <b>New SSH key</b>.</li>
<li>Introduce un título para identificar la llave (por ejemplo, "Mi computadora personal") y pega la llave pública copiada en el campo correspondiente.</li>
<li>Haz clic en <b>Add SSH key</b>.</li>
</ul>
</div>
</div>

<div id="outline-container-org6a0f2d1" class="outline-4">
<h4 id="org6a0f2d1">6. Probar la conexión SSH con GitHub</h4>
<div class="outline-text-4" id="text-org6a0f2d1">
<ul class="org-ul">
<li><p>
Para verificar que todo está configurado correctamente, ejecuta el siguiente comando:
</p>
<div class="org-src-container">
<pre class="src src-bash">     ssh -T git@github.com
</pre>
</div></li>

<li>Si es la primera vez que te conectas, verás una advertencia preguntando si deseas continuar. Escribe `yes`.</li>
<li><p>
Si la conexión es exitosa, verás un mensaje similar a:
</p>
<blockquote>
<p>
Hi username! You've successfully authenticated, but GitHub does not provide shell access.
</p>
</blockquote></li>
</ul>
</div>
</div>

<div id="outline-container-orge135dfc" class="outline-4">
<h4 id="orge135dfc">7. Usar la conexión SSH en repositorios de GitHub</h4>
<div class="outline-text-4" id="text-orge135dfc">
<ul class="org-ul">
<li><p>
Para clonar un repositorio usando SSH, utiliza la URL SSH del repositorio:
</p>
<div class="org-src-container">
<pre class="src src-bash">     git clone git@github.com:usuario/repo.git
</pre>
</div></li>
</ul>
</div>
</div>
</div>



<div id="outline-container-org8d3fbc4" class="outline-3">
<h3 id="org8d3fbc4">Configurar Llave SSH con GitHub en Windows</h3>
<div class="outline-text-3" id="text-org8d3fbc4">
<ol class="org-ol">
<li>Git Bash: En Windows, utilizas Git Bash como terminal para ejecutar los comandos, en lugar de la terminal estándar de Linux o macOS.</li>

<li>Ruta de las llaves: En Git Bash, las rutas siguen el formato Unix (<i>c/Users/tu<sub>usuario</sub></i>.ssh/ en lugar de C:\Users\tu<sub>usuario\.ssh</sub>).</li>
</ol>
</div>



<div id="outline-container-org9f8861a" class="outline-4">
<h4 id="org9f8861a">1. Abrir Git Bash</h4>
<div class="outline-text-4" id="text-org9f8861a">
<ul class="org-ul">
<li>Abre <b><b>Git Bash</b></b> (es la terminal que se instala junto con Git en Windows).</li>
</ul>
</div>
</div>

<div id="outline-container-orge910a24" class="outline-4">
<h4 id="orge910a24">2. Verificar si ya tienes una llave SSH</h4>
<div class="outline-text-4" id="text-orge910a24">
<ul class="org-ul">
<li><p>
En la terminal de Git Bash, ejecuta el siguiente comando para ver si ya tienes llaves SSH generadas:
</p>
<div class="org-src-container">
<pre class="src src-bash">     ls -al ~/.ssh
</pre>
</div></li>

<li>Si ves archivos como `id<sub>rsa</sub>` o `id<sub>ed25519</sub>`, ya tienes llaves SSH. Si no, continúa con el siguiente paso.</li>
</ul>
</div>
</div>

<div id="outline-container-org59aab8b" class="outline-4">
<h4 id="org59aab8b">3. Generar una nueva llave SSH</h4>
<div class="outline-text-4" id="text-org59aab8b">
<ul class="org-ul">
<li><p>
Si no tienes una llave SSH, genera una nueva con el siguiente comando:
</p>
<div class="org-src-container">
<pre class="src src-bash">     ssh-keygen -t ed25519 -C <span style="color: #8b2252;">"tuemail@ejemplo.com"</span>
</pre>
</div></li>

<li>Cuando se te pregunte por la ubicación del archivo, presiona `Enter` para usar la ubicación predeterminada (`/c/Users/tu<sub>usuario</sub>/.ssh/id<sub>ed25519</sub>`).</li>
<li>Puedes agregar una contraseña para proteger tu llave, pero también puedes dejar el campo vacío si no deseas protegerla con una contraseña.</li>
</ul>
</div>
</div>

<div id="outline-container-org1b0baaf" class="outline-4">
<h4 id="org1b0baaf">4. Añadir la llave SSH al agente SSH</h4>
<div class="outline-text-4" id="text-org1b0baaf">
<ul class="org-ul">
<li><p>
Asegúrate de que el agente SSH esté en ejecución. En Git Bash, ejecuta:
</p>
<div class="org-src-container">
<pre class="src src-bash">     <span style="color: #483d8b;">eval</span> <span style="color: #8b2252;">"$(ssh-agent -s)"</span>
</pre>
</div></li>

<li><p>
Añade tu nueva llave SSH al agente:
</p>
<div class="org-src-container">
<pre class="src src-bash">     ssh-add ~/.ssh/id_ed25519
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgabcc4b2" class="outline-4">
<h4 id="orgabcc4b2">5. Copiar la llave SSH pública</h4>
<div class="outline-text-4" id="text-orgabcc4b2">
<ul class="org-ul">
<li><p>
Para añadir la llave SSH a GitHub, necesitas copiar tu llave pública. Ejecuta el siguiente comando en Git Bash:
</p>
<div class="org-src-container">
<pre class="src src-bash">     cat ~/.ssh/id_ed25519.pub
</pre>
</div></li>

<li>Copia el texto que aparece en la terminal, que comenzará con `ssh-ed25519` o `ssh-rsa`.</li>
</ul>
</div>
</div>

<div id="outline-container-orga0f3e7f" class="outline-4">
<h4 id="orga0f3e7f">6. Añadir la llave SSH a GitHub</h4>
<div class="outline-text-4" id="text-orga0f3e7f">
<ul class="org-ul">
<li>Abre tu navegador web e inicia sesión en GitHub.</li>
<li>Ve a la sección de <b>Settings</b> (Configuración).</li>
<li>En el menú lateral izquierdo, selecciona <b><b>SSH and GPG keys</b></b>.</li>
<li>Haz clic en <b>New SSH key</b>.</li>
<li>Ponle un título descriptivo (como "Mi computadora con Windows") y pega la llave pública copiada en el campo correspondiente.</li>
<li>Haz clic en <b>Add SSH key</b>.</li>
</ul>
</div>
</div>

<div id="outline-container-orgf8ac537" class="outline-4">
<h4 id="orgf8ac537">7. Probar la conexión SSH con GitHub</h4>
<div class="outline-text-4" id="text-orgf8ac537">
<ul class="org-ul">
<li><p>
Para asegurarte de que todo está correctamente configurado, prueba la conexión con GitHub desde Git Bash:
</p>
<div class="org-src-container">
<pre class="src src-bash">     ssh -T git@github.com
</pre>
</div></li>

<li>Si es la primera vez que te conectas, te pedirá confirmar la conexión escribiendo `yes`.</li>
<li><p>
Si todo está bien, deberías ver un mensaje como:
</p>
<blockquote>
<p>
Hi username! You've successfully authenticated, but GitHub does not provide shell access.
</p>
</blockquote></li>
</ul>
</div>
</div>

<div id="outline-container-orgcef3b87" class="outline-4">
<h4 id="orgcef3b87">8. Usar la conexión SSH en repositorios de GitHub</h4>
<div class="outline-text-4" id="text-orgcef3b87">
<ul class="org-ul">
<li><p>
Para clonar un repositorio usando la URL SSH, ejecuta:
</p>
<div class="org-src-container">
<pre class="src src-bash">     git clone git@github.com:usuario/repo.git
</pre>
</div></li>
</ul>
</div>
</div>
</div>




<div id="outline-container-orgc3eaab7" class="outline-3">
<h3 id="orgc3eaab7">Manual de Git en Windows</h3>
<div class="outline-text-3" id="text-orgc3eaab7">
</div>
<div id="outline-container-org3de07b0" class="outline-4">
<h4 id="org3de07b0">1. Instalar Git en Windows</h4>
<div class="outline-text-4" id="text-org3de07b0">
<ul class="org-ul">
<li>Visita [<a href="https://git-scm.com/">https://git-scm.com/</a>](<a href="https://git-scm.com/">https://git-scm.com/</a>) y descarga el instalador de Git para Windows.</li>
<li>Ejecuta el archivo descargado (.exe).</li>
<li>Durante la instalación, selecciona las opciones predeterminadas recomendadas.</li>
<li>Abre <b>Git Bash</b> al finalizar la instalación.</li>
</ul>
</div>
</div>

<div id="outline-container-org028aa49" class="outline-4">
<h4 id="org028aa49">2. Configurar Git</h4>
<div class="outline-text-4" id="text-org028aa49">
<ul class="org-ul">
<li>Abre <b>Git Bash</b> y ejecuta los siguientes comandos para configurar tu identidad:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git config --global user.name <span style="color: #8b2252;">"Tu Nombre"</span>
   git config --global user.email <span style="color: #8b2252;">"tuemail@ejemplo.com"</span>
</pre>
</div>

<ul class="org-ul">
<li>Para verificar la configuración:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git config --list
</pre>
</div>
</div>
</div>

<div id="outline-container-org6986243" class="outline-4">
<h4 id="org6986243">3. Clonar un repositorio</h4>
<div class="outline-text-4" id="text-org6986243">
<ul class="org-ul">
<li>Para clonar un repositorio desde GitHub, usa el siguiente comando:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git clone https://github.com/usuario/repo.git
</pre>
</div>

<p>
Esto descargará el repositorio a tu computadora.
</p>
</div>
</div>

<div id="outline-container-org320ac7b" class="outline-4">
<h4 id="org320ac7b">4. Comandos básicos de Git</h4>
<div class="outline-text-4" id="text-org320ac7b">
<ul class="org-ul">
<li><b>Verificar el estado del repositorio</b>:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git status
</pre>
</div>

<ul class="org-ul">
<li><b>Añadir archivos al área de preparación (staging)</b>:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git add nombre_de_archivo
</pre>
</div>

<ul class="org-ul">
<li>Para añadir todos los archivos modificados:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git add .
</pre>
</div>

<ul class="org-ul">
<li><b>Hacer un commit</b> (guardar los cambios localmente):</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git commit -m <span style="color: #8b2252;">"Mensaje de commit"</span>
</pre>
</div>

<ul class="org-ul">
<li><b>Enviar los cambios al repositorio remoto</b>:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git push
</pre>
</div>
</div>
</div>

<div id="outline-container-org78b9dfd" class="outline-4">
<h4 id="org78b9dfd">5. Actualizar el repositorio local</h4>
<div class="outline-text-4" id="text-org78b9dfd">
<ul class="org-ul">
<li>Para obtener los últimos cambios del repositorio remoto:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git pull
</pre>
</div>
</div>
</div>

<div id="outline-container-orgee72158" class="outline-4">
<h4 id="orgee72158">6. Crear y cambiar de ramas (branches)</h4>
<div class="outline-text-4" id="text-orgee72158">
<ul class="org-ul">
<li><b>Crear una nueva rama</b>:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git branch nombre_de_la_rama
</pre>
</div>

<ul class="org-ul">
<li><b>Cambiar a una rama existente</b>:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git checkout nombre_de_la_rama
</pre>
</div>

<ul class="org-ul">
<li><b>Crear y cambiar a una nueva rama</b>:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git checkout -b nombre_de_la_rama
</pre>
</div>
</div>
</div>

<div id="outline-container-org54c141e" class="outline-4">
<h4 id="org54c141e">7. Ver historial de commits</h4>
<div class="outline-text-4" id="text-org54c141e">
<ul class="org-ul">
<li>Para ver el historial de cambios del repositorio:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git log
</pre>
</div>

<ul class="org-ul">
<li>Para un historial más compacto:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git log --oneline
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbf62883" class="outline-4">
<h4 id="orgbf62883">8. Configurar una llave SSH</h4>
<div class="outline-text-4" id="text-orgbf62883">
<ul class="org-ul">
<li><b>Generar una llave SSH</b>:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   ssh-keygen -t ed25519 -C <span style="color: #8b2252;">"tuemail@ejemplo.com"</span>
</pre>
</div>

<ul class="org-ul">
<li><b>Añadir la llave al agente SSH</b>:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   <span style="color: #483d8b;">eval</span> <span style="color: #8b2252;">"$(ssh-agent -s)"</span>
   ssh-add ~/.ssh/id_ed25519
</pre>
</div>

<ul class="org-ul">
<li><b>Copiar la llave pública</b>:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   cat ~/.ssh/id_ed25519.pub
</pre>
</div>

<ul class="org-ul">
<li>Añádela a tu cuenta de GitHub en <b>Settings &gt; SSH and GPG keys</b>.</li>
</ul>
</div>
</div>
</div>
</div>


<div id="outline-container-org4d15c2d" class="outline-2">
<h2 id="org4d15c2d">Manual de Instalación de Python en Windows</h2>
<div class="outline-text-2" id="text-org4d15c2d">
</div>
<div id="outline-container-org89f076b" class="outline-3">
<h3 id="org89f076b">Paso 1: Descarga de Python</h3>
<div class="outline-text-3" id="text-org89f076b">
<ol class="org-ol">
<li>Abre el navegador web y visita el sitio: <a href="https://www.python.org">https://www.python.org</a>.</li>
<li>Ve a la pestaña "Downloads" y selecciona la versión más reciente para Windows.</li>
<li>Haz clic en el botón que dice "Download Python (versión actual)" para descargar el instalador de Python.</li>
</ol>
</div>
</div>

<div id="outline-container-orgde2dfa0" class="outline-3">
<h3 id="orgde2dfa0">Paso 2: Ejecutar el instalador</h3>
<div class="outline-text-3" id="text-orgde2dfa0">
<ol class="org-ol">
<li>Ejecuta el archivo descargado (.exe).</li>
<li>Asegúrate de marcar la opción <code>Add Python to PATH</code> antes de proceder con la instalación.</li>
<li>Haz clic en <code>Install Now</code> para instalar con la configuración predeterminada.</li>
<li>Espera a que finalice el proceso de instalación y verifica el mensaje de éxito.</li>
</ol>
</div>
</div>

<div id="outline-container-orgef97205" class="outline-3">
<h3 id="orgef97205">Paso 3: Verificación de la instalación</h3>
<div class="outline-text-3" id="text-orgef97205">
<ol class="org-ol">
<li>Abre la línea de comandos (cmd) escribiendo "cmd" en el menú de inicio.</li>
<li><p>
Verifica que Python se instaló correctamente ejecutando el siguiente comando:
</p>
<div class="org-src-container">
<pre class="src src-bash">      python --version
</pre>
</div></li>
<li><p>
Abre el intérprete de Python escribiendo <code>python</code> en la línea de comandos:
</p>
<div class="org-src-container">
<pre class="src src-bash">      python
</pre>
</div>
<p>
Si todo está bien, verás el prompt interactivo de Python (tres símbolos <code>&gt;&gt;&gt;</code>).
</p></li>
<li>Para salir del intérprete, escribe <code>exit()</code> o presiona <code>Ctrl + Z</code> seguido de <code>Enter</code>.</li>
</ol>
</div>
</div>

<div id="outline-container-org8624b42" class="outline-3">
<h3 id="org8624b42">Paso 4: Instalar pip y otros paquetes</h3>
<div class="outline-text-3" id="text-org8624b42">
<ol class="org-ol">
<li><p>
Verifica si pip está instalado escribiendo en la línea de comandos:
</p>
<div class="org-src-container">
<pre class="src src-bash">      pip --version
</pre>
</div></li>
<li><p>
Si necesitas instalar paquetes, usa pip con el siguiente comando:
</p>
<div class="org-src-container">
<pre class="src src-bash">      pip install nombre_paquete
</pre>
</div></li>
</ol>
</div>
</div>

<div id="outline-container-org9e79920" class="outline-3">
<h3 id="org9e79920">Paso 5: Configuración del entorno de desarrollo</h3>
<div class="outline-text-3" id="text-org9e79920">
<ol class="org-ol">
<li>Instala un editor de código como:
<ul class="org-ul">
<li><a href="https://code.visualstudio.com">Visual Studio Code</a></li>
<li><a href="https://www.jetbrains.com/pycharm/">PyCharm</a></li>
</ul></li>
<li>Configura el editor instalando las extensiones de Python. En Visual Studio Code, busca la extensión "Python" en el panel de extensiones.</li>
</ol>
</div>
</div>

<div id="outline-container-orge9b3941" class="outline-3">
<h3 id="orge9b3941">Paso 6: Actualización de Python (opcional)</h3>
<div class="outline-text-3" id="text-orge9b3941">
<ul class="org-ul">
<li>Para actualizar Python a una nueva versión en el futuro, descarga la última versión desde <a href="https://www.python.org/downloads/">python.org</a> y sigue los pasos de instalación.</li>
</ul>
</div>
</div>
</div>



<div id="outline-container-org4eab63c" class="outline-2">
<h2 id="org4eab63c">Entornos Virtuales en Python</h2>
<div class="outline-text-2" id="text-org4eab63c">
</div>
<div id="outline-container-orgbf7bb2c" class="outline-3">
<h3 id="orgbf7bb2c">¿Qué es un Entorno Virtual?</h3>
<div class="outline-text-3" id="text-orgbf7bb2c">
<p>
Un <b>entorno virtual</b> es una herramienta que permite crear un espacio
aislado para instalar dependencias específicas de un proyecto en
Python. Esto evita conflictos entre paquetes de diferentes proyectos.
</p>
</div>
</div>

<div id="outline-container-org5a72962" class="outline-3">
<h3 id="org5a72962">Preparación: Instalación de Python y Visual Studio Code</h3>
<div class="outline-text-3" id="text-org5a72962">
<ol class="org-ol">
<li><p>
Asegúrate de tener Python instalado en tu sistema. Puedes verificarlo con:
</p>
<div class="org-src-container">
<pre class="src src-sh">   python --version
</pre>
</div></li>
<li>Descarga e instala [Visual Studio Code](<a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a>).</li>
<li>Instala la extensión de <b>Python</b> en VS Code para habilitar características avanzadas, como la detección de entornos virtuales, depuración, y autocompletado.</li>
</ol>
</div>
</div>

<div id="outline-container-orge32f5a6" class="outline-3">
<h3 id="orge32f5a6">Crear un Entorno Virtual</h3>
<div class="outline-text-3" id="text-orge32f5a6">
<p>
Para crear un entorno virtual en la carpeta de tu proyecto:
</p>

<ol class="org-ol">
<li>Abre la terminal integrada en VS Code (menú <b>Terminal &gt; New Terminal</b>).</li>
<li><p>
Usa el siguiente comando para crear el entorno virtual:
</p>
<div class="org-src-container">
<pre class="src src-sh">   python -m venv nombre_entorno
</pre>
</div>
<ul class="org-ul">
<li>Sustituye <b>nombre<sub>entorno</sub></b> con el nombre que quieras para el entorno virtual, como `env` o `venv`.</li>
</ul></li>
</ol>
</div>
</div>

<div id="outline-container-org87bf433" class="outline-3">
<h3 id="org87bf433">Activar el Entorno Virtual</h3>
<div class="outline-text-3" id="text-org87bf433">
<p>
Para activar el entorno virtual en la terminal de VS Code:
</p>

<ul class="org-ul">
<li><p>
En Linux/macOS:
</p>
<div class="org-src-container">
<pre class="src src-sh">  <span style="color: #483d8b;">source</span> nombre_entorno/bin/activate
</pre>
</div></li>

<li><p>
En Windows:
</p>
<div class="org-src-container">
<pre class="src src-sh">  .\nombre_entorno\Scripts\activate
</pre>
</div></li>
</ul>

<p>
Cuando el entorno esté activado, verás el nombre del entorno en la terminal.
</p>
</div>
</div>

<div id="outline-container-orgbb5bdff" class="outline-3">
<h3 id="orgbb5bdff">Configurar el Entorno Virtual en Visual Studio Code</h3>
<div class="outline-text-3" id="text-orgbb5bdff">
<p>
Para que VS Code use el entorno virtual para ejecutar el código y detectar dependencias:
</p>

<ol class="org-ol">
<li>Presiona `Ctrl+Shift+P` (o `Cmd+Shift+P` en macOS) para abrir la <b>Command Palette</b>.</li>
<li>Busca y selecciona `Python: Select Interpreter`.</li>
<li>En la lista de intérpretes, selecciona el que corresponde a tu
entorno virtual (debería tener el nombre del entorno que creaste).</li>
</ol>
</div>
</div>

<div id="outline-container-org038ee47" class="outline-3">
<h3 id="org038ee47">Instalar Paquetes en el Entorno Virtual</h3>
<div class="outline-text-3" id="text-org038ee47">
<p>
Con el entorno activado en la terminal de VS Code, puedes instalar paquetes con `pip`:
</p>

<div class="org-src-container">
<pre class="src src-sh">pip install nombre_paquete
</pre>
</div>
</div>
</div>

<div id="outline-container-org9486a75" class="outline-3">
<h3 id="org9486a75">Administrar Paquetes</h3>
<div class="outline-text-3" id="text-org9486a75">
<p>
Para ver los paquetes instalados en el entorno virtual:
</p>

<div class="org-src-container">
<pre class="src src-sh">pip list
</pre>
</div>

<p>
También puedes usar el archivo <b>requirements.txt</b> para gestionar dependencias del proyecto. Para crearlo:
</p>

<ol class="org-ol">
<li><p>
Ejecuta:
</p>
<div class="org-src-container">
<pre class="src src-sh">   pip freeze &gt; requirements.txt
</pre>
</div></li>

<li><p>
Para instalar todas las dependencias listadas en <b>requirements.txt</b> en otro entorno, usa:
</p>
<div class="org-src-container">
<pre class="src src-sh">   pip install -r requirements.txt
</pre>
</div></li>
</ol>
</div>
</div>

<div id="outline-container-org7d0fd1f" class="outline-3">
<h3 id="org7d0fd1f">Desactivar el Entorno Virtual</h3>
<div class="outline-text-3" id="text-org7d0fd1f">
<p>
Para desactivar el entorno virtual en la terminal, ejecuta:
</p>

<div class="org-src-container">
<pre class="src src-sh">deactivate
</pre>
</div>
</div>
</div>

<div id="outline-container-orga069961" class="outline-3">
<h3 id="orga069961">Eliminar el Entorno Virtual</h3>
<div class="outline-text-3" id="text-orga069961">
<p>
Si deseas eliminar el entorno virtual, puedes simplemente borrar la carpeta:
</p>

<div class="org-src-container">
<pre class="src src-sh">rm -rf nombre_entorno
</pre>
</div>
</div>
</div>


<div id="outline-container-org44b1c49" class="outline-3">
<h3 id="org44b1c49">Consejos Adicionales para VS Code</h3>
<div class="outline-text-3" id="text-org44b1c49">
<ul class="org-ul">
<li><p>
<b><b>Terminal automática</b></b>: Cuando creas y activas un entorno en VS Code, puedes configurar el archivo `.vscode/settings.json` para que VS Code lo active automáticamente en cada terminal nueva:
</p>
<div class="org-src-container">
<pre class="src src-json">  {
    "python.venvPath": "${workspaceFolder}/nombre_entorno",
    "python.defaultInterpreterPath": "${workspaceFolder}/nombre_entorno/bin/python"
  }
</pre>
</div></li>
</ul>
</div>
</div>
</div>







<div id="outline-container-orgdaea50e" class="outline-2">
<h2 id="orgdaea50e">Entornos virtuales en Python (Windows + VS Code)</h2>
<div class="outline-text-2" id="text-orgdaea50e">
</div>
<div id="outline-container-orgfd453cc" class="outline-3">
<h3 id="orgfd453cc">1. ¿Qué es un entorno virtual?</h3>
<div class="outline-text-3" id="text-orgfd453cc">
<p>
Un entorno virtual (venv) es un espacio aislado para instalar librerías
sin afectar el Python del sistema ni otros proyectos.
</p>

<p>
Cada proyecto debe tener su propio venv para evitar conflictos.
</p>
</div>
</div>

<div id="outline-container-orgac0e9f7" class="outline-3">
<h3 id="orgac0e9f7">2. Requisitos previos</h3>
<div class="outline-text-3" id="text-orgac0e9f7">
<ul class="org-ul">
<li>Tener Python instalado (&gt;= 3.6 recomendado).</li>
<li><p>
Verificar en la terminal (CMD o PowerShell):
</p>

<div class="org-src-container">
<pre class="src src-powershell">  python --version
  pip --version
</pre>
</div></li>
</ul>

<p>
Si no aparecen, asegúrate de que Python esté en el PATH de Windows.
</p>
</div>
</div>

<div id="outline-container-org23b514b" class="outline-3">
<h3 id="org23b514b">3. Crear un entorno virtual</h3>
<div class="outline-text-3" id="text-org23b514b">
<p>
Dentro de la carpeta de tu proyecto, ejecuta:
</p>

<div class="org-src-container">
<pre class="src src-powershell">python -m venv venv
</pre>
</div>

<p>
Esto creará una carpeta llamada <code>venv/</code>.  
Dentro estarán los binarios y scripts de activación.
</p>
</div>
</div>

<div id="outline-container-org9847f90" class="outline-3">
<h3 id="org9847f90">4. Activar el entorno virtual</h3>
<div class="outline-text-3" id="text-org9847f90">
<p>
Según la terminal que uses en Windows:
</p>

<ul class="org-ul">
<li><p>
CMD:
</p>
<div class="org-src-container">
<pre class="src src-cmd">  venv\Scripts\activate.bat
</pre>
</div></li>

<li><p>
PowerShell:
</p>
<div class="org-src-container">
<pre class="src src-powershell">  .\venv\Scripts\Activate.ps1
</pre>
</div></li>

<li><p>
Git Bash (si lo usas):
</p>
<div class="org-src-container">
<pre class="src src-sh">  <span style="color: #483d8b;">source</span> venv/Scripts/activate
</pre>
</div></li>
</ul>

<p>
Cuando está activo verás algo como:
<code>(venv) C:\Users\TuUsuario\proyecto&gt;</code>
</p>
</div>
</div>

<div id="outline-container-orgced03b7" class="outline-3">
<h3 id="orgced03b7">5. Problema común: PowerShell bloquea Activate.ps1</h3>
<div class="outline-text-3" id="text-orgced03b7">
<p>
Por seguridad, PowerShell no permite ejecutar scripts .ps1.
</p>

<p>
Verás un error como:
</p>
<pre class="example" id="orgf118575">
Execution Policy restricts running scripts
</pre>

<p>
Para solucionarlo (solo una vez):
</p>

<ol class="org-ol">
<li>Abre PowerShell como Administrador.</li>
<li><p>
Ejecuta:
</p>
<div class="org-src-container">
<pre class="src src-powershell">   Set-ExecutionPolicy -Scope CurrentUser -ExecutionPolicy RemoteSigned
</pre>
</div></li>
</ol>

<p>
Esto permite ejecutar scripts locales como Activate.ps1.
</p>
</div>
</div>

<div id="outline-container-org80562b0" class="outline-3">
<h3 id="org80562b0">6. Desactivar el entorno virtual</h3>
<div class="outline-text-3" id="text-org80562b0">
<p>
Para salir del entorno:
</p>
<div class="org-src-container">
<pre class="src src-powershell">deactivate
</pre>
</div>
</div>
</div>

<div id="outline-container-orgad891ac" class="outline-3">
<h3 id="orgad891ac">7. Instalar paquetes dentro del entorno</h3>
<div class="outline-text-3" id="text-orgad891ac">
<p>
Ejemplo:
</p>
<div class="org-src-container">
<pre class="src src-powershell">pip install requests
</pre>
</div>

<p>
Guardar dependencias en un archivo:
</p>
<div class="org-src-container">
<pre class="src src-powershell">pip freeze &gt; requirements.txt
</pre>
</div>

<p>
Instalarlas en otro entorno:
</p>
<div class="org-src-container">
<pre class="src src-powershell">pip install -r requirements.txt
</pre>
</div>
</div>
</div>

<div id="outline-container-org6879de1" class="outline-3">
<h3 id="org6879de1">8. Integrar el entorno en VS Code</h3>
<div class="outline-text-3" id="text-org6879de1">
<ol class="org-ol">
<li>Instalar la extensión <b><b>Python (Microsoft)</b></b>.</li>
<li>Abrir la carpeta del proyecto en VS Code.</li>
<li><code>Ctrl+Shift+P</code> → escribir "Python: Select Interpreter".
Si no aparece, configurarlo manualmente (ver abajo).</li>
<li>Seleccionar el intérprete de <code>venv\Scripts\python.exe</code>.</li>
</ol>
</div>
</div>

<div id="outline-container-org2d96c4c" class="outline-3">
<h3 id="org2d96c4c">9. Configuración manual en settings.json</h3>
<div class="outline-text-3" id="text-org2d96c4c">
<p>
Si VS Code no detecta el intérprete, forzar la ruta en
<code>/.vscode/settings.json</code>:
</p>

<div class="org-src-container">
<pre class="src src-json">{
    "python.defaultInterpreterPath": "C:\\Users\\TuUsuario\\proyecto\\venv\\Scripts\\python.exe",
    "python.terminal.activateEnvironment": true
}
</pre>
</div>
</div>
</div>

<div id="outline-container-org3cf2961" class="outline-3">
<h3 id="org3cf2961">10. Diferencias entre los scripts de activación</h3>
<div class="outline-text-3" id="text-org3cf2961">
<p>
Dentro de <code>venv\Scripts</code> verás varios archivos:
</p>

<ul class="org-ul">
<li><code>activate.bat</code> → Para CMD.</li>
<li><code>Activate.ps1</code> → Para PowerShell.</li>
<li><code>activate</code> (sin extensión) → Para Git Bash / WSL.</li>
<li><code>deactivate.bat</code> → Desactiva el entorno en CMD.</li>
</ul>

<p>
Debes usar el que corresponda a tu terminal actual.
</p>
</div>
</div>

<div id="outline-container-org39af930" class="outline-3">
<h3 id="org39af930">11. Buenas prácticas</h3>
<div class="outline-text-3" id="text-org39af930">
<ul class="org-ul">
<li>Un venv por proyecto.</li>
<li>Incluir <code>venv/</code> en el .gitignore si usas Git.</li>
<li>Siempre usar requirements.txt para compartir dependencias.</li>
<li>Activar el entorno desde la terminal integrada de VS Code.</li>
</ul>
</div>
</div>

<div id="outline-container-org54adf49" class="outline-3">
<h3 id="org54adf49">12. Ejemplo de flujo completo</h3>
<div class="outline-text-3" id="text-org54adf49">
<ol class="org-ol">
<li><p>
Crear proyecto:
</p>
<div class="org-src-container">
<pre class="src src-powershell">   mkdir mi_proyecto
   cd mi_proyecto
   python -m venv venv
</pre>
</div></li>

<li><p>
Activar entorno:
</p>
<div class="org-src-container">
<pre class="src src-powershell">   .\venv\Scripts\Activate.ps1
</pre>
</div></li>

<li><p>
Instalar dependencias:
</p>
<div class="org-src-container">
<pre class="src src-powershell">   pip install requests flask
   pip freeze &gt; requirements.txt
</pre>
</div></li>

<li><p>
Configurar VS Code en <code>.vscode/settings.json</code>:
</p>
<div class="org-src-container">
<pre class="src src-json">   {
       "python.defaultInterpreterPath": "${workspaceFolder}\\.venv\\Scripts\\python.exe",
       "python.analysis.extraPaths": ["${workspaceFolder}"],
       "python.terminal.activateEnvironment": true
   }
</pre>
</div></li>

<li><p>
Probar en VS Code:
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #f2f2f2;"> </span>  <span style="color: #a020f0;">import</span> requests
<span style="background-color: #f2f2f2;"> </span>  <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Hola desde el venv!"</span><span style="color: #707183;">)</span>
</pre>
</div></li>
</ol>
</div>
</div>
</div>






<div id="outline-container-org5e347d3" class="outline-2">
<h2 id="org5e347d3">Introducción a la Graficación por computadora</h2>
<div class="outline-text-2" id="text-org5e347d3">
</div>
<div id="outline-container-org84fcf3d" class="outline-3">
<h3 id="org84fcf3d">Graficación por Computadora</h3>
<div class="outline-text-3" id="text-org84fcf3d">
<p>
La  Graficación por Computadora (o simplemente Graficación)
se enfoca en el estudio y aplicación de técnicas, algoritmos y
herramientas para la generación y manipulación de imágenes digitales
mediante el uso de computadoras. Es una rama de la informática que
combina conceptos de matemáticas, física y programación para crear
imágenes, animaciones y efectos visuales. A continuación, te describo
los aspectos clave de esta disciplina:
</p>
</div>

<div id="outline-container-org1830d9d" class="outline-4">
<h4 id="org1830d9d">Objetivos de la Graficación por Computadora</h4>
<div class="outline-text-4" id="text-org1830d9d">
<ol class="org-ol">
<li><b>Generación de imágenes</b>: Crear imágenes digitales a partir de descripciones matemáticas y geométricas de objetos, en 2D y 3D.</li>
<li><b>Modelado de objetos</b>: Crear representaciones matemáticas de objetos y escenas usando técnicas como polígonos, mallas y curvas.</li>
<li><b>Renderizado</b>: Convertir representaciones matemáticas en imágenes visuales, simulando iluminación, sombras y texturas.</li>
<li><b>Transformaciones geométricas</b>: Aplicar traslaciones, rotaciones, escalados y proyecciones a objetos en sistemas de coordenadas 2D y 3D.</li>
<li><b>Iluminación y sombreado</b>: Simular cómo la luz interactúa con los objetos para crear efectos realistas.</li>
<li><b>Animación</b>: Generar secuencias de imágenes que cambian a lo largo del tiempo, incluyendo movimientos y simulaciones físicas.</li>
<li><b>Texturizado</b>: Aplicar imágenes (texturas) sobre superficies para dar detalles visuales sin aumentar la complejidad geométrica.</li>
<li><b>Interacción gráfica</b>: Estudiar técnicas para interactuar con imágenes o modelos gráficos, como interfaces gráficas, realidad aumentada o virtual.</li>
</ol>
</div>
</div>

<div id="outline-container-orgd95dfc9" class="outline-4">
<h4 id="orgd95dfc9">Áreas de estudio en Graficación por Computadora</h4>
<div class="outline-text-4" id="text-orgd95dfc9">
<ol class="org-ol">
<li><b>Matemáticas</b>: Uso de geometría y álgebra lineal para realizar transformaciones geométricas y modelar objetos.</li>
<li><b>Programación</b>: Conocimiento de lenguajes como C++, Python, GLSL y HLSL para implementar algoritmos gráficos.</li>
<li><b>Algoritmos gráficos</b>: Estudio de algoritmos como el trazado de rayos (ray tracing), rasterización y z-buffering.</li>
<li><b>Herramientas gráficas</b>: Uso de APIs como OpenGL, DirectX o Vulkan para crear gráficos y animaciones.</li>
<li><b>Física aplicada</b>: Simulación de fenómenos físicos como gravedad y movimiento para generar gráficos realistas.</li>
</ol>
</div>
</div>

<div id="outline-container-org20ab2f6" class="outline-4">
<h4 id="org20ab2f6">Aplicaciones de la Graficación por Computadora</h4>
<div class="outline-text-4" id="text-org20ab2f6">
<ul class="org-ul">
<li><b>Videojuegos</b>: Creación de ambientes, personajes y efectos visuales.</li>
<li><b>Cine y efectos visuales</b>: Creación de efectos especiales y animación por computadora.</li>
<li><b>Diseño industrial y arquitectónico</b>: Modelado y visualización de prototipos y estructuras.</li>
<li><b>Simulaciones</b>: Uso en medicina, aeronáutica y otras industrias para crear simulaciones realistas.</li>
<li><b>Realidad virtual y aumentada</b>: Generación de entornos interactivos virtuales.</li>
</ul>
</div>
</div>

<div id="outline-container-org930f302" class="outline-4">
<h4 id="org930f302">Temas principales en Graficación por Computadora</h4>
<div class="outline-text-4" id="text-org930f302">
<ul class="org-ul">
<li><b>Modelado 2D y 3D</b></li>
<li><b>Algoritmos de rasterización</b></li>
<li><b>Transformaciones y proyecciones</b></li>
<li><b>Renderizado y sombreado</b></li>
<li><b>Texturizado</b></li>
<li><b>Iluminación global y local</b></li>
<li><b>Técnicas de animación</b></li>
<li><b>Programación de shaders</b></li>
<li><b>Interacción gráfica y diseño de interfaces</b></li>
</ul>
</div>
</div>
</div>



<div id="outline-container-org2bebd2f" class="outline-3">
<h3 id="org2bebd2f">¿Qué es una imagen? (definición formal)</h3>
<div class="outline-text-3" id="text-org2bebd2f">
<p>
Una <b>imagen digital</b> puede verse como una función discreta bidimensional:
\[
I : D \subset \mathbb{Z}^2 \to \mathbb{R}^k
\]
donde \(D=\{0,\dots,M-1\}\times\{0,\dots,N-1\}\) es la malla de píxeles y \(k\) es el número de canales:
</p>
<ul class="org-ul">
<li>Escala de grises: \(k=1\), \(I(x,y)\in[0,L-1]\).</li>
<li>Color RGB: \(k=3\), \(I(x,y)=(R,G,B)\), con cada canal en \([0,L-1]\).</li>
</ul>
</div>

<div id="outline-container-org2324af4" class="outline-4">
<h4 id="org2324af4">Imagen continua, muestreo y cuantización</h4>
<div class="outline-text-4" id="text-org2324af4">
<ul class="org-ul">
<li><b>Modelo continuo</b>: \(f:\mathbb{R}^2\to\mathbb{R}\).</li>
<li><b>Muestreo espacial</b> (pasos \(T_x,T_y\)):</li>
</ul>
<p>
\[
I[m,n]=f(mT_x,nT_y),\quad m,n\in\mathbb{Z}.
\]
</p>
<ul class="org-ul">
<li><b>Cuantización</b> (niveles \(L\)):</li>
</ul>
<p>
\[
Q(I)=\operatorname{round}\!\left(\frac{L-1}{I_{\max}-I_{\min}}(I-I_{\min})\right).
\]
</p>
<ul class="org-ul">
<li><b>Criterio de Nyquist</b> (no aliasing): la frecuencia de muestreo debe ser al menos el doble de la frecuencia espacial máxima del contenido.</li>
</ul>
</div>
</div>

<div id="outline-container-org5cc9717" class="outline-4">
<h4 id="org5cc9717">Representación matricial y tensores</h4>
<div class="outline-text-4" id="text-org5cc9717">
<p>
Una imagen gris \(M\times N\) es una matriz:
\[
I=\big[I(m,n)\big]_{m=0..M-1,\;n=0..N-1}.
\]
Una imagen RGB es un tensor \(M\times N\times 3\) o, equivalentemente, tres matrices \(R,G,B\).
</p>
</div>
</div>

<div id="outline-container-org1b50240" class="outline-4">
<h4 id="org1b50240">Transformaciones de intensidad (píxel a píxel)</h4>
<div class="outline-text-4" id="text-org1b50240">
<ul class="org-ul">
<li><b>Brillo</b>:</li>
</ul>
<p>
\[
I'(x,y)=I(x,y)+\beta.
\]
</p>
<ul class="org-ul">
<li><b>Contraste lineal</b>:</li>
</ul>
<p>
\[
I'(x,y)=\alpha\,I(x,y)+\beta.
\]
</p>
<ul class="org-ul">
<li><b>Clampeo</b> (saturación a \([0,L-1]\)):</li>
</ul>
<p>
\[
I''(x,y)=\min(\max(I'(x,y),0),L-1).
\]
</p>
</div>
</div>

<div id="outline-container-org4c13ec9" class="outline-4">
<h4 id="org4c13ec9">Color: modelos y conversiones</h4>
<div class="outline-text-4" id="text-org4c13ec9">
</div>
<ul class="org-ul">
<li><a id="org52d34c5"></a>De RGB a escala de grises (luminancia aproximada)<br />
<div class="outline-text-5" id="text-org52d34c5">
<p>
\[
Y \approx 0.2126\,R + 0.7152\,G + 0.0722\,B.
\]
</p>
</div>
</li>
<li><a id="org35d7e1f"></a>Transformación lineal genérica<br />
<div class="outline-text-5" id="text-org35d7e1f">
<p>
\[
</p>
\begin{bmatrix} C_1\\ C_2\\ C_3\end{bmatrix}
<p>
=
\mathbf{M}
</p>
\begin{bmatrix} R\\ G\\ B\end{bmatrix}
<ul class="org-ul">
<li></li>
</ul>
<p>
\mathbf{b},
\]
con \(\mathbf{M}\in\mathbb{R}^{3\times 3}\), \(\mathbf{b}\in\mathbb{R}^3\). (Ej.: RGB↔YCbCr, RGB↔XYZ.)
</p>
</div>
</li>

<li><a id="orgdbfcaed"></a>Geometría de imágenes (transformaciones espaciales)<br />
<div class="outline-text-5" id="text-orgdbfcaed">
<p>
Una transformación geométrica mueve coordenadas:
\[
(x',y')=T(x,y).
\]
</p>
</div>
</li>
<li><a id="org5342f06"></a>Afin (matriz \(2\times2\) + traslación)<br />
<div class="outline-text-5" id="text-org5342f06">
<p>
\[
</p>
\begin{bmatrix}x'\\y'\end{bmatrix}
<p>
=
\underbrace{\begin{bmatrix}a&amp;b\\c&amp;d\end{bmatrix}}<sub>\text{rotación+escala+cisalla}</sub>
</p>
\begin{bmatrix}x\\y\end{bmatrix}
<ul class="org-ul">
<li></li>
</ul>
<p>
\begin{bmatrix}t<sub>x\\t</sub><sub>y\end</sub>{bmatrix}.
\]
</p>
</div>
</li>
<li><a id="orgbbbd780"></a>Homografía (proyectiva) con coordenadas homogéneas<br />
<div class="outline-text-5" id="text-orgbbbd780">
<p>
\[
\lambda\begin{bmatrix}x'\\y'\\1\end{bmatrix}
=
\mathbf{H}
\begin{bmatrix}x\\y\\1\end{bmatrix},\quad \mathbf{H}\in\mathbb{R}^{3\times3}.
\]
</p>
</div>
</li>
<li><a id="orgc73d427"></a>Interpolación (para muestrear \(I\) en coordenadas no enteras)<br />
<div class="outline-text-5" id="text-orgc73d427">
<ul class="org-ul">
<li><b>Vecino más cercano</b>: \(I'(x',y')=I(\operatorname{round}(x),\operatorname{round}(y))\).</li>
<li><b>Bilineal</b>:</li>
</ul>
<p>
\[
I'(x',y')
= \sum_{i\in\{0,1\}}\sum_{j\in\{0,1\}} w_{ij}\, I(\lfloor x\rfloor+i,\lfloor y\rfloor+j),
\]
con pesos \(w_{ij}\) que dependen de las distancias fraccionales.
</p>
<ul class="org-ul">
<li><b>Bicúbica</b>: combinación cúbica 1D por filas y columnas.</li>
</ul>
</div>
</li>
</ul>
</div>

<div id="outline-container-org61f4a54" class="outline-4">
<h4 id="org61f4a54">Filtrado espacial (convolución) y operadores diferenciales</h4>
<div class="outline-text-4" id="text-org61f4a54">
</div>
<ul class="org-ul">
<li><a id="org328d441"></a>Convolución discreta 2D<br />
<div class="outline-text-5" id="text-org328d441">
<p>
\[
(I * h)(x,y) = \sum_{u}\sum_{v} I(x-u,y-v)\,h(u,v).
\]
</p>
</div>
</li>
<li><a id="orga5aa1c8"></a>Nucleos frecuentes (ejemplos)<br />
<div class="outline-text-5" id="text-orga5aa1c8">
<ul class="org-ul">
<li><b>Media (blur) \(3\times3\)</b>:</li>
</ul>
<p>
\[
h=\frac{1}{9}\begin{bmatrix}1&1&1\\1&1&1\\1&1&1\end{bmatrix}.
\]
</p>
<ul class="org-ul">
<li><b>Gaussiano</b> (continua):</li>
</ul>
<p>
\[
G_\sigma(x,y)=\frac{1}{2\pi\sigma^2}\exp\!\left(-\frac{x^2+y^2}{2\sigma^2}\right).
\]
</p>
<ul class="org-ul">
<li><b>Sobel (gradiente)</b>:</li>
</ul>
<p>
\[
S_x=\begin{bmatrix}-1&0&1\\-2&0&2\\-1&0&1\end{bmatrix},\quad
S_y=\begin{bmatrix}-1&-2&-1\\0&0&0\\1&2&1\end{bmatrix}.
\]
</p>
</div>
</li>
<li><a id="org26dd8af"></a>Magnitud y dirección del gradiente<br />
<div class="outline-text-5" id="text-org26dd8af">
<p>
\[
\nabla I = (I_x,I_y),\quad
\|\nabla I\| = \sqrt{I_x^2+I_y^2},\quad
\theta=\operatorname{atan2}(I_y,I_x).
\]
</p>
</div>
</li>
<li><a id="orge0a1567"></a>Laplaciano (detector de bordes)<br />
<div class="outline-text-5" id="text-orge0a1567">
<p>
\[
\nabla^2 I \approx
\begin{bmatrix}0&1&0\\1&-4&1\\0&1&0\end{bmatrix} * I
\quad\text{o}\quad
\begin{bmatrix}1&1&1\\1&-8&1\\1&1&1\end{bmatrix} * I.
\]
</p>
</div>
</li>
<li><a id="orga21eb0d"></a>LoG (Laplaciano de Gauss) — <b>suaviza y deriva</b><br />
<div class="outline-text-5" id="text-orga21eb0d">
<p>
\[
\text{LoG}_\sigma = \nabla^2(G_\sigma * I) = (\nabla^2 G_\sigma) * I.
\]
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-orgc99b800" class="outline-4">
<h4 id="orgc99b800">Dominio de la frecuencia (DFT 2D)</h4>
</div>
<div id="outline-container-org8b6baab" class="outline-4">
<h4 id="org8b6baab">Transformada discreta de Fourier 2D</h4>
<div class="outline-text-4" id="text-org8b6baab">
<p>
\[
F(u,v)=\sum_{x=0}^{M-1}\sum_{y=0}^{N-1}
I(x,y)\,e^{-j2\pi\left(\frac{ux}{M}+\frac{vy}{N}\right)}.
\]
</p>
</div>
<ul class="org-ul">
<li><a id="org5b548b8"></a>Inversa<br />
<div class="outline-text-5" id="text-org5b548b8">
<p>
\[
I(x,y)=\frac{1}{MN}\sum_{u=0}^{M-1}\sum_{v=0}^{N-1}
F(u,v)\,e^{+j2\pi\left(\frac{ux}{M}+\frac{vy}{N}\right)}.
\]
</p>
</div>
</li>
<li><a id="org6df6db2"></a>Relación con convolución<br />
<div class="outline-text-5" id="text-org6df6db2">
<p>
\[
\mathcal{F}\{I*h\} = \mathcal{F}\{I\}\cdot \mathcal{F}\{h\}.
\]
Filtros paso-bajo/alto pueden definirse multiplicando en frecuencia.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-orge9e87f2" class="outline-4">
<h4 id="orge9e87f2">Formación de imagen (modelo pinhole simplificado)</h4>
<div class="outline-text-4" id="text-orge9e87f2">
</div>
<ul class="org-ul">
<li><a id="org7dc1bb4"></a>Proyección perspectiva<br />
<div class="outline-text-5" id="text-org7dc1bb4">
<p>
\[
&lambda;
</p>
\begin{bmatrix}x\\y\\1\end{bmatrix}
<p>
=n
\mathbf{K}\,[\,\mathbf{R}\mid\mathbf{t}\,]
\begin{bmatrix}X\\Y\\Z\\1\end{bmatrix},
\quad
\mathbf{K}=
\begin{bmatrix}f<sub>x</sub>&amp;0&amp;c<sub>x\\0</sub>&amp;f<sub>y</sub>&amp;c<sub>y\\0</sub>&amp;0&amp;1\end{bmatrix}.
\]
\( (X,Y,Z) \) son coordenadas 3D; \( (x,y) \) coordenadas de imagen;
\(\mathbf{K}\) = parámetros intrínsecos; \(\mathbf{R},\mathbf{t}\) = pose de la cámara.
</p>
</div>
</li>
</ul>
</div>
<div id="outline-container-org64872da" class="outline-4">
<h4 id="org64872da">Iluminación lambertiana (intensidad difusa)</h4>
<div class="outline-text-4" id="text-org64872da">
<p>
\[
I \propto \rho\,(\mathbf{n}\cdot\mathbf{l}),
\]
albedo \(\rho\), normal \(\mathbf{n}\), dirección de luz \(\mathbf{l}\).
</p>
</div>
</div>

<div id="outline-container-orgd5b5ec1" class="outline-4">
<h4 id="orgd5b5ec1">Estadística básica de intensidades (útil para normalización)</h4>
<div class="outline-text-4" id="text-orgd5b5ec1">
<ul class="org-ul">
<li><b>Media</b>:</li>
</ul>
<p>
\[
\mu=\frac{1}{MN}\sum_{x,y} I(x,y).
\]
</p>
<ul class="org-ul">
<li><b>Varianza</b>:</li>
</ul>
<p>
\[
\sigma^2=\frac{1}{MN}\sum_{x,y}\big(I(x,y)-\mu\big)^2.
\]
</p>
<ul class="org-ul">
<li><b>Normalización z</b>:</li>
</ul>
<p>
\[
I'(x,y)=\frac{I(x,y)-\mu}{\sigma}.
\]
</p>
</div>
</div>
</div>


<div id="outline-container-org0b78e9c" class="outline-3">
<h3 id="org0b78e9c">Modelos de Color: RGB, CMY, HSV y HSL</h3>
</div>

<div id="outline-container-org27aa3ec" class="outline-3">
<h3 id="org27aa3ec">Introducción</h3>
<div class="outline-text-3" id="text-org27aa3ec">
<p>
Los <b>modelos de color</b> son representaciones matemáticas que describen
cómo los colores pueden representarse en diversas formas utilizando
valores numéricos. Estos modelos son esenciales en gráficos por
computadora, procesamiento de imágenes y en la percepción del color. A
continuación, se detallan los modelos más comunes: RGB, CMY, HSV y
HSL.
</p>
</div>
</div>

<div id="outline-container-org4ea2c66" class="outline-3">
<h3 id="org4ea2c66">Modelo de Color RGB (Red, Green, Blue)</h3>
</div>

<div id="outline-container-orge37bae2" class="outline-3">
<h3 id="orge37bae2">Definición</h3>
<div class="outline-text-3" id="text-orge37bae2">
<p>
El modelo de color <b>RGB</b> (Rojo, Verde, Azul) es un modelo de mezcla
aditiva, que se utiliza principalmente en dispositivos que emiten luz,
como pantallas, cámaras digitales y proyectores. Los tres colores
primarios (Rojo, Verde y Azul) se combinan de diferentes maneras para
crear una amplia gama de colores.
</p>
</div>
</div>

<div id="outline-container-org805709f" class="outline-3">
<h3 id="org805709f">Funcionamiento de la Mezcla Aditiva</h3>
<div class="outline-text-3" id="text-org805709f">
<p>
En el modelo RGB, los colores se generan mediante la combinación de
luz. Cuanto más intensa es la luz en cada canal (rojo, verde o azul),
más claro es el color resultante. Cuando todas las intensidades están
al máximo, el color resultante es blanco; cuando todas las
intensidades están al mínimo, el resultado es negro.
</p>

<ul class="org-ul">
<li><b>Fórmula para la mezcla aditiva</b>:
\[
  \text{Color} = R \cdot \mathbf{r} + G \cdot \mathbf{g} + B \cdot \mathbf{b}
  \]
donde:
<ul class="org-ul">
<li>\(R\), \(G\) y \(B\) son las intensidades de los canales rojo, verde y azul, respectivamente.</li>
<li>\( \mathbf{r} \), \( \mathbf{g} \) y \( \mathbf{b} \) son los vectores unitarios que representan los colores primarios.</li>
</ul></li>

<li><b>Ejemplo</b>:
<ul class="org-ul">
<li>Si \( R = 255 \), \( G = 0 \), \( B = 0 \), obtenemos un color rojo puro.</li>
<li>Si \( R = 0 \), \( G = 255 \), \( B = 0 \), obtenemos un color verde puro.</li>
<li>Si \( R = 255 \), \( G = 255 \), \( B = 0 \), obtenemos el color amarillo.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org38cea65" class="outline-3">
<h3 id="org38cea65">Espacio de Color RGB</h3>
<div class="outline-text-3" id="text-org38cea65">
<p>
El espacio de color <b>RGB</b> puede representarse como un cubo tridimensional, donde:
</p>
<ul class="org-ul">
<li>El eje X corresponde al canal rojo (\(R\)),</li>
<li>El eje Y al canal verde (\(G\)),</li>
<li>Y el eje Z al canal azul (\(B\)).</li>
</ul>

<p>
Cada vértice del cubo representa un color primario o la combinación de ellos, como se muestra a continuación:
</p>
<ul class="org-ul">
<li>\( (0, 0, 0) \): Negro (ausencia de luz).</li>
<li>\( (255, 0, 0) \): Rojo.</li>
<li>\( (0, 255, 0) \): Verde.</li>
<li>\( (0, 0, 255) \): Azul.</li>
<li>\( (255, 255, 255) \): Blanco (máxima intensidad en todos los canales).</li>
<li>\( (255, 255, 0) \): Amarillo (combinación de rojo y verde).</li>
</ul>

<p>
Este espacio de color es útil para representar los colores generados en dispositivos electrónicos, ya que estos emiten luz en diferentes combinaciones de rojo, verde y azul.
</p>
</div>
</div>

<div id="outline-container-org49032dd" class="outline-3">
<h3 id="org49032dd">Conversión a otros modelos de color</h3>
<div class="outline-text-3" id="text-org49032dd">
<p>
El modelo RGB puede convertirse a otros espacios de color como <b>CMY</b>, <b>HSV</b> o <b>HSL</b>. A continuación se muestra la conversión básica de RGB a CMY:
</p>

<ul class="org-ul">
<li><b>Conversión de RGB a CMY</b>:
\[
  C = 1 - \left( \frac{R}{255} \right), \quad M = 1 - \left( \frac{G}{255} \right), \quad Y = 1 - \left( \frac{B}{255} \right)
  \]
donde \(R\), \(G\), y \(B\) son las intensidades de los canales en el rango de [0, 255].</li>
</ul>
</div>
</div>

<div id="outline-container-orga1ac37a" class="outline-3">
<h3 id="orga1ac37a">Aplicaciones del Modelo RGB</h3>
<div class="outline-text-3" id="text-orga1ac37a">
<p>
El modelo de color RGB se usa ampliamente en:
</p>
<ul class="org-ul">
<li><b>Monitores y pantallas</b>: Dispositivos como televisores, monitores de computadora y pantallas de teléfonos móviles utilizan píxeles que emiten luz en diferentes intensidades de rojo, verde y azul para representar imágenes.</li>
<li><b>Cámaras digitales</b>: Los sensores de las cámaras capturan la luz en estos tres canales para generar imágenes en color.</li>
<li><b>Gráficos por computadora</b>: El modelo RGB es esencial en software de edición de imágenes, renderizado 3D y creación de gráficos visuales.</li>
</ul>
</div>
</div>

<div id="outline-container-org1046491" class="outline-3">
<h3 id="org1046491">Limitaciones del Modelo RGB</h3>
<div class="outline-text-3" id="text-org1046491">
<p>
Aunque el modelo RGB es excelente para dispositivos que emiten luz, tiene algunas limitaciones:
</p>
<ul class="org-ul">
<li>No es intuitivo para el ser humano al ajustar el brillo o la saturación de un color, ya que requiere manipular los tres canales de manera independiente.</li>
<li>El modelo RGB no es el más adecuado para tareas de impresión, ya que en impresiones se usan modelos basados en la mezcla sustractiva de colores, como CMY o CMYK.</li>
</ul>
</div>
</div>





<div id="outline-container-orgd51849f" class="outline-3">
<h3 id="orgd51849f">Modelo CMY (Cyan, Magenta, Yellow)</h3>
<div class="outline-text-3" id="text-orgd51849f">
<p>
El modelo <b>CMY</b> es un modelo de mezcla sustractiva que utiliza los colores cian, magenta y amarillo. Es el modelo base para la impresión en color.
</p>

<ul class="org-ul">
<li><b>Características</b>:
<ul class="org-ul">
<li>Cada color se describe en términos de cuánto absorbe (resta) de la luz blanca que incide.</li>
</ul></li>

<li><b>Mezcla sustractiva</b>:
<ul class="org-ul">
<li><p>
La relación entre CMY y RGB es:
\[
	\text{C} = 1 - \left( \frac{R}{L} \right), \quad \text{M} = 1 - \left( \frac{G}{L} \right), \quad \text{Y} = 1 - \left( \frac{B}{L} \right)
	\]
</p>

<p>
donde \( L \) es el valor máximo de intensidad (por ejemplo, 255).
</p></li>
</ul></li>

<li><b>Conversión de RGB a CMY</b>:
<ul class="org-ul">
<li><p>
Si los valores RGB están normalizados entre 0 y 1:
</p>

<p>
\[
    \text{C} = 1 - R, \quad \text{M} = 1 - G, \quad \text{Y} = 1 - B
    \]
</p></li>
</ul></li>

<li><b>Aplicaciones</b>:
<ul class="org-ul">
<li>Utilizado en la impresión de imágenes en color, como impresoras de inyección de tinta y offset.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orga248369" class="outline-3">
<h3 id="orga248369">Modelo HSV (Hue, Saturation, Value)</h3>
<div class="outline-text-3" id="text-orga248369">
<p>
El modelo <b>HSV</b> es una representación más intuitiva del color basada en la percepción humana, donde el matiz, la saturación y el valor describen un color.
</p>

<ul class="org-ul">
<li><b>Características</b>:
<ul class="org-ul">
<li><b>Matiz (Hue, H)</b>: Representa el ángulo en el círculo cromático, en grados [0°, 360°).</li>
<li><b>Saturación (S)</b>: Indica la pureza del color, rango de [0,1].</li>
<li><b>Valor (V)</b>: Define el brillo del color, rango de [0,1].</li>
</ul></li>

<li><b>Conversión de RGB a HSV</b>:
<ul class="org-ul">
<li><p>
Primero, normalizar los valores RGB entre 0 y 1:
\[
    R' = \frac{R}{L}, \quad G' = \frac{G}{L}, \quad B' = \frac{B}{L}
    \]
</p>

<p>
donde \( L \) es el valor máximo de intensidad (por ejemplo, 255).
</p></li>

<li>Calcular el valor máximo y mínimo:
\[
    C_{\max} = \max(R', G', B'), \quad C_{\min} = \min(R', G', B')
    \]</li>

<li>Diferencia:
\[
    \Delta = C_{\max} - C_{\min}
    \]</li>

<li><b>Cálculo del Matiz (H)</b>:
\[
    \text{Si } \Delta = 0 \Rightarrow H = 0 \\
    \text{Si } C_{\max} = R' \Rightarrow H = 60^\circ \times \left( \frac{G' - B'}{\Delta} \mod 6 \right) \\
    \text{Si } C_{\max} = G' \Rightarrow H = 60^\circ \times \left( \frac{B' - R'}{\Delta} + 2 \right) \\
    \text{Si } C_{\max} = B' \Rightarrow H = 60^\circ \times \left( \frac{R' - G'}{\Delta} + 4 \right)
    \]</li>

<li><b>Cálculo de la Saturación (S)</b>:
\[
    \text{Si } C_{\max} = 0 \Rightarrow S = 0 \\
    \text{Si no} \Rightarrow S = \frac{\Delta}{C_{\max}}
    \]</li>

<li><b>Cálculo del Valor (V)</b>:
\[
	V = C_{\max}
    \]</li>
</ul></li>

<li><b>Aplicaciones</b>:
<ul class="org-ul">
<li>Edición de imágenes, interfaces de selección de color y en procesamiento de video.</li>
</ul></li>

<li><b>Ejemplo</b>:
<ul class="org-ul">
<li>Convertir RGB (255, 255, 0) a HSV:
<ul class="org-ul">
<li>Normalizar:
\[
      R' = 1, \quad G' = 1, \quad B' = 0
      \]</li>
<li>\( C_{\max} = 1 \), \( C_{\min} = 0 \), \( \Delta = 1 \)</li>
<li>Calcular H:
\[
      H = 60^\circ \times \left( \frac{G' - B'}{\Delta} \mod 6 \right) = 60^\circ \times (1 \mod 6) = 60^\circ
      \]</li>
<li>Calcular S:
\[
      S = \frac{\Delta}{C_{\max}} = \frac{1}{1} = 1
      \]</li>
<li>Calcular V:
\[
      V = C_{\max} = 1
      \]</li>
<li><b>Resultado</b>: H = 60°, S = 1, V = 1 (Color amarillo)</li>
</ul></li>
</ul></li>
</ul>
</div>

<div id="outline-container-org9034bfc" class="outline-4">
<h4 id="org9034bfc">HSV opencv</h4>
</div>

<div id="outline-container-org1daf341" class="outline-4">
<h4 id="org1daf341">Tutorial: Umbrales en el Modelo de Color HSV</h4>
<div class="outline-text-4" id="text-org1daf341">
<p>
El espacio de color <b>HSV</b> (Hue, Saturation, Value) se utiliza para la segmentación de colores en OpenCV. A continuación, explicaremos los tres parámetros principales y cómo definir umbrales para detectar colores.
</p>
</div>
</div>

<div id="outline-container-org4b1b5db" class="outline-4">
<h4 id="org4b1b5db">Definición de los Parámetros del Modelo HSV</h4>
<div class="outline-text-4" id="text-org4b1b5db">
<ul class="org-ul">
<li><b>Hue (H)</b>: Tono o color básico (rojo, verde, azul, etc.). En OpenCV va de 0 a 179.</li>
<li><b>Saturation (S)</b>: Intensidad del color. Va de 0 a 255.</li>
<li><b>Value (V)</b>: Brillo del color. Va de 0 a 255.</li>
</ul>
</div>
</div>

<div id="outline-container-orgf8d1a68" class="outline-4">
<h4 id="orgf8d1a68">Detectar un color en el espacio HSV</h4>
<div class="outline-text-4" id="text-orgf8d1a68">
<p>
Puedes definir un rango de color utilizando los valores de Hue, Saturation y Value para segmentar colores específicos en una imagen.
</p>
</div>

<ul class="org-ul">
<li><a id="orga86c2c0"></a>Código en Python para detectar un color (Verde)<br />
<div class="outline-text-5" id="text-orga86c2c0">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Leer la imagen</span>
<span style="color: #a0522d;">img</span> = cv2.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'imagen.jpg'</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir la imagen al espacio de color HSV</span>
<span style="color: #a0522d;">hsv</span> = cv2.cvtColor<span style="color: #707183;">(</span>img, cv2.COLOR_BGR2HSV<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el rango inferior y superior para detectar verde</span>
<span style="color: #a0522d;">lower_green</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>35, 100, 100<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Hue, Saturaci&#243;n, Brillo m&#237;nimos</span>
<span style="color: #a0522d;">upper_green</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>85, 255, 255<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Hue, Saturaci&#243;n, Brillo m&#225;ximos</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una m&#225;scara que solo incluya los p&#237;xeles dentro del rango</span>
<span style="color: #a0522d;">mask</span> = cv2.inRange<span style="color: #707183;">(</span>hsv, lower_green, upper_green<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la m&#225;scara a la imagen original</span>
<span style="color: #a0522d;">result</span> = cv2.bitwise_and<span style="color: #707183;">(</span>img, img, mask=mask<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la imagen con el color detectado</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Imagen Original"</span>, img<span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Color Detectado"</span>, result<span style="color: #707183;">)</span>
cv2.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>
</ul>
</div>

<div id="outline-container-org99d1271" class="outline-4">
<h4 id="org99d1271">Explicación de los Parámetros:</h4>
<div class="outline-text-4" id="text-org99d1271">
<ul class="org-ul">
<li><b>lower<sub>green</sub> = np.array([35, 100, 100])</b>:
<ul class="org-ul">
<li>El valor mínimo del tono es 35, correspondiente a un verde.</li>
<li>La saturación mínima es 100 para evitar colores desaturados.</li>
<li>El valor mínimo de brillo es 100 para evitar colores muy oscuros.</li>
</ul></li>

<li><b>upper<sub>green</sub> = np.array([85, 255, 255])</b>:
<ul class="org-ul">
<li>El valor máximo del tono es 85, cubriendo tonos verdes claros y oscuros.</li>
<li>La saturación máxima es 255 para incluir verdes vibrantes.</li>
<li>El valor máximo de brillo es 255 para incluir colores brillantes.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgcb1376c" class="outline-4">
<h4 id="orgcb1376c">Ajustes de los Umbrales</h4>
<div class="outline-text-4" id="text-orgcb1376c">
<p>
Dependiendo de las condiciones de luz y el color exacto que deseas detectar, puedes ajustar los valores de Hue, Saturación y Brillo:
</p>

<ul class="org-ul">
<li><b><b>Hue (H)</b></b>: Ajusta el rango para detectar tonos específicos del color.</li>
<li><b><b>Saturation (S)</b></b>: Ajusta para incluir colores más o menos saturados.</li>
<li><b><b>Value (V)</b></b>: Ajusta para incluir colores más claros o más oscuros.</li>
</ul>
</div>
</div>

<div id="outline-container-org4d9c96c" class="outline-4">
<h4 id="org4d9c96c">Ejemplo visual: Rango de tonos para detectar verde</h4>
<div class="outline-text-4" id="text-org4d9c96c">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Color</th>
<th scope="col" class="org-right">Hue (H)</th>
<th scope="col" class="org-right">Saturación (S)</th>
<th scope="col" class="org-right">Brillo (V)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Verde claro</td>
<td class="org-right">35</td>
<td class="org-right">100</td>
<td class="org-right">100</td>
</tr>

<tr>
<td class="org-left">Verde oscuro</td>
<td class="org-right">85</td>
<td class="org-right">255</td>
<td class="org-right">255</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org46789ec" class="outline-4">
<h4 id="org46789ec">Uso de <code>cv2.inRange</code></h4>
<div class="outline-text-4" id="text-org46789ec">
<p>
La función <code>cv2.inRange()</code> crea una máscara binaria donde los píxeles dentro del rango son blancos (255) y los fuera del rango son negros (0).
</p>
</div>
</div>
</div>




<div id="outline-container-orga08ea71" class="outline-3">
<h3 id="orga08ea71">Modelo HSL (Hue, Saturation, Lightness)</h3>
<div class="outline-text-3" id="text-orga08ea71">
<p>
El modelo <b>HSL</b> es similar al modelo HSV, pero en lugar de "valor" utiliza el término <b>luminosidad (Lightness)</b>, que representa la cantidad de luz que refleja un color.
</p>

<ul class="org-ul">
<li><b>Características</b>:
<ul class="org-ul">
<li><b>Matiz (Hue, H)</b>: Mismo que en HSV.</li>
<li><b>Saturación (S)</b>: Diferente definición que en HSV.</li>
<li><b>Luminosidad (L)</b>: Rango de [0,1], donde 0 es negro, 0.5 es el color puro, y 1 es blanco.</li>
</ul></li>

<li><b>Conversión de RGB a HSL</b>:
<ul class="org-ul">
<li>Normalizar RGB:
\[
    R' = \frac{R}{L}, \quad G' = \frac{G}{L}, \quad B' = \frac{B}{L}
    \]</li>

<li>Calcular \( C_{\max} \) y \( C_{\min} \), y \( \Delta \) como en HSV.</li>

<li><b><b>Cálculo de la Luminosidad (L)</b></b>:
\[
    L = \frac{C_{\max} + C_{\min}}{2}
    \]</li>

<li><b>Cálculo de la Saturación (S)</b>:
\[
    \text{Si } \Delta = 0 \Rightarrow S = 0 \\
    \text{Si } L \leq 0.5 \Rightarrow S = \frac{\Delta}{C_{\max} + C_{\min}} \\
    \text{Si } L > 0.5 \Rightarrow S = \frac{\Delta}{2 - (C_{\max} + C_{\min})}
    \]</li>

<li><b>Cálculo del Matiz (H)</b>:
<ul class="org-ul">
<li>Igual que en HSV.</li>
</ul></li>
</ul></li>

<li><b>Aplicaciones</b>:
<ul class="org-ul">
<li>Herramientas de diseño gráfico y edición de imágenes, donde se necesita un control preciso sobre la luz y el color.</li>
</ul></li>

<li><b>Ejemplo</b>:
<ul class="org-ul">
<li>Convertir RGB (255, 0, 0) a HSL:
<ul class="org-ul">
<li>Normalizar:
\[
      R' = 1, \quad G' = 0, \quad B' = 0
      \]</li>
<li>\( C_{\max} = 1 \), \( C_{\min} = 0 \), \( \Delta = 1 \)</li>
<li>Calcular L:
\[
      L = \frac{1 + 0}{2} = 0.5
      \]</li>
<li>Calcular S:
\[
      S = \frac{\Delta}{C_{\max} + C_{\min}} = \frac{1}{1 + 0} = 1
      \]</li>
<li>Calcular H:
\[
      H = 60^\circ \times \left( \frac{G' - B'}{\Delta} \mod 6 \right) = 0^\circ
      \]</li>
<li><b><b>Resultado</b></b>: H = 0°, S = 1, L = 0.5 (Color rojo puro)</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>



<div id="outline-container-org7d58874" class="outline-3">
<h3 id="org7d58874">Función Bitwise opencv</h3>
<div class="outline-text-3" id="text-org7d58874">
</div>
<div id="outline-container-org1c4e1cf" class="outline-4">
<h4 id="org1c4e1cf">Tutorial: Operaciones Bitwise en OpenCV</h4>
<div class="outline-text-4" id="text-org1c4e1cf">
<p>
Las operaciones bitwise en OpenCV son útiles para realizar
manipulaciones de imágenes como la creación de máscaras, la
combinación de imágenes, o efectos visuales.
</p>
</div>


<ul class="org-ul">
<li><a id="org69e1beb"></a>1. Operación <code>cv2.bitwise_and</code><br />
<div class="outline-text-5" id="text-org69e1beb">
<p>
Esta operación realiza una operación AND bit a bit sobre los píxeles
correspondientes de dos imágenes. Devuelve una imagen donde un píxel
será 1 si ambos píxeles en las imágenes de entrada son 1.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear dos im&#225;genes en negro</span>
<span style="color: #a0522d;">img1</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>300, 300<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>
img2 = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>300, 300<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un rect&#225;ngulo blanco en img1</span>
cv2.rectangle<span style="color: #707183;">(</span>img1, <span style="color: #7388d6;">(</span>50, 50<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>250, 250<span style="color: #7388d6;">)</span>, 255, -1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un c&#237;rculo blanco en img2</span>
cv2.circle<span style="color: #707183;">(</span>img2, <span style="color: #7388d6;">(</span>150, 150<span style="color: #7388d6;">)</span>, 100, 255, -1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la operaci&#243;n bitwise AND</span>
result = cv2.bitwise_and<span style="color: #707183;">(</span>img1, img2<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar las im&#225;genes</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"img1"</span>, img1<span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"img2"</span>, img2<span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"AND Result"</span>, result<span style="color: #707183;">)</span>
cv2.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>

<li><a id="orgabccd5a"></a>2. Operación <code>cv2.bitwise_or</code><br />
<div class="outline-text-5" id="text-orgabccd5a">
<p>
Realiza una operación OR bit a bit entre los píxeles de dos imágenes. El resultado será 1 si al menos uno de los píxeles correspondientes es 1.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear dos im&#225;genes en negro</span>
<span style="color: #a0522d;">img1</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>300, 300<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>
img2 = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>300, 300<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un rect&#225;ngulo blanco en img1</span>
cv2.rectangle<span style="color: #707183;">(</span>img1, <span style="color: #7388d6;">(</span>50, 50<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>250, 250<span style="color: #7388d6;">)</span>, 255, -1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un c&#237;rculo blanco en img2</span>
cv2.circle<span style="color: #707183;">(</span>img2, <span style="color: #7388d6;">(</span>150, 150<span style="color: #7388d6;">)</span>, 100, 255, -1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la operaci&#243;n bitwise OR</span>
result = cv2.bitwise_or<span style="color: #707183;">(</span>img1, img2<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar las im&#225;genes</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"img1"</span>, img1<span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"img2"</span>, img2<span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"OR Result"</span>, result<span style="color: #707183;">)</span>
cv2.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>

<li><a id="orga891c20"></a>3. Operación <code>cv2.bitwise_xor</code><br />
<div class="outline-text-5" id="text-orga891c20">
<p>
La operación XOR devuelve una imagen donde un píxel será 1 si exactamente uno de los píxeles correspondientes en las imágenes de entrada es 1.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear dos im&#225;genes en negro</span>
<span style="color: #a0522d;">img1</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>300, 300<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>
img2 = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>300, 300<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un rect&#225;ngulo blanco en img1</span>
cv2.rectangle<span style="color: #707183;">(</span>img1, <span style="color: #7388d6;">(</span>50, 50<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>250, 250<span style="color: #7388d6;">)</span>, 255, -1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un c&#237;rculo blanco en img2</span>
cv2.circle<span style="color: #707183;">(</span>img2, <span style="color: #7388d6;">(</span>150, 150<span style="color: #7388d6;">)</span>, 100, 255, -1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la operaci&#243;n bitwise XOR</span>
result = cv2.bitwise_xor<span style="color: #707183;">(</span>img1, img2<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar las im&#225;genes</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"img1"</span>, img1<span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"img2"</span>, img2<span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"XOR Result"</span>, result<span style="color: #707183;">)</span>
cv2.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>

<li><a id="org9edea16"></a>4. Operación <code>cv2.bitwise_not</code><br />
<div class="outline-text-5" id="text-org9edea16">
<p>
La operación NOT invierte los colores de la imagen. Los píxeles blancos se convierten en negros y viceversa.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una imagen en negro</span>
<span style="color: #a0522d;">img</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>300, 300<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un rect&#225;ngulo blanco</span>
cv2.rectangle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>50, 50<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>250, 250<span style="color: #7388d6;">)</span>, 255, -1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la operaci&#243;n bitwise NOT</span>
result = cv2.bitwise_not<span style="color: #707183;">(</span>img<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar las im&#225;genes</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Original"</span>, img<span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"NOT Result"</span>, result<span style="color: #707183;">)</span>
cv2.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>

<li><a id="org18e7781"></a>Ejemplo práctico: Enmascarar una región de interés (ROI)<br />
<div class="outline-text-5" id="text-org18e7781">
<p>
Aquí aplicamos operaciones bitwise para enmascarar y combinar una imagen.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen principal</span>
<span style="color: #a0522d;">img1</span> = cv2.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'imagen_principal.jpg'</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen que queremos enmascarar</span>
<span style="color: #a0522d;">img2</span> = cv2.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'logo.png'</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener las dimensiones de la segunda imagen (logo)</span>
<span style="color: #a0522d;">rows</span>, <span style="color: #a0522d;">cols</span>, <span style="color: #a0522d;">channels</span> = img2.shape

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir la regi&#243;n de inter&#233;s (ROI) en la imagen principal</span>
<span style="color: #a0522d;">roi</span> = img1<span style="color: #707183;">[</span>0:rows, 0:cols<span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir la imagen del logo a escala de grises</span>
<span style="color: #a0522d;">img2gray</span> = cv2.cvtColor<span style="color: #707183;">(</span>img2, cv2.COLOR_BGR2GRAY<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una m&#225;scara binaria a partir de la imagen en escala de grises</span>
<span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">mask</span> = cv2.threshold<span style="color: #707183;">(</span>img2gray, 10, 255, cv2.THRESH_BINARY<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Invertir la m&#225;scara</span>
<span style="color: #a0522d;">mask_inv</span> = cv2.bitwise_not<span style="color: #707183;">(</span>mask<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Hacer visible el fondo de la imagen principal en la regi&#243;n del logo</span>
<span style="color: #a0522d;">img1_bg</span> = cv2.bitwise_and<span style="color: #707183;">(</span>roi, roi, mask=mask_inv<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Extraer el logo</span>
img2_fg = cv2.bitwise_and<span style="color: #707183;">(</span>img2, img2, mask=mask<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Combinar el fondo y el logo</span>
dst = cv2.add<span style="color: #707183;">(</span>img1_bg, img2_fg<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Colocar la imagen combinada en la imagen principal</span>
img1<span style="color: #707183;">[</span>0:rows, 0:cols<span style="color: #707183;">]</span> = dst

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen final</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Resultado"</span>, img1<span style="color: #707183;">)</span>
cv2.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>
</ul>
</div>
</div>


<div id="outline-container-orge56835d" class="outline-3">
<h3 id="orge56835d">Definición: Operación Bit a Bit</h3>
<div class="outline-text-3" id="text-orge56835d">
<p>
Una <b><b>operación bit a bit</b></b> (en inglés, <b>bitwise operation</b>) es una operación que se realiza directamente sobre los bits de los operandos. Las operaciones se ejecutan sobre los bits correspondientes de los números en formato binario.
</p>
</div>

<div id="outline-container-org4a2fb1e" class="outline-4">
<h4 id="org4a2fb1e">Principales operaciones bit a bit</h4>
<div class="outline-text-4" id="text-org4a2fb1e">
</div>
<ul class="org-ul">
<li><a id="orgbc48776"></a>1. AND bit a bit (<code>&amp;</code>)<br />
<div class="outline-text-5" id="text-orgbc48776">
<p>
Devuelve `1` si ambos bits en la misma posición son `1`, de lo contrario devuelve `0`.
</p>

<pre class="example" id="org995bfe0">
A = 1010 (10 en decimal)
B = 1100 (12 en decimal)
Resultado: 1000 (8 en decimal)
</pre>
</div>
</li>

<li><a id="orga0f6afd"></a>2. OR bit a bit (<code>|</code>)<br />
<div class="outline-text-5" id="text-orga0f6afd">
<p>
Devuelve `1` si al menos uno de los bits en la misma posición es `1`, de lo contrario devuelve `0`.
</p>

<pre class="example" id="orgc035a98">
A = 1010 (10 en decimal)
B = 1100 (12 en decimal)
Resultado: 1110 (14 en decimal)
</pre>
</div>
</li>

<li><a id="orga0faad9"></a>3. XOR bit a bit (<code>^</code>)<br />
<div class="outline-text-5" id="text-orga0faad9">
<p>
Devuelve `1` si los bits en la misma posición son diferentes, y `0` si son iguales.
</p>

<pre class="example" id="org1a39299">
A = 1010 (10 en decimal)
B = 1100 (12 en decimal)
Resultado: 0110 (6 en decimal)
</pre>
</div>
</li>

<li><a id="orgaa3bbdf"></a>4. NOT bit a bit (~~)<br />
<div class="outline-text-5" id="text-orgaa3bbdf">
<p>
Invierte los bits de un número: convierte los `0` en `1` y los `1` en `0`. En sistemas de complemento a dos, esto también implica cambiar el signo de un número entero.
</p>

<pre class="example" id="org6933f79">
A = 1010 (10 en decimal)
Resultado: 0101 (-11 en decimal, si estamos usando complemento a dos)
</pre>
</div>
</li>

<li><a id="org13402ea"></a>5. Desplazamiento a la izquierda (<code>&lt;&lt;</code>)<br />
<div class="outline-text-5" id="text-org13402ea">
<p>
Desplaza todos los bits del número hacia la izquierda por un número específico de posiciones. Los bits desplazados fuera del límite se descartan y se rellenan con ceros en el extremo derecho.
</p>

<pre class="example" id="orgf9734b8">
A = 0001 (1 en decimal)
A &lt;&lt; 2 = 0100 (4 en decimal)
</pre>
</div>
</li>

<li><a id="orgba58300"></a>6. Desplazamiento a la derecha (<code>&gt;&gt;</code>)<br />
<div class="outline-text-5" id="text-orgba58300">
<p>
Desplaza todos los bits del número hacia la derecha por un número específico de posiciones. Los bits desplazados fuera del límite se descartan y el bit más significativo depende del signo del número.
</p>

<pre class="example" id="orgc36b1a3">
A = 1000 (8 en decimal)
A &gt;&gt; 2 = 0010 (2 en decimal)
</pre>
</div>
</li>

<li><a id="org656dcdf"></a>Aplicaciones de las operaciones bit a bit<br />
<div class="outline-text-5" id="text-org656dcdf">
<ul class="org-ul">
<li><b><b>Máscaras de bits</b></b>: Las operaciones bit a bit se usan para aplicar máscaras que seleccionan o modifican partes específicas de un número o secuencia binaria.</li>
<li><b><b>Manipulación de imágenes</b></b>: En procesamiento de imágenes, las operaciones bit a bit son útiles para combinar y modificar píxeles en OpenCV.</li>
<li><b><b>Optimización de algoritmos</b></b>: Las operaciones bit a bit permiten optimizar cálculos en sistemas de bajo nivel o con restricciones de recursos.</li>
</ul>
</div>
</li>
</ul>
</div>
</div>



<div id="outline-container-orgf9961f8" class="outline-3">
<h3 id="orgf9961f8">Operadores Puntuales</h3>
<div class="outline-text-3" id="text-orgf9961f8">
</div>
<div id="outline-container-org673331a" class="outline-4">
<h4 id="org673331a">Definición</h4>
<div class="outline-text-4" id="text-org673331a">
<p>
Los <b>operadores puntuales</b> son una clase de transformaciones aplicadas
en el procesamiento digital de imágenes que operan sobre cada píxel de
manera independiente. Esto significa que el valor de salida de un
píxel depende únicamente del valor de ese mismo píxel en la imagen de
entrada, sin considerar los valores de los píxeles vecinos.
</p>
</div>
</div>

<div id="outline-container-org46acb3c" class="outline-4">
<h4 id="org46acb3c">Características</h4>
<div class="outline-text-4" id="text-org46acb3c">
<ol class="org-ol">
<li><b>Independencia espacial</b>: Los operadores puntuales solo modifican
cada píxel basado en su valor original, sin tener en cuenta su
entorno.</li>
<li><b>Simplicidad computacional</b>: Dado que no se necesita información de
los píxeles vecinos, estas operaciones suelen ser más rápidas y
eficientes.</li>
<li><b>Aplicación en tiempo real</b>: Su bajo costo computacional los hace
adecuados para aplicaciones de procesamiento de imágenes en tiempo
real.</li>
</ol>
</div>
</div>

<div id="outline-container-org1e6975e" class="outline-4">
<h4 id="org1e6975e">Tipos de Operadores Puntuales</h4>
<div class="outline-text-4" id="text-org1e6975e">
</div>
<ul class="org-ul">
<li><a id="orgb92827d"></a>Operador de Identidad<br />
<div class="outline-text-5" id="text-orgb92827d">
<ul class="org-ul">
<li>No altera la imagen. Cada píxel de la imagen de salida tiene el
mismo valor que el píxel correspondiente en la imagen de entrada.</li>
<li>Fórmula: \( g(x, y) = f(x, y) \), donde \( f(x, y) \) es el valor del píxel original y \( g(x, y) \) es el valor del píxel modificado.</li>
</ul>
</div>
</li>

<li><a id="orge2493b0"></a>Negativo de la Imagen<br />
<div class="outline-text-5" id="text-orge2493b0">
<ul class="org-ul">
<li>Este operador invierte los valores de los píxeles de una imagen, produciendo su negativo.</li>
<li>Fórmula: \( g(x, y) = L - 1 - f(x, y) \), donde \( L \) es el valor máximo posible en la imagen (por ejemplo, 255 en imágenes de 8 bits).</li>
<li>Uso: Se utiliza en técnicas como la extracción de detalles o cuando es necesario invertir una imagen para un análisis.</li>
</ul>
</div>
</li>

<li><a id="orgdec7952"></a>Umbralización (Thresholding)<br />
<div class="outline-text-5" id="text-orgdec7952">
<ul class="org-ul">
<li>Convierte la imagen a una versión binaria, donde los píxeles con valores por encima de un umbral se establecen en un valor (generalmente blanco), y los que están por debajo se establecen en otro (generalmente negro).</li>
<li>Fórmula: 
\[
     g(x, y) =
     0, & \text{si } f(x, y) \leq T \\
     L, & \text{si } f(x, y) > T
     \]</li>
<li>Uso: Se utiliza para segmentación de imágenes y procesamiento de imágenes en blanco y negro.</li>
</ul>
</div>
</li>

<li><a id="org1e06957"></a>Corrección Gamma<br />
<div class="outline-text-5" id="text-org1e06957">
<ul class="org-ul">
<li>Ajusta los valores de intensidad de los píxeles para modificar el brillo o contraste de la imagen.</li>
<li>Fórmula: \( g(x, y) = c \cdot f(x, y)^\gamma \), donde \( c \) es una constante de escala, y \( \gamma \) es el factor de corrección.</li>
<li>Uso: Corrige la distorsión de brillo en pantallas o para obtener una mejor representación visual.</li>
</ul>
</div>
</li>

<li><a id="org49a4deb"></a>Transformaciones Logarítmicas<br />
<div class="outline-text-5" id="text-org49a4deb">
<ul class="org-ul">
<li>Aumentan los detalles en regiones oscuras de la imagen al expandir los valores de intensidad bajos.</li>
<li>Fórmula: \( g(x, y) = c \cdot \log(1 + f(x, y)) \), donde \( c \) es una constante.</li>
<li>Uso: Mejora la visualización de imágenes con una alta gama dinámica (HDR), como imágenes astronómicas.</li>
</ul>
</div>
</li>

<li><a id="org84b8052"></a>Corrección Lineal o Estiramiento de Contraste<br />
<div class="outline-text-5" id="text-org84b8052">
<ul class="org-ul">
<li>Expande los valores de intensidad en una imagen para cubrir un rango más amplio, aumentando el contraste.</li>
<li>Fórmula:
\[
     g(x, y) = \frac{f(x, y) - f_{\min}}{f_{\max} - f_{\min}} \cdot (L - 1)
     \]</li>
<li>Uso: Aumenta el contraste en imágenes con poca variación de intensidad.</li>
</ul>
</div>
</li>

<li><a id="org7ccba73"></a>Transformaciones de Potencia (Raise to Power Transform)<br />
<div class="outline-text-5" id="text-org7ccba73">
<ul class="org-ul">
<li>Eleva cada valor de píxel a una potencia \( n \), lo que permite ajustar el brillo y contraste de una imagen.</li>
<li>Fórmula: \( g(x, y) = c \cdot f(x, y)^n \).</li>
</ul>
</div>
</li>
</ul>
</div>

<div id="outline-container-orgcf5eccd" class="outline-4">
<h4 id="orgcf5eccd">Aplicaciones de Operadores Puntuales</h4>
<div class="outline-text-4" id="text-orgcf5eccd">
<ul class="org-ul">
<li><b>Corrección de imágenes</b>: Mejoran el brillo, contraste, y otros aspectos visuales de una imagen.</li>
<li><b>Segmentación</b>: La umbralización es comúnmente usada para separar objetos de fondo en una imagen.</li>
<li><b>Análisis médico</b>: Se utiliza para mejorar la visualización de imágenes de rayos X, resonancias magnéticas o ultrasonidos.</li>
<li><b>Procesamiento en tiempo real</b>: Los operadores puntuales son útiles en sistemas que requieren una rápida respuesta, como cámaras de vigilancia o sistemas de visión artificial.</li>
</ul>

<p>
En resumen, los <b>operadores puntuales</b> son una herramienta fundamental en el procesamiento de imágenes que permiten realizar transformaciones sencillas pero efectivas, mejorando la calidad visual o preparándolas para análisis posteriores.
</p>
</div>
</div>
</div>



<div id="outline-container-orgca664c4" class="outline-3">
<h3 id="orgca664c4">Explicación detallada de los Momentos</h3>
<div class="outline-text-3" id="text-orgca664c4">
<p>
Los <b><b>momentos</b></b> son valores estadísticos calculados a partir de los píxeles de un objeto.
Se utilizan para describir:
</p>
<ul class="org-ul">
<li>El área.</li>
<li>La posición.</li>
<li>La orientación.</li>
<li>La forma.</li>
</ul>

<p>
OpenCV devuelve un diccionario con varios tipos de momentos:
</p>
</div>

<div id="outline-container-orgf1c2b3d" class="outline-4">
<h4 id="orgf1c2b3d">Momentos espaciales</h4>
<div class="outline-text-4" id="text-orgf1c2b3d">
<p>
Son los básicos, dependen de la posición en la imagen.
</p>

<ul class="org-ul">
<li>m00 → Área del objeto.  
Es equivalente a la suma de todos los píxeles blancos dentro del contorno.</li>

<li>m10 y m01 → Primer momento en x y en y.  
Se usan para calcular el <b><b>centroide</b></b> (punto medio) de la figura:
\[
  cx = \frac{m10}{m00}, \quad cy = \frac{m01}{m00}
  \]</li>

<li>m20, m02, m11 → Segundo orden de los momentos espaciales.  
Describen cómo está distribuida la masa del objeto respecto a los ejes.</li>
</ul>
</div>
</div>

<div id="outline-container-org4aa137b" class="outline-4">
<h4 id="org4aa137b">Momentos centrales (mu)</h4>
<div class="outline-text-4" id="text-org4aa137b">
<p>
Los momentos centrales se calculan respecto al centroide, y por lo tanto son <b><b>invariantes a la traslación</b></b> (no importa dónde esté el objeto en la imagen).
</p>

<ul class="org-ul">
<li>mu20, mu02 → Relacionados con la dispersión horizontal y vertical.  
Sirven para calcular la <b><b>orientación y elongación</b></b> del objeto.</li>

<li>mu11 → Describe la correlación entre los ejes x e y.  
Si es cero, indica que la figura está alineada con los ejes.</li>
</ul>
</div>
</div>

<div id="outline-container-org41b7c6b" class="outline-4">
<h4 id="org41b7c6b">Momentos normalizados (nu)</h4>
<div class="outline-text-4" id="text-org41b7c6b">
<p>
Se obtienen dividiendo los momentos centrales por una potencia de m00.  
Esto hace que sean <b><b>invariantes a la escala</b></b> (el tamaño del objeto no afecta).
</p>
</div>
</div>

<div id="outline-container-org43f021e" class="outline-4">
<h4 id="org43f021e">Hu Moments</h4>
<div class="outline-text-4" id="text-org43f021e">
<p>
Los <b><b>Hu Moments</b></b> (siete en total) son combinaciones matemáticas de los momentos normalizados.  
Sus propiedades:
</p>
<ul class="org-ul">
<li>Invariantes a <b><b>traslación</b></b> (no importa la posición).</li>
<li>Invariantes a <b><b>escala</b></b> (no importa el tamaño).</li>
<li>Invariantes a <b><b>rotación</b></b> (no importa la orientación).</li>
<li>Incluso algunos son invariantes a simetría espejo.</li>
</ul>

<p>
Se usan en reconocimiento de patrones.  
Ejemplo: distinguir entre un círculo y un triángulo, aunque estén en posiciones diferentes y con tamaños distintos.
</p>
</div>
</div>

<div id="outline-container-orgbd462a4" class="outline-4">
<h4 id="orgbd462a4">Resumen gráfico</h4>
<div class="outline-text-4" id="text-orgbd462a4">
<ol class="org-ol">
<li>m00 → área.</li>
<li>(m10, m01) → centroide.</li>
<li>(mu20, mu11, mu02) → forma y orientación.</li>
<li>Hu Moments → descripción única de la figura, útil para comparar.</li>
</ol>
</div>
</div>
</div>



<div id="outline-container-org6eacc90" class="outline-3">
<h3 id="org6eacc90">Cálculo de los momentos espaciales (m00)</h3>
<div class="outline-text-3" id="text-org6eacc90">
<p>
Los <b><b>momentos espaciales</b></b> se definen como:
</p>

<p>
\[
m_{ij} = \sum_x \sum_y x^i \, y^j \, f(x,y)
\]
</p>

<p>
donde:
</p>
<ul class="org-ul">
<li>\(x, y\) → coordenadas de los píxeles.</li>
<li>\(i, j\) → orden del momento.</li>
<li>\(f(x,y)\) → valor del píxel (en imágenes binarias es 1 para blanco y 0 para negro).</li>
</ul>
</div>

<div id="outline-container-orgd11ec23" class="outline-4">
<h4 id="orgd11ec23">Ejemplo específico de m00</h4>
<div class="outline-text-4" id="text-orgd11ec23">
<p>
Si \(i = 0\) y \(j = 0\):
</p>

<p>
\[
m_{00} = \sum_x \sum_y f(x,y)
\]
</p>

<p>
Esto significa que <b><b>m00 es simplemente la suma de todos los píxeles blancos dentro del contorno</b></b>.  
En una imagen binaria (0 y 255), normalmente se normaliza para que los píxeles valgan 1 en blanco.  
Por lo tanto:
</p>

<ul class="org-ul">
<li>Si un objeto ocupa 500 píxeles → \(m00 = 500\).</li>
<li>Es equivalente al <b><b>área</b></b> del contorno.</li>
</ul>
</div>
</div>

<div id="outline-container-orgf367d69" class="outline-4">
<h4 id="orgf367d69">Ejemplo en código</h4>
<div class="outline-text-4" id="text-orgf367d69">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una imagen negra con un c&#237;rculo blanco</span>
<span style="color: #a0522d;">img</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>200,200<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>
cv2.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>100,100<span style="color: #7388d6;">)</span>, 40, 255, -1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular contornos</span>
<span style="color: #a0522d;">contours</span>, <span style="color: #a0522d;">_</span> = cv2.findContours<span style="color: #707183;">(</span>img, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Momentos del primer contorno</span>
M = cv2.moments<span style="color: #707183;">(</span>contours<span style="color: #7388d6;">[</span>0<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"m00 (&#225;rea):"</span>, M<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m00"</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"&#193;rea con cv2.contourArea:"</span>, cv2.contourArea<span style="color: #7388d6;">(</span>contours<span style="color: #909183;">[</span>0<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>

<p>
La salida mostrará que `m00` y el área calculada con `cv2.contourArea()` son prácticamente iguales.
</p>
</div>
</div>
</div>





<div id="outline-container-orga8e8d18" class="outline-3">
<h3 id="orga8e8d18">Cálculo exacto del centroide con momentos</h3>
<div class="outline-text-3" id="text-orga8e8d18">
<p>
La fórmula general para los momentos espaciales es:
</p>

<p>
\[
m_{ij} = \sum_x \sum_y x^i \, y^j \, f(x,y)
\]
</p>

<p>
donde:
</p>
<ul class="org-ul">
<li>\(f(x,y)\) = valor del píxel en la posición \((x,y)\).</li>
<li>En imágenes binarias, \(f(x,y) = 1\) si el píxel pertenece al objeto, y \(0\) en caso contrario.</li>
</ul>
</div>

<div id="outline-container-org9612969" class="outline-4">
<h4 id="org9612969">Fórmulas del centroide</h4>
<div class="outline-text-4" id="text-org9612969">
<p>
El centroide \((c_x, c_y)\) se obtiene como:
</p>

<p>
\[
c_x = \frac{m_{10}}{m_{00}}, \quad c_y = \frac{m_{01}}{m_{00}}
\]
</p>

<p>
donde:
</p>
<ul class="org-ul">
<li>\(m_{00}\) = área (número de píxeles del objeto).</li>
<li>\(m_{10} = \sum_x \sum_y x \cdot f(x,y)\)</li>
<li>\(m_{01} = \sum_x \sum_y y \cdot f(x,y)\)</li>
</ul>

<p>
Es decir:
</p>
<ul class="org-ul">
<li>\(m_{10}\) acumula la <b><b>suma de las coordenadas x de todos los píxeles</b></b> del objeto.</li>
<li>\(m_{01}\) acumula la <b><b>suma de las coordenadas y de todos los píxeles</b></b> del objeto.</li>
</ul>

<p>
Cuando divides por \(m_{00}\) (área), lo que obtienes es el <b><b>promedio de las coordenadas x e y</b></b>, que corresponde al centro de masa.
</p>
</div>
</div>

<div id="outline-container-orgd053433" class="outline-4">
<h4 id="orgd053433">Ejemplo manual</h4>
<div class="outline-text-4" id="text-orgd053433">
<p>
Supongamos un objeto con 4 píxeles en coordenadas:
</p>
<ul class="org-ul">
<li>(1,1), (1,2), (2,1), (2,2)</li>
</ul>

<p>
Cálculos:
</p>
<ul class="org-ul">
<li>\(m_{00} = 4\)  (4 píxeles en total).</li>
<li>\(m_{10} = 1+1+2+2 = 6\).</li>
<li>\(m_{01} = 1+2+1+2 = 6\).</li>
</ul>

<p>
Centroide:
\[
c_x = \frac{6}{4} = 1.5, \quad c_y = \frac{6}{4} = 1.5
\]
</p>
</div>
</div>

<div id="outline-container-org4cc1128" class="outline-4">
<h4 id="org4cc1128">Ejemplo en OpenCV</h4>
<div class="outline-text-4" id="text-org4cc1128">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Imagen negra con un rect&#225;ngulo blanco</span>
<span style="color: #a0522d;">img</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>200,200<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>
cv2.rectangle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>50,50<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>150,150<span style="color: #7388d6;">)</span>, 255, -1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Contornos</span>
<span style="color: #a0522d;">contours</span>, <span style="color: #a0522d;">_</span> = cv2.findContours<span style="color: #707183;">(</span>img, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Momentos</span>
M = cv2.moments<span style="color: #707183;">(</span>contours<span style="color: #7388d6;">[</span>0<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Centroide</span>
cx = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>M<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m10"</span><span style="color: #7388d6;">]</span> / M<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m00"</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
cy = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>M<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m01"</span><span style="color: #7388d6;">]</span> / M<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m00"</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Centroide exacto:"</span>, <span style="color: #7388d6;">(</span>cx, cy<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>

<p>
Si corres este código, el centroide saldrá en <b><b>(100,100)</b></b>, que es justo el centro geométrico del rectángulo.
</p>
</div>
</div>
</div>





<div id="outline-container-org46f3673" class="outline-3">
<h3 id="org46f3673">Comparación entre Centroide (momentos) y Bounding Box (extremos)</h3>
<div class="outline-text-3" id="text-org46f3673">
<p>
Existen dos técnicas principales para calcular el "centro" de un objeto en visión
por computadora:
</p>

<ol class="org-ol">
<li><b><b>Centroide (momentos)</b></b>:  
Calcula el centro de masa de todos los píxeles.  
Fórmula:
\[
   c_x = \frac{m_{10}}{m_{00}}, \quad c_y = \frac{m_{01}}{m_{00}}
   \]</li>

<li><b><b>Centro geométrico del bounding box (extremos)</b></b>:  
Calcula el punto medio entre el borde más lejano a la izquierda/derecha y el
más alto/bajo.  
Fórmula:
\[
   c_x = \frac{x_{\min} + x_{\max}}{2}, \quad c_y = \frac{y_{\min} + y_{\max}}{2}
   \]</li>
</ol>
</div>

<div id="outline-container-orgddafc98" class="outline-4">
<h4 id="orgddafc98">Código de ejemplo en Python</h4>
<div class="outline-text-4" id="text-orgddafc98">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear imagen negra con dos manchas de diferente tama&#241;o</span>
<span style="color: #a0522d;">img</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>300,300<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>
cv2.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>80,150<span style="color: #7388d6;">)</span>, 40, 255, -1<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mancha grande</span>
cv2.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>200,150<span style="color: #7388d6;">)</span>, 20, 255, -1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mancha peque&#241;a</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener contornos</span>
<span style="color: #a0522d;">contours</span>, <span style="color: #a0522d;">_</span> = cv2.findContours<span style="color: #707183;">(</span>img, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE<span style="color: #707183;">)</span>
c = <span style="color: #483d8b;">max</span><span style="color: #707183;">(</span>contours, key=cv2.contourArea<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Tomamos el mayor contorno</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">================================</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Centroide con momentos</span>
M = cv2.moments<span style="color: #707183;">(</span>c<span style="color: #707183;">)</span>
cx_m = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>M<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m10"</span><span style="color: #7388d6;">]</span> / M<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m00"</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
cy_m = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>M<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m01"</span><span style="color: #7388d6;">]</span> / M<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m00"</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">================================</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Centro geom&#233;trico con bounding box</span>
x, y, w, h = cv2.boundingRect<span style="color: #707183;">(</span>c<span style="color: #707183;">)</span>
cx_b = x + w//2
cy_b = y + h//2

<span style="color: #b22222;"># </span><span style="color: #b22222;">================================</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar resultados</span>
img_color = cv2.cvtColor<span style="color: #707183;">(</span>img, cv2.COLOR_GRAY2BGR<span style="color: #707183;">)</span>
cv2.drawContours<span style="color: #707183;">(</span>img_color, <span style="color: #7388d6;">[</span>c<span style="color: #7388d6;">]</span>, -1, <span style="color: #7388d6;">(</span>0,255,0<span style="color: #7388d6;">)</span>, 2<span style="color: #707183;">)</span>           <span style="color: #b22222;"># </span><span style="color: #b22222;">Contorno en verde</span>
cv2.circle<span style="color: #707183;">(</span>img_color, <span style="color: #7388d6;">(</span>cx_m, cy_m<span style="color: #7388d6;">)</span>, 5, <span style="color: #7388d6;">(</span>0,0,255<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>        <span style="color: #b22222;"># </span><span style="color: #b22222;">Centroide en rojo</span>
cv2.circle<span style="color: #707183;">(</span>img_color, <span style="color: #7388d6;">(</span>cx_b, cy_b<span style="color: #7388d6;">)</span>, 5, <span style="color: #7388d6;">(</span>255,0,0<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>        <span style="color: #b22222;"># </span><span style="color: #b22222;">Bounding box en azul</span>
cv2.rectangle<span style="color: #707183;">(</span>img_color, <span style="color: #7388d6;">(</span>x,y<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>x+w,y+h<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>255,255,0<span style="color: #7388d6;">)</span>, 2<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Caja delimitadora</span>

cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Centroide (rojo) vs BoundingBox (azul)"</span>, img_color<span style="color: #707183;">)</span>
cv2.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Centroide (momentos):"</span>, <span style="color: #7388d6;">(</span>cx_m, cy_m<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Centro bounding box:"</span>, <span style="color: #7388d6;">(</span>cx_b, cy_b<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf76cc22" class="outline-4">
<h4 id="orgf76cc22">Interpretación</h4>
<div class="outline-text-4" id="text-orgf76cc22">
<ul class="org-ul">
<li>El <b><b>centroide (rojo)</b></b> se desplazará hacia la mancha más grande porque
representa el promedio ponderado de todos los píxeles.</li>
<li>El <b><b>centro del bounding box (azul)</b></b> estará justo en el medio de los extremos
del objeto, sin importar qué mancha sea más grande.</li>
</ul>
</div>
</div>

<div id="outline-container-orgcd0a64f" class="outline-4">
<h4 id="orgcd0a64f">Conclusión</h4>
<div class="outline-text-4" id="text-orgcd0a64f">
<ul class="org-ul">
<li>El <b><b>centroide</b></b> es más preciso para análisis de formas y seguimiento.</li>
<li>El <b><b>bounding box</b></b> es más rápido y se usa en detección de objetos.</li>
</ul>
</div>
</div>
</div>






<div id="outline-container-org5fe5df4" class="outline-3">
<h3 id="org5fe5df4">Proceso de Multiplicación de una Matriz de Transformación por una Coordenada de Píxel</h3>
<div class="outline-text-3" id="text-org5fe5df4">
<p>
Cuando aplicamos una transformación geométrica a una imagen, multiplicamos las coordenadas de cada píxel por una <b>matriz de transformación</b>. Este proceso se desglosa paso a paso de la siguiente manera.
</p>
</div>

<div id="outline-container-org31f1c92" class="outline-4">
<h4 id="org31f1c92">1. Representación de las coordenadas en forma homogénea</h4>
<div class="outline-text-4" id="text-org31f1c92">
<p>
Las coordenadas \((x, y)\) de un píxel se convierten a <b>coordenadas
homogéneas</b> para que las traslaciones puedan representarse mediante
multiplicaciones de matrices. Un píxel en coordenadas homogéneas es:
\[
</p>
\begin{pmatrix}
x \\
y \\
1
\end{pmatrix}
<p>
\]
</p>
</div>
</div>

<div id="outline-container-org9aadad2" class="outline-4">
<h4 id="org9aadad2">2. Definición de la matriz de transformación</h4>
<div class="outline-text-4" id="text-org9aadad2">
<p>
La matriz de transformación afín general tiene la forma:
\[
T= \begin{pmatrix}
a_{11} & a_{12} & t_x \\
a_{21} & a_{22} & t_y \\
0 & 0 & 1
\end{pmatrix}
\]
</p>

<ul class="org-ul">
<li>\(a_{11}, a_{12}, a_{21}, a_{22}\) definen las transformaciones de rotación, escalado y cizallamiento.</li>
<li>\(t_x, t_y\) son los parámetros de traslación en los ejes \(x\) e \(y\).</li>
</ul>
</div>
</div>

<div id="outline-container-org5463a8b" class="outline-4">
<h4 id="org5463a8b">3. Multiplicación de la matriz por las coordenadas</h4>
<div class="outline-text-4" id="text-org5463a8b">
<p>
Multiplicamos la matriz de transformación \(T\) por las coordenadas homogéneas \((x, y, 1)\) para obtener las nuevas coordenadas \((x', y', 1)\).
</p>


\begin{pmatrix}
x' \\
y' \\
1
\end{pmatrix}
<p>
=
</p>
\begin{pmatrix}
\cos(\theta) & -\sin(\theta) & 0 \\
\sin(\theta) & \cos(\theta) & 0 \\
0 & 0 & 1
\end{pmatrix}
<p>
&sdot;
</p>
\begin{pmatrix}
x \\
y \\
1
\end{pmatrix}


<p>
La multiplicación de matrices se desglosa a continuación.
</p>
</div>

<ul class="org-ul">
<li><a id="orge57fd6f"></a>3.1 Cálculo del nuevo valor de \(x'\)<br />
<div class="outline-text-5" id="text-orge57fd6f">
<p>
\[
x' = a_{11} \cdot x + a_{12} \cdot y + t_x
\]
</p>
</div>
</li>

<li><a id="orgafd2273"></a>3.2 Cálculo del nuevo valor de \(y'\)<br />
<div class="outline-text-5" id="text-orgafd2273">
<p>
\[
y' = a_{21} \cdot x + a_{22} \cdot y + t_y
\]
</p>
</div>
</li>

<li><a id="orgf5f5acc"></a>3.3 El valor constante de la tercera coordenada<br />
<div class="outline-text-5" id="text-orgf5f5acc">
<p>
La tercera coordenada se mantiene como \(1\), ya que no cambia en las transformaciones afines.
</p>

<p>
\[1 = (0 \cdot x) + (0 \cdot y) + 1 \]
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org81c5c38" class="outline-4">
<h4 id="org81c5c38">4. Resultado final</h4>
<div class="outline-text-4" id="text-org81c5c38">
<p>
El resultado de la multiplicación es un nuevo vector con las coordenadas transformadas:
</p>

\begin{pmatrix}
x' \\
y' \\
1
\end{pmatrix}
</div>
</div>

<div id="outline-container-org2fae5f2" class="outline-4">
<h4 id="org2fae5f2">Ejemplo concreto: Rotación</h4>
<div class="outline-text-4" id="text-org2fae5f2">
<p>
Si queremos rotar un píxel \((x, y)\) en un ángulo \(\theta\), usamos la matriz de rotación:
</p>

<p>
\[
R = \begin{pmatrix}
\cos(\theta) & -\sin(\theta) & 0 \\
\sin(\theta) & \cos(\theta) & 0 \\
0 & 0 & 1
\end{pmatrix}
\]
</p>

<p>
Multiplicamos esta matriz por las coordenadas homogéneas:
</p>

<p>
\[
</p>
\begin{pmatrix}
x' \\
y' \\
1
\end{pmatrix}
<p>
=
</p>
\begin{pmatrix}
\cos(\theta) & -\sin(\theta) & 0 \\
\sin(\theta) & \cos(\theta) & 0 \\
0 & 0 & 1
\end{pmatrix}
<p>
&sdot;
</p>
\begin{pmatrix}
x \\
y \\
1
\end{pmatrix}
<p>
\]
Esto resulta en las nuevas coordenadas después de la rotación:
</p>

<p>
\[
x' = x \cdot \cos(\theta) - y \cdot \sin(\theta)
y' = x \cdot \sin(\theta) + y \cdot \cos(\theta)
\]
</p>
</div>
</div>
<div id="outline-container-org6bc2b33" class="outline-4">
<h4 id="org6bc2b33">Resumen del proceso</h4>
<div class="outline-text-4" id="text-org6bc2b33">
<ol class="org-ol">
<li>Convertir las coordenadas \((x, y)\) a coordenadas homogéneas \((x, y, 1)\).</li>
<li>Definir la matriz de transformación \(T\).</li>
<li>Multiplicar la matriz \(T\) por las coordenadas homogéneas.</li>
<li>Obtener las nuevas coordenadas \((x', y')\) que represe</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-org8266117" class="outline-3">
<h3 id="org8266117">Transformaciones Geométricas en Imágenes</h3>
<div class="outline-text-3" id="text-org8266117">
<p>
Las <b>transformaciones geométricas</b> en imágenes permiten cambiar la posición, orientación y escala de las imágenes sin alterar su contenido. Estas transformaciones son esenciales en tareas como alineación de imágenes, registro de imágenes, realidad aumentada, y sistemas de visión por computadora.
</p>
</div>

<div id="outline-container-org00cf4bf" class="outline-4">
<h4 id="org00cf4bf">1. Traslación (Translation)</h4>
<div class="outline-text-4" id="text-org00cf4bf">
<p>
La traslación desplaza la imagen en el espacio sin modificar su forma o tamaño. La fórmula matemática es:
</p>

<p>
\[
   T(x, y) = (x + t_x, y + t_y)
   \]
</p>

<p>
Donde \(t_x\) y \(t_y\) son las cantidades de desplazamiento. La matriz de traslación es:
</p>

<p>
\[
   T = \begin{pmatrix}
   1 & 0 & t_x \\
   0 & 1 & t_y \\
   0 & 0 & 1
   \end{pmatrix}
   \]
</p>
</div>
</div>

<div id="outline-container-org41cece2" class="outline-4">
<h4 id="org41cece2">2. Rotación (Rotation)</h4>
<div class="outline-text-4" id="text-org41cece2">
<p>
La rotación gira la imagen un ángulo \(\theta\). La ecuación de rotación es:
</p>

<p>
\[
   R(x, y) = (x' , y') = \left( x \cdot \cos(\theta) - y \cdot \sin(\theta), x \cdot \sin(\theta) + y \cdot \cos(\theta) \right)
   \]
</p>

<p>
La matriz de rotación es:
</p>

<p>
\[
   R = \begin{pmatrix}
   \cos(\theta) & -\sin(\theta) & 0 \\
   \sin(\theta) & \cos(\theta) & 0 \\
   0 & 0 & 1
   \end{pmatrix}
   \]
</p>
</div>
</div>

<div id="outline-container-org9f4ab5d" class="outline-4">
<h4 id="org9f4ab5d">3. Escalado (Scalin</h4>
<div class="outline-text-4" id="text-org9f4ab5d">
<p>
g)
</p>

<p>
El escalado modifica el tamaño de la imagen mediante factores \(s_x\) y \(s_y\). La fórmula es:
</p>

<p>
\[
   S(x, y) = (s_x \cdot x, s_y \cdot y)
   \]
</p>

<p>
La matriz correspondiente es:
</p>

<p>
\[
   S = \begin{pmatrix}
   s_x & 0 & 0 \\
   0 & s_y & 0 \\
   0 & 0 & 1
   \end{pmatrix}
   \]
</p>
</div>
</div>

<div id="outline-container-org6094016" class="outline-4">
<h4 id="org6094016">4. Cizallamiento (Shearing)</h4>
<div class="outline-text-4" id="text-org6094016">
<p>
El cizallamiento inclina la imagen en una dirección específica. Las ecuaciones para un cizallamiento horizontal y vertical son:
</p>

<p>
\[
   Sh_x(x, y) = (x + h_x \cdot y, y)
   \]
\[
   Sh_y(x, y) = (x, y + h_y \cdot x)
   \]
</p>

<p>
Las matrices correspondientes son:
</p>

<p>
Horizontal:
</p>

<p>
\[
   Sh_x = \begin{pmatrix}
   1 & h_x & 0 \\
   0 & 1 & 0 \\
   0 & 0 & 1
   \end{pmatrix}
   \]
</p>

<p>
Vertical:
</p>

<p>
\[
   Sh_y = \begin{pmatrix}
   1 & 0 & 0 \\
   h_y & 1 & 0 \\
   0 & 0 & 1
   \end{pmatrix}
   \]
</p>
</div>
</div>

<div id="outline-container-orgcca7c33" class="outline-4">
<h4 id="orgcca7c33">5. Reflexión (Reflection)</h4>
<div class="outline-text-4" id="text-orgcca7c33">
<p>
La reflexión voltea la imagen sobre un eje. Las matrices para reflexiones sobre el eje \(x\) o \(y\) son:
</p>

<p>
\[
   R_x = \begin{pmatrix}
   1 & 0 & 0 \\
   0 & -1 & 0 \\
   0 & 0 & 1
   \end{pmatrix}
   \]
</p>

<p>
\[
   R_y = \begin{pmatrix}
   -1 & 0 & 0 \\
   0 & 1 & 0 \\
   0 & 0 & 1
   \end{pmatrix}
   \]
</p>
</div>
</div>

<div id="outline-container-orga663c6d" class="outline-4">
<h4 id="orga663c6d">6. Transformación Afín (Affine Transformation)</h4>
<div class="outline-text-4" id="text-orga663c6d">
<p>
Una transformación afín combina varias de las anteriores. Su matriz es:
</p>

<p>
\[
   A = \begin{pmatrix}
   a_{11} & a_{12} & t_x \\
   a_{21} & a_{22} & t_y \\
   0 & 0 & 1
   \end{pmatrix}
   \]
</p>
</div>
</div>

<div id="outline-container-orgcb89e7b" class="outline-4">
<h4 id="orgcb89e7b">7. Transformación Proyectiva (Homografía)</h4>
<div class="outline-text-4" id="text-orgcb89e7b">
<p>
La homografía proyecta una imagen en un nuevo plano, alterando su perspectiva. La matriz homográfica es:
</p>

<p>
\[
   H = \begin{pmatrix}
   h_{11} & h_{12} & h_{13} \\
   h_{21} & h_{22} & h_{23} \\
   h_{31} & h_{32} & h_{33}
   \end{pmatrix}
   \]
</p>
</div>
</div>

<div id="outline-container-org93be4ed" class="outline-4">
<h4 id="org93be4ed">Aplicaciones</h4>
<div class="outline-text-4" id="text-org93be4ed">
<p>
Las transformaciones geométricas se utilizan en:
</p>

<ul class="org-ul">
<li><b>Alineación de imágenes</b>: Registrar imágenes para tener la misma perspectiva.</li>
<li><b>Corrección de distorsión</b>: Corregir distorsiones causadas por lentes de cámaras.</li>
<li><b>Visión artificial</b>: Identificar objetos en diferentes orientaciones.</li>
<li><b>Realidad aumentada</b>: Ajustar objetos virtuales al mundo real.</li>
</ul>
</div>
</div>
</div>







<div id="outline-container-org412bf88" class="outline-3">
<h3 id="org412bf88">Landmarks</h3>
<div class="outline-text-3" id="text-org412bf88">
<p>
En visión artificial, el término landmark se refiere a puntos clave
dentro de una imagen que ayudan a describir características
importantes de un objeto. Estos puntos de referencia se utilizan en
tareas como el reconocimiento facial, el registro de imágenes médicas,
la segmentación de objetos y la detección de estructuras en imágenes
biomédicas.
</p>
</div>

<div id="outline-container-org0163b21" class="outline-4">
<h4 id="org0163b21">Fundamentos de los Landmarks</h4>
<div class="outline-text-4" id="text-org0163b21">
<p>
Los landmarks se caracterizan por ser:
</p>

<ul class="org-ul">
<li>Puntos de interés dentro de una imagen que representan estructuras
significativas.</li>

<li>Invariantes a transformaciones como traslación, rotación y cambios de escala.</li>

<li>Utilizados en modelos de alineación y reconocimiento de patrones.</li>
</ul>

<p>
Dependiendo del contexto, los landmarks pueden ser seleccionados
manualmente o detectados automáticamente mediante algoritmos
especializados.
</p>
</div>
</div>

<div id="outline-container-orgf5fec27" class="outline-4">
<h4 id="orgf5fec27">Aplicaciones de los Landmarks</h4>
<div class="outline-text-4" id="text-orgf5fec27">
</div>
<ul class="org-ul">
<li><a id="org6e45b31"></a>Reconocimiento Facial<br />
<div class="outline-text-5" id="text-org6e45b31">
<p>
En el reconocimiento facial, se utilizan landmarks para identificar
estructuras anatómicas del rostro, como los ojos, la nariz y la
boca. Un ejemplo común es el modelo de 68 puntos faciales utilizado en
bibliotecas como dlib, donde cada punto representa una característica
clave del rostro.
</p>
</div>
</li>

<li><a id="orgb8999c8"></a>Registro y Segmentación de Imágenes Médicas<br />
<div class="outline-text-5" id="text-orgb8999c8">
<p>
Los landmarks juegan un papel clave en el registro de imágenes
médicas, facilitando la comparación de imágenes de distintos pacientes
o en diferentes momentos temporales. Se utilizan en la detección de
estructuras anatómicas en radiografías, tomografías y microscopía.
</p>
</div>
</li>

<li><a id="org9a1fae1"></a>Seguimiento de Movimiento y Estimación de Postura<br />
<div class="outline-text-5" id="text-org9a1fae1">
<p>
Los sistemas de visión artificial pueden detectar landmarks en el
cuerpo humano para el análisis de la postura y el seguimiento de
movimientos en tiempo real, como en aplicaciones deportivas y
rehabilitación médica.
</p>
</div>
</li>

<li><a id="orgb4dd7d0"></a>Detección de Características en Citología Cervical<br />
<div class="outline-text-5" id="text-orgb4dd7d0">
<p>
En el análisis de imágenes de citología cervical, los landmarks pueden
utilizarse para localizar estructuras celulares relevantes,
facilitando la segmentación y clasificación de células en exámenes de
Papanicolaou.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-orgca9366f" class="outline-4">
<h4 id="orgca9366f">Métodos de Detección de Landmarks</h4>
<div class="outline-text-4" id="text-orgca9366f">
<p>
Existen varios métodos para la detección de landmarks, que se pueden clasificar en dos grandes categorías:
</p>
</div>

<ul class="org-ul">
<li><a id="orgcbb8272"></a>Métodos Clásicos<br />
<div class="outline-text-5" id="text-orgcbb8272">
<p>
SIFT (Scale-Invariant Feature Transform): Detecta puntos clave
invariables a cambios de escala y rotación.
</p>

<p>
SURF (Speeded-Up Robust Features): Similar a SIFT pero más rápido.
</p>

<p>
ORB (Oriented FAST and Rotated BRIEF): Optimizado para detección
rápida en tiempo real.
</p>
</div>
</li>

<li><a id="org386e044"></a>Métodos Basados en Aprendizaje Profundo<br />
<div class="outline-text-5" id="text-org386e044">
<p>
Redes neuronales convolucionales (CNNs): Utilizadas en el
reconocimiento facial y análisis biomédico.
</p>

<p>
MediaPipe: Biblioteca de Google para la detección de landmarks en
tiempo real.
</p>

<p>
Modelos de Regresión de Forma Activa (ASM) y Modelos de Forma
Constrained Local Models (CLM): Métodos específicos para la detección
de formas anatómicas.
</p>
</div>
</li>
</ul>
</div>
</div>



<div id="outline-container-orgc89df4f" class="outline-3">
<h3 id="orgc89df4f">Detección de Manos con MediaPipe en Python</h3>
<div class="outline-text-3" id="text-orgc89df4f">
</div>
<div id="outline-container-org6928302" class="outline-4">
<h4 id="org6928302">Introducción</h4>
<div class="outline-text-4" id="text-org6928302">
<p>
  MediaPipe es una
librería desarrollada por Google Research, diseñada para el
procesamiento eficiente de datos en tiempo real. Fue lanzada para
facilitar el desarrollo de aplicaciones de visión por computadora,
realidad aumentada y aprendizaje automático en dispositivos móviles y
computadoras.
</p>

<p>
MediaPipe Hands utiliza modelos preentrenados basados en redes
neuronales para detectar y seguir 21 puntos clave de la mano,
permitiendo análisis de gestos y seguimiento preciso.
</p>
</div>
</div>



<div id="outline-container-org56c807b" class="outline-4">
<h4 id="org56c807b">Instalación de Dependencias</h4>
<div class="outline-text-4" id="text-org56c807b">
<p>
Para ejecutar el código, se necesita instalar los siguientes paquetes en Python:
</p>

<div class="org-src-container">
<pre class="src src-sh">pip install mediapipe opencv-python
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb209c8d" class="outline-4">
<h4 id="orgb209c8d">Código para Detección de Manos en Tiempo Real</h4>
<div class="outline-text-4" id="text-orgb209c8d">
<p>
Este es un un código en Python que detecta manos usando MediaPipe y
OpenCV.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> mediapipe <span style="color: #a020f0;">as</span> mp

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar MediaPipe Hands</span>
<span style="color: #a0522d;">mp_hands</span> = mp.solutions.hands
<span style="color: #a0522d;">mp_drawing</span> = mp.solutions.drawing_utils
<span style="color: #a0522d;">hands</span> = mp_hands.Hands<span style="color: #707183;">(</span>min_detection_confidence=0.5, min_tracking_confidence=0.5<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Captura de video</span>
cap = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span> cap.isOpened<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> ret:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir imagen a RGB</span>
<span style="background-color: #f2f2f2;"> </span>   frame_rgb = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2RGB<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Detectar manos</span>
<span style="background-color: #f2f2f2;"> </span>   results = hands.process<span style="color: #707183;">(</span>frame_rgb<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span>results.multi_hand_landmarks<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar los puntos clave y conexiones</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> results.multi_hand_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> hand_landmarks <span style="color: #a020f0;">in</span> results.multi_hand_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   mp_drawing.draw_landmarks<span style="color: #707183;">(</span>frame, hand_landmarks, mp_hands.HAND_CONNECTIONS<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Salida"</span>, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Salir con 'q'</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

cap.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> mediapipe <span style="color: #a020f0;">as</span> mp

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar MediaPipe Hands</span>
<span style="color: #a0522d;">mp_hands</span> = mp.solutions.hands
<span style="color: #a0522d;">mp_drawing</span> = mp.solutions.drawing_utils
<span style="color: #a0522d;">hands</span> = mp_hands.Hands<span style="color: #707183;">(</span>min_detection_confidence=0.5, min_tracking_confidence=0.5<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Captura de video</span>
cap = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span> cap.isOpened<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> ret:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir imagen a RGB</span>
<span style="background-color: #f2f2f2;"> </span>   frame_rgb = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2RGB<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Detectar manos</span>
<span style="background-color: #f2f2f2;"> </span>   results = hands.process<span style="color: #707183;">(</span>frame_rgb<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar los puntos clave y conexiones</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> results.multi_hand_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> hand_landmarks <span style="color: #a020f0;">in</span> results.multi_hand_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> idx, landmark <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">enumerate</span><span style="color: #707183;">(</span>hand_landmarks.landmark<span style="color: #707183;">)</span>:

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">h</span>,<span style="color: #a0522d;">w</span>,<span style="color: #a0522d;">_</span> =frame.shape
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">x</span>,<span style="color: #a0522d;">y</span>=<span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>landmark.x*w<span style="color: #707183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>landmark.y*h<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>x,y<span style="color: #7388d6;">)</span>, 4, <span style="color: #7388d6;">(</span>12, 233,4<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">mp_drawing.draw_landmarks(frame, hand_landmarks, mp_hands.HAND_CONNECTIONS)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Salida"</span>, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Salir con 'q'</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

cap.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>



<div id="outline-container-orgf3cc6d0" class="outline-4">
<h4 id="orgf3cc6d0">Explicación del Código</h4>
<div class="outline-text-4" id="text-orgf3cc6d0">
<ol class="org-ol">
<li>Se inicializa MediaPipe Hands con una confianza mínima de detección y seguimiento del 50%.</li>
<li>Se usa OpenCV para capturar video en tiempo real.</li>
<li>Se convierte el fotograma de BGR a RGB, ya que MediaPipe trabaja con imágenes en formato RGB.</li>
<li>Se procesan los fotogramas y se extraen las coordenadas de la mano si se detecta.</li>
<li>Se dibujan los puntos clave de la mano y sus conexiones en la imagen original.</li>
<li>Se muestra el resultado en una ventana de OpenCV.</li>
</ol>
</div>
</div>

<div id="outline-container-orgbedd9ab" class="outline-4">
<h4 id="orgbedd9ab">Mejoras Posibles</h4>
<div class="outline-text-4" id="text-orgbedd9ab">
<ul class="org-ul">
<li>Contar cuántas manos hay con <code>len(results.multi_hand_landmarks)</code>.</li>
<li>Detectar gestos analizando las posiciones de los dedos.</li>
<li>Guardar las coordenadas para análisis posterior.</li>
</ul>
</div>
</div>

<div id="outline-container-org8a6bc7e" class="outline-4">
<h4 id="org8a6bc7e">Indice de dedos en mediapipe</h4>
<div class="outline-text-4" id="text-org8a6bc7e">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">Índice</th>
<th scope="col" class="org-left">Dedo / Punto</th>
<th scope="col" class="org-left">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">0</td>
<td class="org-left">Muñeca (wrist)</td>
<td class="org-left">Base de la mano</td>
</tr>

<tr>
<td class="org-right">1</td>
<td class="org-left">Base del pulgar</td>
<td class="org-left">Unión del pulgar con la palma</td>
</tr>

<tr>
<td class="org-right">2</td>
<td class="org-left">Primera falange del pulgar</td>
<td class="org-left">Parte inferior del pulgar</td>
</tr>

<tr>
<td class="org-right">3</td>
<td class="org-left">Segunda falange del pulgar</td>
<td class="org-left">Parte media del pulgar</td>
</tr>

<tr>
<td class="org-right">4</td>
<td class="org-left">Punta del pulgar</td>
<td class="org-left">Extremo del pulgar</td>
</tr>

<tr>
<td class="org-right">5</td>
<td class="org-left">Base del índice</td>
<td class="org-left">Unión del índice con la palma</td>
</tr>

<tr>
<td class="org-right">6</td>
<td class="org-left">Primera falange del índice</td>
<td class="org-left">Parte inferior del índice</td>
</tr>

<tr>
<td class="org-right">7</td>
<td class="org-left">Segunda falange del índice</td>
<td class="org-left">Parte media del índice</td>
</tr>

<tr>
<td class="org-right">8</td>
<td class="org-left">Punta del índice</td>
<td class="org-left">Extremo del índice</td>
</tr>

<tr>
<td class="org-right">9</td>
<td class="org-left">Base del medio</td>
<td class="org-left">Unión del dedo medio con la palma</td>
</tr>

<tr>
<td class="org-right">10</td>
<td class="org-left">Primera falange del medio</td>
<td class="org-left">Parte inferior del medio</td>
</tr>

<tr>
<td class="org-right">11</td>
<td class="org-left">Segunda falange del medio</td>
<td class="org-left">Parte media del medio</td>
</tr>

<tr>
<td class="org-right">12</td>
<td class="org-left">Punta del medio</td>
<td class="org-left">Extremo del medio</td>
</tr>

<tr>
<td class="org-right">13</td>
<td class="org-left">Base del anular</td>
<td class="org-left">Unión del anular con la palma</td>
</tr>

<tr>
<td class="org-right">14</td>
<td class="org-left">Primera falange del anular</td>
<td class="org-left">Parte inferior del anular</td>
</tr>

<tr>
<td class="org-right">15</td>
<td class="org-left">Segunda falange del anular</td>
<td class="org-left">Parte media del anular</td>
</tr>

<tr>
<td class="org-right">16</td>
<td class="org-left">Punta del anular</td>
<td class="org-left">Extremo del anular</td>
</tr>

<tr>
<td class="org-right">17</td>
<td class="org-left">Base del meñique</td>
<td class="org-left">Unión del meñique con la palma</td>
</tr>

<tr>
<td class="org-right">18</td>
<td class="org-left">Primera falange del meñique</td>
<td class="org-left">Parte inferior del meñique</td>
</tr>

<tr>
<td class="org-right">19</td>
<td class="org-left">Segunda falange del meñique</td>
<td class="org-left">Parte media del meñique</td>
</tr>

<tr>
<td class="org-right">20</td>
<td class="org-left">Punta del meñique</td>
<td class="org-left">Extremo del meñique</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org0d27752" class="outline-4">
<h4 id="org0d27752">Medipipe Reconocimiento de letras</h4>
<div class="outline-text-4" id="text-org0d27752">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> mediapipe <span style="color: #a020f0;">as</span> mp
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar MediaPipe Hands</span>
<span style="color: #a0522d;">mp_hands</span> = mp.solutions.hands
<span style="color: #a0522d;">mp_drawing</span> = mp.solutions.drawing_utils
<span style="color: #a0522d;">hands</span> = mp_hands.Hands<span style="color: #707183;">(</span>min_detection_confidence=0.7, min_tracking_confidence=0.7<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Funci&#243;n para determinar la letra seg&#250;n la posici&#243;n de los dedos</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">reconocer_letra</span><span style="color: #707183;">(</span>hand_landmarks, frame<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener coordenadas de los puntos clave de la mano</span>
<span style="background-color: #f2f2f2;"> </span>   dedos = <span style="color: #707183;">[</span>hand_landmarks.landmark<span style="color: #7388d6;">[</span>i<span style="color: #7388d6;">]</span> <span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #7388d6;">(</span>21<span style="color: #7388d6;">)</span><span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener posiciones clave (puntas y base de los dedos)</span>
<span style="background-color: #f2f2f2;"> </span>   pulgar = dedos<span style="color: #707183;">[</span>4<span style="color: #707183;">]</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Punta del pulgar</span>
<span style="background-color: #f2f2f2;"> </span>   indice = dedos<span style="color: #707183;">[</span>8<span style="color: #707183;">]</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Punta del &#237;ndice</span>
<span style="background-color: #f2f2f2;"> </span>   medio = dedos<span style="color: #707183;">[</span>12<span style="color: #707183;">]</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Punta del medio</span>
<span style="background-color: #f2f2f2;"> </span>   anular = dedos<span style="color: #707183;">[</span>16<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Punta del anular</span>
<span style="background-color: #f2f2f2;"> </span>   me&#241;ique = dedos<span style="color: #707183;">[</span>20<span style="color: #707183;">]</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">Punta del me&#241;ique</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Distancias entre puntos (para definir gestos)</span>
<span style="background-color: #f2f2f2;"> </span>   distancia_pulgar_indice = np.linalg.norm<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>pulgar.x - indice.x, pulgar.y - indice.y<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   distancia_indice_medio = np.linalg.norm<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>indice.x - medio.x, indice.y - medio.y<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">L&#243;gica para reconocer algunas letras</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> distancia_pulgar_indice &lt; 0.05 <span style="color: #a020f0;">and</span> distancia_indice_medio &gt; 0.1:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"A"</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Se&#241;a de la letra A (pu&#241;o cerrado con pulgar al lado)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> indice.y &lt; medio.y <span style="color: #a020f0;">and</span> medio.y &lt; anular.y <span style="color: #a020f0;">and</span> anular.y &lt; me&#241;ique.y:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"B"</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Se&#241;a de la letra B (todos los dedos estirados, pulgar en la palma)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> distancia_pulgar_indice &gt; 0.1 <span style="color: #a020f0;">and</span> distancia_indice_medio &gt; 0.1:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"C"</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Se&#241;a de la letra C (mano en forma de "C")</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"Desconocido"</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Captura de video en tiempo real</span>
cap = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span> cap.isOpened<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> ret:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir a RGB</span>
<span style="background-color: #f2f2f2;"> </span>   frame_rgb = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2RGB<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Procesar la imagen con MediaPipe</span>
<span style="background-color: #f2f2f2;"> </span>   results = hands.process<span style="color: #707183;">(</span>frame_rgb<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar puntos de la mano y reconocer letras</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> results.multi_hand_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> hand_landmarks <span style="color: #a020f0;">in</span> results.multi_hand_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   mp_drawing.draw_landmarks<span style="color: #707183;">(</span>frame, hand_landmarks, mp_hands.HAND_CONNECTIONS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Identificar la letra</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   letra_detectada = reconocer_letra<span style="color: #707183;">(</span>hand_landmarks, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la letra en pantalla</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.putText<span style="color: #707183;">(</span>frame, f<span style="color: #8b2252;">"Letra: </span>{letra_detectada}<span style="color: #8b2252;">"</span>, <span style="color: #7388d6;">(</span>50, 50<span style="color: #7388d6;">)</span>, 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.FONT_HERSHEY_SIMPLEX, 1, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, 2, cv2.LINE_AA<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar el video</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Reconocimiento de Letras"</span>, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Salir con la tecla 'q'</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Liberar recursos</span>
cap.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>

<p>
Landmark distancia Euclidiana
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> mediapipe <span style="color: #a020f0;">as</span> mp
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar MediaPipe Hands</span>
<span style="color: #a0522d;">mp_hands</span> = mp.solutions.hands
<span style="color: #a0522d;">mp_drawing</span> = mp.solutions.drawing_utils
<span style="color: #a0522d;">hands</span> = mp_hands.Hands<span style="color: #707183;">(</span>min_detection_confidence=0.7, min_tracking_confidence=0.7<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Funci&#243;n para determinar la letra seg&#250;n la posici&#243;n de los dedos</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">reconocer_letra</span><span style="color: #707183;">(</span>hand_landmarks, frame<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">h</span>, <span style="color: #a0522d;">w</span>, <span style="color: #a0522d;">_</span> = frame.shape  <span style="color: #b22222;"># </span><span style="color: #b22222;">Tama&#241;o de la imagen</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener coordenadas de los puntos clave en p&#237;xeles</span>
<span style="background-color: #f2f2f2;"> </span>   dedos = <span style="color: #707183;">[</span><span style="color: #7388d6;">(</span><span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>hand_landmarks.landmark<span style="color: #709870;">[</span>i<span style="color: #709870;">]</span>.x * w<span style="color: #909183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>hand_landmarks.landmark<span style="color: #709870;">[</span>i<span style="color: #709870;">]</span>.y * h<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span> <span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #7388d6;">(</span>21<span style="color: #7388d6;">)</span><span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener posiciones clave (puntas de los dedos)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">pulgar</span>, <span style="color: #a0522d;">indice</span>, <span style="color: #a0522d;">medio</span>, <span style="color: #a0522d;">anular</span>, <span style="color: #a0522d;">me&#241;ique</span> = dedos<span style="color: #707183;">[</span>4<span style="color: #707183;">]</span>, dedos<span style="color: #707183;">[</span>8<span style="color: #707183;">]</span>, dedos<span style="color: #707183;">[</span>12<span style="color: #707183;">]</span>, dedos<span style="color: #707183;">[</span>16<span style="color: #707183;">]</span>, dedos<span style="color: #707183;">[</span>20<span style="color: #707183;">]</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar los n&#250;meros de los landmarks en la imagen</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> i, <span style="color: #707183;">(</span>x, y<span style="color: #707183;">)</span> <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">enumerate</span><span style="color: #707183;">(</span>dedos<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>x, y<span style="color: #7388d6;">)</span>, 8, <span style="color: #7388d6;">(</span>0, 234, 0<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Puntos verdes</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.putText<span style="color: #707183;">(</span>frame, <span style="color: #483d8b;">str</span><span style="color: #7388d6;">(</span>i<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>x, y - 10<span style="color: #7388d6;">)</span>, cv2.FONT_HERSHEY_SIMPLEX, 0.5, <span style="color: #7388d6;">(</span>0, 255, 255<span style="color: #7388d6;">)</span>, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar coordenadas del pulgar</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.putText<span style="color: #707183;">(</span>frame, f<span style="color: #8b2252;">'(</span>{<span style="color: #483d8b;">int</span>(pulgar[0])}<span style="color: #8b2252;">, </span>{<span style="color: #483d8b;">int</span>(pulgar[1])}<span style="color: #8b2252;">)'</span>, <span style="color: #7388d6;">(</span>pulgar<span style="color: #909183;">[</span>0<span style="color: #909183;">]</span>, pulgar<span style="color: #909183;">[</span>1<span style="color: #909183;">]</span> - 15<span style="color: #7388d6;">)</span>, 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.FONT_HERSHEY_SIMPLEX, 0.6, <span style="color: #7388d6;">(</span>245, 0, 0<span style="color: #7388d6;">)</span>, 2, cv2.LINE_AA<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   cv2.line<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span><span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>pulgar<span style="color: #709870;">[</span>0<span style="color: #709870;">]</span><span style="color: #909183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>pulgar<span style="color: #709870;">[</span>1<span style="color: #709870;">]</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span><span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>indice<span style="color: #709870;">[</span>0<span style="color: #709870;">]</span><span style="color: #909183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>indice<span style="color: #709870;">[</span>1<span style="color: #709870;">]</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>244,34,12<span style="color: #7388d6;">)</span>, 2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular distancias en p&#237;xeles</span>
<span style="background-color: #f2f2f2;"> </span>   distancia_pulgar_indice = np.linalg.norm<span style="color: #707183;">(</span>np.array<span style="color: #7388d6;">(</span>pulgar<span style="color: #7388d6;">)</span> - np.array<span style="color: #7388d6;">(</span>indice<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   distancia_indice_medio = np.linalg.norm<span style="color: #707183;">(</span>np.array<span style="color: #7388d6;">(</span>indice<span style="color: #7388d6;">)</span> - np.array<span style="color: #7388d6;">(</span>medio<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>200,200<span style="color: #7388d6;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #7388d6;">(</span>distancia_pulgar_indice<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>244,34,12<span style="color: #7388d6;">)</span>, 2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   

<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   cv2.putText<span style="color: #707183;">(</span>frame, f<span style="color: #8b2252;">'(</span>{distancia_pulgar_indice}<span style="color: #8b2252;">)'</span>, <span style="color: #7388d6;">(</span>pulgar<span style="color: #909183;">[</span>0<span style="color: #909183;">]</span>-40, pulgar<span style="color: #909183;">[</span>1<span style="color: #909183;">]</span> - 45<span style="color: #7388d6;">)</span>, 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.FONT_HERSHEY_SIMPLEX, 0.6, <span style="color: #7388d6;">(</span>255, 255, 255<span style="color: #7388d6;">)</span>, 2, cv2.LINE_AA<span style="color: #707183;">)</span>


<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">cv2.circle(frame, (pulgar[0]+20,pulgar[1]+20), int(distancia_indice_medio), (34,234,65), -1 )</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">L&#243;gica para reconocer algunas letras</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> distancia_pulgar_indice &lt; 30 <span style="color: #a020f0;">and</span> distancia_indice_medio &gt; 50:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"A"</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Se&#241;a de la letra A (pu&#241;o cerrado con pulgar al lado)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> indice<span style="color: #707183;">[</span>1<span style="color: #707183;">]</span> &lt; medio<span style="color: #707183;">[</span>1<span style="color: #707183;">]</span> <span style="color: #a020f0;">and</span> medio<span style="color: #707183;">[</span>1<span style="color: #707183;">]</span> &lt; anular<span style="color: #707183;">[</span>1<span style="color: #707183;">]</span> <span style="color: #a020f0;">and</span> anular<span style="color: #707183;">[</span>1<span style="color: #707183;">]</span> &lt; me&#241;ique<span style="color: #707183;">[</span>1<span style="color: #707183;">]</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"B"</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Se&#241;a de la letra B (todos los dedos estirados, pulgar en la palma)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> distancia_pulgar_indice &gt; 50 <span style="color: #a020f0;">and</span> distancia_indice_medio &gt; 50:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"C"</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Se&#241;a de la letra C (mano en forma de "C")</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"Desconocido"</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Captura de video en tiempo real</span>
cap = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span> cap.isOpened<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> ret:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir a RGB</span>
<span style="background-color: #f2f2f2;"> </span>   frame_rgb = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2RGB<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Procesar la imagen con MediaPipe</span>
<span style="background-color: #f2f2f2;"> </span>   results = hands.process<span style="color: #707183;">(</span>frame_rgb<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar puntos de la mano y reconocer letras</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> results.multi_hand_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> hand_landmarks <span style="color: #a020f0;">in</span> results.multi_hand_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">mp_drawing.draw_landmarks(frame, hand_landmarks, mp_hands.HAND_CONNECTIONS)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Identificar la letra</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   letra_detectada = reconocer_letra<span style="color: #707183;">(</span>hand_landmarks, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la letra en pantalla</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.putText<span style="color: #707183;">(</span>frame, f<span style="color: #8b2252;">"Letra: </span>{letra_detectada}<span style="color: #8b2252;">"</span>, <span style="color: #7388d6;">(</span>50, 50<span style="color: #7388d6;">)</span>, 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.FONT_HERSHEY_SIMPLEX, 1, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, 2, cv2.LINE_AA<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar el video</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Reconocimiento de Letras"</span>, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Salir con la tecla 'q'</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Liberar recursos</span>
cap.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> mediapipe <span style="color: #a020f0;">as</span> mp

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar MediaPipe Face Mesh</span>
<span style="color: #a0522d;">mp_face_mesh</span> = mp.solutions.face_mesh
<span style="color: #a0522d;">face_mesh</span> = mp_face_mesh.FaceMesh<span style="color: #707183;">(</span>static_image_mode=<span style="color: #008b8b;">False</span>, max_num_faces=2, min_detection_confidence=0.5, min_tracking_confidence=0.5<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar dibujador de MediaPipe</span>
mp_drawing = mp.solutions.drawing_utils
drawing_spec = mp_drawing.DrawingSpec<span style="color: #707183;">(</span>thickness=1, circle_radius=1, color=<span style="color: #7388d6;">(</span>234, 255, 233<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Puntos verdes</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Captura de video</span>
cap = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span> cap.isOpened<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   ret, frame = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> ret:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   frqame = cv2.flip<span style="color: #707183;">(</span>frame, 1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Espejo para mayor naturalidad</span>
<span style="background-color: #f2f2f2;"> </span>   rgb_frame = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2RGB<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   results = face_mesh.process<span style="color: #707183;">(</span>rgb_frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> results.multi_face_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> face_landmarks <span style="color: #a020f0;">in</span> results.multi_face_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   mp_drawing.draw_landmarks<span style="color: #707183;">(</span>frame, face_landmarks, mp_face_mesh.FACEMESH_TESSELATION, drawing_spec, drawing_spec<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'PuntosFacialesMediaPipe'</span>, frame<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

cap.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> mediapipe <span style="color: #a020f0;">as</span> mp
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar MediaPipe Face Detection</span>
<span style="color: #a0522d;">mp_face_detection</span> = mp.solutions.face_detection
<span style="color: #a0522d;">face_detection</span> = mp_face_detection.FaceDetection<span style="color: #707183;">(</span>min_detection_confidence=0.7<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la m&#225;scara con transparencia (debe ser un PNG con canal alpha)</span>
mask = cv2.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">"300.png"</span>, cv2.IMREAD_UNCHANGED<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Funci&#243;n para superponer la m&#225;scara en la cara</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">overlay_mask</span><span style="color: #707183;">(</span>frame, mask, x, y, w, h<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Redimensionar la m&#225;scara al tama&#241;o de la cara detectada</span>
<span style="background-color: #f2f2f2;"> </span>   mask_resized = cv2.resize<span style="color: #707183;">(</span>mask, <span style="color: #7388d6;">(</span>w, h<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Extraer los canales de la m&#225;scara (RGBA)</span>
<span style="background-color: #f2f2f2;"> </span>   mask_rgb = mask_resized<span style="color: #707183;">[</span>:, :, :3<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Canales de color</span>
<span style="background-color: #f2f2f2;"> </span>   mask_alpha = mask_resized<span style="color: #707183;">[</span>:, :, 3<span style="color: #707183;">]</span> / 255.0  <span style="color: #b22222;"># </span><span style="color: #b22222;">Canal de transparencia</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener la regi&#243;n donde se colocar&#225; la m&#225;scara</span>
<span style="background-color: #f2f2f2;"> </span>   roi = frame<span style="color: #707183;">[</span>y:y+h, x:x+w<span style="color: #707183;">]</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mezclar la m&#225;scara con el frame</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> c <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>3<span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar a cada canal de color (BGR)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   roi<span style="color: #707183;">[</span>:, :, c<span style="color: #707183;">]</span> = <span style="color: #707183;">(</span>1 - mask_alpha<span style="color: #707183;">)</span> * roi<span style="color: #707183;">[</span>:, :, c<span style="color: #707183;">]</span> + mask_alpha * mask_rgb<span style="color: #707183;">[</span>:, :, c<span style="color: #707183;">]</span>

<span style="background-color: #f2f2f2;"> </span>   frame<span style="color: #707183;">[</span>y:y+h, x:x+w<span style="color: #707183;">]</span> = roi  <span style="color: #b22222;"># </span><span style="color: #b22222;">Colocar la m&#225;scara en el frame</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Captura de video</span>
cap = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span> cap.isOpened<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> ret:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   frame = cv2.flip<span style="color: #707183;">(</span>frame, 1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Espejo para mejor experiencia</span>
<span style="background-color: #f2f2f2;"> </span>   rgb_frame = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2RGB<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   results = face_detection.process<span style="color: #707183;">(</span>rgb_frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> results.detections:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> detection <span style="color: #a020f0;">in</span> results.detections:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener la caja delimitadora del rostro</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   bboxC = detection.location_data.relative_bounding_box
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ih</span>, <span style="color: #a0522d;">iw</span>, <span style="color: #a0522d;">_</span> = frame.shape  <span style="color: #b22222;"># </span><span style="color: #b22222;">Alto y ancho del frame</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir a coordenadas de p&#237;xeles</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   x = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>bboxC.xmin * iw<span style="color: #707183;">)</span> - 20
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   y = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>bboxC.ymin * ih<span style="color: #707183;">)</span> - 40
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   w = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>bboxC.width * iw<span style="color: #707183;">)</span> + 40
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   h = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>bboxC.height * ih<span style="color: #707183;">)</span> + 40

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Superponer la m&#225;scara en la imagen</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   overlay_mask<span style="color: #707183;">(</span>frame, mask, x, y, w, h<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Mascara Animada"</span>, frame<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

cap.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>



<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> mediapipe <span style="color: #a020f0;">as</span> mp

<span style="color: #a0522d;">mp_hands</span> = mp.solutions.hands
<span style="color: #a0522d;">mp_drawing</span> = mp.solutions.drawing_utils
<span style="color: #a0522d;">hands</span> = mp_hands.Hands<span style="color: #707183;">(</span>static_image_mode=<span style="color: #008b8b;">False</span>, max_num_hands=2, min_detection_confidence=0.5<span style="color: #707183;">)</span>

cap = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:
<span style="background-color: #f2f2f2;"> </span>   ret, frame = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> ret:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   frame= cv2.flip<span style="color: #707183;">(</span>frame, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir imagen a RGB (MediaPipe usa RGB)</span>
<span style="background-color: #f2f2f2;"> </span>   frame_rgb = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2RGB<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   results = hands.process<span style="color: #707183;">(</span>frame_rgb<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Variables para guardar coordenadas</span>
<span style="background-color: #f2f2f2;"> </span>   left_index = <span style="color: #008b8b;">None</span>
<span style="background-color: #f2f2f2;"> </span>   right_index = <span style="color: #008b8b;">None</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.rectangle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>100,100<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>300,300<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>255, 0, 0<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> results.multi_hand_landmarks <span style="color: #a020f0;">and</span> results.multi_handedness:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> hand_landmarks, handedness <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">zip</span><span style="color: #707183;">(</span>results.multi_hand_landmarks, results.multi_handedness<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   label = handedness.classification<span style="color: #707183;">[</span>0<span style="color: #707183;">]</span>.label  <span style="color: #b22222;"># </span><span style="color: #b22222;">'Left' o 'Right'</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">print(label)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   h, w, _ = frame.shape
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Coordenadas del &#237;ndice (landmark 8)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   index_tip = hand_landmarks.landmark<span style="color: #707183;">[</span>8<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   x, y = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>index_tip.x * w<span style="color: #707183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>index_tip.y * h<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Guardar seg&#250;n la mano</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> label == <span style="color: #8b2252;">'Left'</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   left_index = <span style="color: #707183;">(</span>x, y<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> label == <span style="color: #8b2252;">'Right'</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   right_index = <span style="color: #707183;">(</span>x, y<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar los landmarks (opcional)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   mp_drawing.draw_landmarks<span style="color: #707183;">(</span>frame, hand_landmarks, mp_hands.HAND_CONNECTIONS<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Si ambas manos detectadas, dibujar l&#237;nea entre los dos puntos</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> left_index <span style="color: #a020f0;">and</span> right_index:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">cv2.line(frame, left_index, right_index, (0, 255, 0), 3)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.rectangle<span style="color: #707183;">(</span>frame, left_index, right_index, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>frame, left_index, 8, <span style="color: #7388d6;">(</span>255, 0, 0<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>frame, right_index, 8, <span style="color: #7388d6;">(</span>0, 0, 255<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Line"</span>, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == 27:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

cap.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>


<p>
SRC python
import cv2
import mediapipe as mp
</p>

<p>
mp<sub>face</sub><sub>mesh</sub> = mp.solutions.face<sub>mesh</sub>
face<sub>mesh</sub> = mp<sub>face</sub><sub>mesh.FaceMesh</sub>(static<sub>image</sub><sub>mode</sub>=False, max<sub>num</sub><sub>faces</sub>=2, min<sub>detection</sub><sub>confidence</sub>=0.5, min<sub>tracking</sub><sub>confidence</sub>=0.5)
</p>

<p>
mp<sub>drawing</sub> = mp.solutions.drawing<sub>utils</sub>
drawing<sub>spec</sub> = mp<sub>drawing.DrawingSpec</sub>(thickness=1, circle<sub>radius</sub>=1, color=(234, 255, 233))  # Puntos verdes
</p>

<p>
cap = cv2.VideoCapture(0)
</p>

<p>
while cap.isOpened():
    ret, frame = cap.read()
    if not ret:
        break
</p>

<p>
frame = cv2.flip(frame, 1)  # Espejo para mayor naturalidad
rgb<sub>frame</sub> = cv2.cvtColor(frame, cv2.COLOR<sub>BGR2RGB</sub>)
results = face<sub>mesh.process</sub>(rgb<sub>frame</sub>)
</p>

<p>
if results.multi<sub>face</sub><sub>landmarks</sub>:
	for face<sub>landmarks</sub> in results.multi<sub>face</sub><sub>landmarks</sub>:
		mp<sub>drawing.draw</sub><sub>landmarks</sub>(frame, face<sub>landmarks</sub>, mp<sub>face</sub><sub>mesh.FACEMESH</sub><sub>TESSELATION</sub>, drawing<sub>spec</sub>, drawing<sub>spec</sub>)
</p>

<p>
cv2.imshow('PuntosFacialesMediaPipe', frame)
if cv2.waitKey(1) &amp; 0xFF == ord('q'):
	break
</p>

<p>
cap.release()
cv2.destroyAllWindows()
</p>

<p>
#+END<sub>SRC</sub>
</p>

<pre class="example">
None
</pre>



<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> mediapipe <span style="color: #a020f0;">as</span> mp

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar MediaPipe Face Mesh</span>
<span style="color: #a0522d;">mp_face_mesh</span> = mp.solutions.face_mesh
<span style="color: #a0522d;">face_mesh</span> = mp_face_mesh.FaceMesh<span style="color: #707183;">(</span>static_image_mode=<span style="color: #008b8b;">False</span>, max_num_faces=2, 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> min_detection_confidence=0.5, min_tracking_confidence=0.5<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar dibujador de MediaPipe</span>
mp_drawing = mp.solutions.drawing_utils
drawing_spec = mp_drawing.DrawingSpec<span style="color: #707183;">(</span>thickness=1, circle_radius=1, color=<span style="color: #7388d6;">(</span>234, 255, 233<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Captura de video</span>
cap = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span> cap.isOpened<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   ret, frame = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> ret:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   frame = cv2.flip<span style="color: #707183;">(</span>frame, 1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Espejo para mayor naturalidad</span>
<span style="background-color: #f2f2f2;"> </span>   rgb_frame = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2RGB<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   results = face_mesh.process<span style="color: #707183;">(</span>rgb_frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> results.multi_face_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> face_landmarks <span style="color: #a020f0;">in</span> results.multi_face_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar solo los contornos en lugar de la teselaci&#243;n completa</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   mp_drawing.draw_landmarks<span style="color: #707183;">(</span>frame, face_landmarks, mp_face_mesh.FACEMESH_CONTOURS, 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> drawing_spec, drawing_spec<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'PuntosFacialesMediaPipe'</span>, frame<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

cap.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> mediapipe <span style="color: #a020f0;">as</span> mp
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar MediaPipe Face Mesh</span>
<span style="color: #a0522d;">mp_face_mesh</span> = mp.solutions.face_mesh
<span style="color: #a0522d;">face_mesh</span> = mp_face_mesh.FaceMesh<span style="color: #707183;">(</span>static_image_mode=<span style="color: #008b8b;">False</span>, max_num_faces=2, 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> min_detection_confidence=0.5, min_tracking_confidence=0.5<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Captura de video</span>
cap = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Lista de &#237;ndices de landmarks espec&#237;ficos (ojos y boca)</span>
selected_points = <span style="color: #707183;">[</span>33, 133, 362, 263, 61, 291, 4, 36, 0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Ojos y boca</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">distancia</span><span style="color: #707183;">(</span>p1, p2<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Calcula la distancia euclidiana entre dos puntos."""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> np.linalg.norm<span style="color: #707183;">(</span>np.array<span style="color: #7388d6;">(</span>p1<span style="color: #7388d6;">)</span> - np.array<span style="color: #7388d6;">(</span>p2<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span> cap.isOpened<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   ret, frame = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> ret:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   frame = cv2.flip<span style="color: #707183;">(</span>frame, 1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Espejo para mayor naturalidad</span>
<span style="background-color: #f2f2f2;"> </span>   rgb_frame = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2RGB<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   results = face_mesh.process<span style="color: #707183;">(</span>rgb_frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> results.multi_face_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> face_landmarks <span style="color: #a020f0;">in</span> results.multi_face_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   puntos = <span style="color: #707183;">{}</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> idx <span style="color: #a020f0;">in</span> selected_points:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   x = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>face_landmarks.landmark<span style="color: #7388d6;">[</span>idx<span style="color: #7388d6;">]</span>.x * frame.shape<span style="color: #7388d6;">[</span>1<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   y = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>face_landmarks.landmark<span style="color: #7388d6;">[</span>idx<span style="color: #7388d6;">]</span>.y * frame.shape<span style="color: #7388d6;">[</span>0<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   puntos<span style="color: #707183;">[</span><span style="color: #a0522d;">idx</span><span style="color: #707183;">]</span> = <span style="color: #707183;">(</span>x, y<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>x, y<span style="color: #7388d6;">)</span>, 2, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja el punto en verde</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular y mostrar distancia entre puntos (ejemplo: entre ojos)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> 33 <span style="color: #a020f0;">in</span> puntos <span style="color: #a020f0;">and</span> 133 <span style="color: #a020f0;">in</span> puntos:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   d_ojos = distancia<span style="color: #707183;">(</span>puntos<span style="color: #7388d6;">[</span>33<span style="color: #7388d6;">]</span>, puntos<span style="color: #7388d6;">[</span>133<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">print(puntos[33])</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">cv2.line(frame, (puntos[33][0], puntos[33][1]), (puntos[133][0], puntos[133][1]), (23, 234,23), 2 )</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.putText<span style="color: #707183;">(</span>frame, f<span style="color: #8b2252;">" </span>{<span style="color: #483d8b;">int</span>(puntos[61][0]-20), <span style="color: #483d8b;">int</span>(puntos[61][1]-20) }<span style="color: #8b2252;">"</span>, <span style="color: #7388d6;">(</span>puntos<span style="color: #909183;">[</span>61<span style="color: #909183;">][</span>0<span style="color: #909183;">]</span>, puntos<span style="color: #909183;">[</span>61<span style="color: #909183;">][</span>1<span style="color: #909183;">]</span> - 10<span style="color: #7388d6;">)</span>, 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.FONT_HERSHEY_SIMPLEX, 0.5, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">cv2.putText(frame, f"D: {int(d_ojos)}", (puntos[33][0], puntos[33][1] - 10), </span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#            </span><span style="color: #b22222;">cv2.FONT_HERSHEY_SIMPLEX, 0.5, (0, 255, 0), 1)</span>

<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'PuntosFacialesMediaPipe'</span>, frame<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

cap.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</div>
</div>
</div>




<div id="outline-container-org6d9f462" class="outline-2">
<h2 id="org6d9f462">Actividades</h2>
<div class="outline-text-2" id="text-org6d9f462">
<ul class="org-ul">
<li>Generar una imagen tipo pixel art utilizando una matriz de enteros en el rango de 0 a 255.</li>
<li>Generar al menos cinco operadores puntuales utilizando la imagen generada o una imagen previamente cargada.</li>
<li>Aplicar las transformaciones geométricas vistas en clase.</li>
<li>Investigar qué son las ecuaciones paramétricas.</li>
<li>Crear un dibujo mediante primitivas de dibujo utilizando OpenCV.</li>
<li>Programar al menos 10 ecuaciones paramétricas.</li>
</ul>

<p>
Todas las actividades anteriores deben estar documentadas en formato Markdown en el repositorio.  
</p>
</div>
</div>


<div id="outline-container-org78fefe8" class="outline-2">
<h2 id="org78fefe8">Programación</h2>
<div class="outline-text-2" id="text-org78fefe8">
</div>
<div id="outline-container-org8dfd794" class="outline-3">
<h3 id="org8dfd794">Programas Unidad 1</h3>
<div class="outline-text-3" id="text-org8dfd794">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np 

<span style="color: #a0522d;">img</span> =cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>,1<span style="color: #707183;">)</span>
<span style="color: #a0522d;">img2</span> =cv.cvtColor<span style="color: #707183;">(</span>img, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img2a'</span>, img2<span style="color: #707183;">)</span>
<span style="color: #a0522d;">x</span>,<span style="color: #a0522d;">y</span>=img2.shape<span style="color: #707183;">[</span>:2<span style="color: #707183;">]</span>
<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span>x,y<span style="color: #707183;">)</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>x<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>y<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img2</span><span style="color: #707183;">[</span><span style="color: #a0522d;">i</span>,<span style="color: #a0522d;">j</span><span style="color: #707183;">]</span>=255-img2<span style="color: #707183;">[</span>i,j<span style="color: #707183;">]</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img2b'</span>, img2<span style="color: #707183;">)</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">img3 =cv.cvtColor(img, cv.COLOR_BGR2RGB)</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">img4 =cv.cvtColor(img, cv.COLOR_BGR2BGRA)</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">img5 =cv.cvtColor(img4, cv.COLOR_BGRA2BGR65)</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">cv.imshow('img', img)</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">cv.imshow('img2', img2)</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">cv.imshow('img3', img3)3</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">cv.imshow('img4', img4)</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">cv.imshow('img4', img5)</span>

cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>





<div id="outline-container-org6cc544c" class="outline-4">
<h4 id="org6cc544c">Creación de una Imagen</h4>
<div class="outline-text-4" id="text-org6cc544c">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np   <span style="color: #b22222;"># </span><span style="color: #b22222;">Importa la librer&#237;a NumPy, &#250;til para trabajar con arreglos y operaciones num&#233;ricas.</span>
<span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv     <span style="color: #b22222;"># </span><span style="color: #b22222;">Importa la librer&#237;a OpenCV, que se utiliza para procesamiento de im&#225;genes.</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Crea una imagen de 500x500 p&#237;xeles, todos con valor 240 (gris claro). </span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">La imagen tiene solo un canal (escala de grises) y est&#225; inicializada con valores de tipo uint8 (enteros sin signo de 8 bits).</span>
<span style="color: #a0522d;">img</span> = np.ones<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>500, 500<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>*255 
<span style="color: #b22222;"># </span><span style="color: #b22222;">Modifica algunos p&#237;xeles espec&#237;ficos en las coordenadas (30, 30) a (30, 35) para que tengan un valor de 1 (casi negro).</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Esto crear&#225; una peque&#241;a l&#237;nea vertical de 6 p&#237;xeles en la imagen de color casi negro.</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>30<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   img<span style="color: #707183;">[</span><span style="color: #a0522d;">i</span>, <span style="color: #a0522d;">i</span><span style="color: #707183;">]</span> = 159

img<span style="color: #707183;">[</span>30, 31<span style="color: #707183;">]</span> = 1
img<span style="color: #707183;">[</span>30, 32<span style="color: #707183;">]</span> = 1
img<span style="color: #707183;">[</span>30, 33<span style="color: #707183;">]</span> = 1
img<span style="color: #707183;">[</span>30, 34<span style="color: #707183;">]</span> = 1
img<span style="color: #707183;">[</span>30, 35<span style="color: #707183;">]</span> = 1
<span style="color: #b22222;"># </span><span style="color: #b22222;">Muestra la imagen en una ventana con el t&#237;tulo 'img'. </span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img'</span>, img<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Espera a que el usuario presione cualquier tecla para continuar.</span>
cv.waitKey<span style="color: #707183;">()</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Cierra todas las ventanas creadas por OpenCV.</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org137a011" class="outline-4">
<h4 id="org137a011">Cargar Imagen</h4>
<div class="outline-text-4" id="text-org137a011">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv  <span style="color: #b22222;"># </span><span style="color: #b22222;">Importa la librer&#237;a OpenCV, que se usa para el procesamiento de im&#225;genes y videos.</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Lee una imagen desde el archivo 'tr.png'. </span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">El segundo argumento '1' indica que se leer&#225; la imagen en color (1 para color, 0 para escala de grises, -1 para incluir el canal alfa si existe).</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Muestra la imagen le&#237;da en una ventana llamada 'ejemplo'.</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'ejemplo'</span>, img<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Espera indefinidamente hasta que el usuario presione una tecla.</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cierra todas las ventanas abiertas por OpenCV.</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc635705" class="outline-4">
<h4 id="orgc635705">Split y Merge Imagen</h4>
<div class="outline-text-4" id="text-orgc635705">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv  <span style="color: #b22222;"># </span><span style="color: #b22222;">Importa OpenCV, que es &#250;til para procesamiento de im&#225;genes.</span>
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np  <span style="color: #b22222;"># </span><span style="color: #b22222;">Importa NumPy, que es &#250;til para trabajar con matrices y operaciones num&#233;ricas.</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Carga la imagen '1a.png' en color (1 para color, 0 para escala de grises).</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'1a.png'</span>, 1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crea una imagen vac&#237;a (llena de ceros, que representa color negro) con el mismo tama&#241;o que la imagen original.</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">La imagen vac&#237;a tiene un solo canal (escala de grises), por lo que se usa `img.shape[:2]` para obtener las dimensiones de la imagen (alto, ancho).</span>
<span style="color: #a0522d;">img2</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>img.shape<span style="color: #909183;">[</span>:2<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Imprime las dimensiones de la imagen en la terminal (alto, ancho).</span>
<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span>img.shape<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Separa los canales rojo (r), verde (g) y azul (b) de la imagen utilizando la funci&#243;n `cv.split()`.</span>
<span style="color: #a0522d;">r</span>, <span style="color: #a0522d;">g</span>, <span style="color: #a0522d;">b</span> = cv.split<span style="color: #707183;">(</span>img<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Recombina los canales, pero los reorganiza como rojo, azul y verde (RBG en lugar de RGB).</span>
r2 = cv.merge<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>img2, img2, r<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
g2 = cv.merge<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>img, g, img2<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
b2 = cv.merge<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>b, img2, img2<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">img3 = cv.merge([b, r, g])</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Crea una imagen que contiene solo el canal rojo, llenando los otros dos canales (verde y azul) con ceros (negro).</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">r = cv.merge([r, img2, img2])</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crea una imagen que contiene solo el canal verde, llenando los otros dos canales (rojo y azul) con ceros.</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">g = cv.merge([img2, g, img2])</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crea una imagen que contiene solo el canal azul, llenando los otros dos canales (rojo y verde) con ceros.#</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">b = cv.merge([img2, img2, b])</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Muestra la imagen original en una ventana llamada 'ejemplo'.</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'ejemplo'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'npzeros'</span>, img2<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'r2'</span>, r2<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'g2'</span>, g2<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'b2'</span>, b2<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Muestra la imagen con los canales reorganizados (RBG en lugar de RGB).</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">cv.imshow('img3', img3)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Espera indefinidamente a que el usuario presione una tecla.</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cierra todas las ventanas abiertas por OpenCV.</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org94b72f8" class="outline-4">
<h4 id="org94b72f8">Ejemplo de Operador Puntual en Imágenes</h4>
<div class="outline-text-4" id="text-org94b72f8">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv

<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'salida'</span>, img<span style="color: #707183;">)</span>
<span style="color: #a0522d;">x</span>,<span style="color: #a0522d;">y</span>=img.shape
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>x<span style="color: #707183;">)</span>:
        <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>y<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span><span style="color: #707183;">[</span><span style="color: #a0522d;">i</span>,<span style="color: #a0522d;">j</span><span style="color: #707183;">]</span>=255-img<span style="color: #707183;">[</span>i,j<span style="color: #707183;">]</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'negativo'</span>, img<span style="color: #707183;">)</span>
<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span> img.shape, x , y<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org7ae5bba" class="outline-4">
<h4 id="org7ae5bba">Cargar vídeo Opencv</h4>
<div class="outline-text-4" id="text-org7ae5bba">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a0522d;">cap</span> = cv.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span><span style="color: #707183;">(</span><span style="color: #008b8b;">True</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">img</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a0522d;">ret</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'video'</span>, img<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   img2 = cv.cvtColor<span style="color: #707183;">(</span>img, cv.COLOR_BGR2HSV<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'video1'</span>, img2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">k</span> =cv.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> k == 27 :
            <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">else</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>  
cap.release<span style="color: #707183;">()</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>




<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a0522d;">cap</span> = cv.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span><span style="color: #707183;">(</span><span style="color: #008b8b;">True</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">img</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a0522d;">ret</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'video'</span>, img<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   img2 = cv.cvtColor<span style="color: #707183;">(</span>img, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">hsv</span> = cv.cvtColor<span style="color: #707183;">(</span>img, cv.COLOR_BGR2HSV<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">w</span>,<span style="color: #a0522d;">h</span> = img2.shape
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img3</span>=255-img2
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img2'</span>, img2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'hsv'</span>, hsv<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img3'</span>, img3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">k</span> =cv.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> k == 27 :
            <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">else</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   
cap.release<span style="color: #707183;">()</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-org88bc8af" class="outline-4">
<h4 id="org88bc8af">Conteo</h4>
<div class="outline-text-4" id="text-org88bc8af">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #a0522d;">COLOR_MANCHA</span> = 90
<span style="color: #a0522d;">COLOR_FONDO</span> = 200
<span style="color: #a0522d;">TIEMPO_ESPERA</span> = 10 

<span style="color: #b22222;"># </span><span style="color: #b22222;">--- Carga y preprocesamiento de la imagen ---</span>
<span style="color: #a0522d;">img_gray</span> = cv2.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">"salida1.png"</span>, cv2.IMREAD_GRAYSCALE<span style="color: #707183;">)</span>

<span style="color: #a020f0;">if</span> img_gray <span style="color: #a020f0;">is</span> <span style="color: #008b8b;">None</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Error: No se pudo cargar la imagen. Aseg&#250;rate de que 'salida1.png' existe."</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Redimensionar</span>
escala = 0.7
<span style="color: #a0522d;">dim</span> = <span style="color: #707183;">(</span><span style="color: #483d8b;">int</span><span style="color: #7388d6;">(</span>img_gray.shape<span style="color: #909183;">[</span>1<span style="color: #909183;">]</span> * escala<span style="color: #7388d6;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #7388d6;">(</span>img_gray.shape<span style="color: #909183;">[</span>0<span style="color: #909183;">]</span> * escala<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="color: #a0522d;">img_gray_resized</span> = cv2.resize<span style="color: #707183;">(</span>img_gray, dim, interpolation=cv2.INTER_AREA<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Binarizar: las manchas son 255 (blanco), el fondo es 0 (negro)</span>
_, binary_img = cv2.threshold<span style="color: #707183;">(</span>img_gray_resized, 127, 255, cv2.THRESH_BINARY<span style="color: #707183;">)</span>

filas, cols = binary_img.shape
visitado = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>filas, cols<span style="color: #7388d6;">)</span>, dtype=<span style="color: #483d8b;">bool</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Copiar la imagen binarizada para trabajar sobre ella</span>
output_img = binary_img.copy<span style="color: #707183;">()</span>

vecinos_8_direcciones = <span style="color: #707183;">[</span><span style="color: #7388d6;">(</span>-1, -1<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>-1, 0<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>-1, 1<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span><span style="color: #7388d6;">(</span>0, -1<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>0, 1<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span><span style="color: #7388d6;">(</span>1, -1<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>1, 0<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>1, 1<span style="color: #7388d6;">)</span><span style="color: #707183;">]</span>

conteo = 0
cv2.namedWindow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Img"</span><span style="color: #707183;">)</span>

<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>filas<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>cols<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Si el usuario presiona 'q', salimos de los bucles</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> visitado<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Si el p&#237;xel es una mancha, la procesamos y la contamos</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> binary_img<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span> == 255:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   conteo += 1
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   pila = <span style="color: #707183;">[</span><span style="color: #7388d6;">(</span>i, j<span style="color: #7388d6;">)</span><span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   visitado<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span> = <span style="color: #008b8b;">True</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> pila:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   x, y = pila.pop<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   output_img<span style="color: #707183;">[</span>x, y<span style="color: #707183;">]</span> = COLOR_MANCHA
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la animaci&#243;n para cada p&#237;xel de la mancha</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Proceso de Conteo y Pintado"</span>, output_img<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>TIEMPO_ESPERA<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> dx, dy <span style="color: #a020f0;">in</span> vecinos_8_direcciones:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   nx, ny = x + dx, y + dy
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> 0 &lt;= nx &lt; filas <span style="color: #a020f0;">and</span> 0 &lt;= ny &lt; cols <span style="color: #a020f0;">and</span> \
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>  binary_img<span style="color: #707183;">[</span>nx, ny<span style="color: #707183;">]</span> == 255 <span style="color: #a020f0;">and</span> <span style="color: #a020f0;">not</span> visitado<span style="color: #707183;">[</span>nx, ny<span style="color: #707183;">]</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   visitado<span style="color: #707183;">[</span>nx, ny<span style="color: #707183;">]</span> = <span style="color: #008b8b;">True</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   pila.append<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>nx, ny<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Salir del bucle si se presion&#243; 'q' en el bucle interno</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Si el p&#237;xel es parte del fondo, lo coloreamos y lo marcamos como visitado</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">else</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   output_img<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span> = COLOR_FONDO
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   visitado<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span> = <span style="color: #008b8b;">True</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la animaci&#243;n para los p&#237;xeles del fondo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Proceso de Conteo y Pintado"</span>, output_img<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>TIEMPO_ESPERA // 5<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>: <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo m&#225;s r&#225;pido</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Salir del bucle exterior si se presion&#243; 'q'</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">--- Mostrar el resultado final y limpiar ---</span>
<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span>f<span style="color: #8b2252;">"N&#250;mero de manchas encontradas: </span>{conteo}<span style="color: #8b2252;">"</span><span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Resultado Final"</span>, output_img<span style="color: #707183;">)</span>
cv2.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org822f11c" class="outline-3">
<h3 id="org822f11c">Ejemplos de Transformaciones Geométricas en Modo Raw en Python</h3>
<div class="outline-text-3" id="text-org822f11c">
</div>
<div id="outline-container-orga6f2177" class="outline-4">
<h4 id="orga6f2177">1. Traslación</h4>
<div class="outline-text-4" id="text-orga6f2177">
<p>
En esta transformación, desplazamos la imagen en el espacio sumando un valor fijo a las coordenadas de los píxeles.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener el tama&#241;o de la imagen</span>
<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> = img.shape

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una imagen vac&#237;a para la traslaci&#243;n</span>
<span style="color: #a0522d;">translated_img</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>x, y<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el desplazamiento en x e y</span>
<span style="color: #a0522d;">dx</span>, <span style="color: #a0522d;">dy</span> = 100, 50

<span style="color: #b22222;"># </span><span style="color: #b22222;">Trasladar la imagen</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>x<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>y<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   new_x = i + 20
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   new_y = j + 30
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> 0 &lt;= new_x &lt; x <span style="color: #a020f0;">and</span> 0 &lt;= new_y &lt; y:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   translated_img<span style="color: #707183;">[</span><span style="color: #a0522d;">new_x</span>, <span style="color: #a0522d;">new_y</span><span style="color: #707183;">]</span> = img<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la trasladada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Trasladada'</span>, translated_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org0d0fa51" class="outline-4">
<h4 id="org0d0fa51">2. Rotación (alrededor del centro de la imagen)</h4>
<div class="outline-text-4" id="text-org0d0fa51">
<p>
La rotación se realiza alrededor del centro de la imagen, utilizando las fórmulas matemáticas correspondientes.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">import</span> math

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span>img.shape<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener el tama&#241;o de la imagen</span>
<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> = img.shape

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una imagen vac&#237;a para almacenar el resultado</span>

<span style="color: #a0522d;">rotated_img</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>x*2, y*2<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="color: #a0522d;">xx</span>, <span style="color: #a0522d;">yy</span> = rotated_img.shape
<span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular el centro de la imagen</span>
<span style="color: #a0522d;">cx</span>, <span style="color: #a0522d;">cy</span> = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>x  // 2<span style="color: #707183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>y  // 2<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el &#225;ngulo de rotaci&#243;n (en grados) y convertirlo a radianes</span>
angle = 45
theta = math.radians<span style="color: #707183;">(</span>angle<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar la imagen</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>x<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>y<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   new_x = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>j - cx<span style="color: #7388d6;">)</span> * math.cos<span style="color: #7388d6;">(</span>theta<span style="color: #7388d6;">)</span> - <span style="color: #7388d6;">(</span>i - cy<span style="color: #7388d6;">)</span> * math.sin<span style="color: #7388d6;">(</span>theta<span style="color: #7388d6;">)</span> + cx<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   new_y = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>j - cx<span style="color: #7388d6;">)</span> * math.sin<span style="color: #7388d6;">(</span>theta<span style="color: #7388d6;">)</span> + <span style="color: #7388d6;">(</span>i - cy<span style="color: #7388d6;">)</span> * math.cos<span style="color: #7388d6;">(</span>theta<span style="color: #7388d6;">)</span> + cy<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> 0 &lt;= new_x &lt; y <span style="color: #a020f0;">and</span> 0 &lt;= new_y &lt; x:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   rotated_img<span style="color: #707183;">[</span><span style="color: #a0522d;">new_y</span>, <span style="color: #a0522d;">new_x</span><span style="color: #707183;">]</span> = img<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la rotada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Rotada (modo raw)'</span>, rotated_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">import</span> math

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span>img.shape<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener el tama&#241;o de la imagen</span>
<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> = img.shape

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una imagen vac&#237;a para almacenar el resultado</span>

<span style="color: #a0522d;">rotated_img</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>x*2, y*2<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="color: #a0522d;">xx</span>, <span style="color: #a0522d;">yy</span> = rotated_img.shape
<span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular el centro de la imagen</span>
<span style="color: #a0522d;">cx</span>, <span style="color: #a0522d;">cy</span> = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>x  // 2<span style="color: #707183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>y  // 2<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el &#225;ngulo de rotaci&#243;n (en grados) y convertirlo a radianes</span>
angle = 45
theta = math.radians<span style="color: #707183;">(</span>angle<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar la imagen</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>x<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>y<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   new_x = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span><span style="color: #7388d6;">(</span><span style="color: #909183;">(</span>j * math.cos<span style="color: #709870;">(</span>theta<span style="color: #709870;">)</span> + i * math.sin<span style="color: #709870;">(</span>theta<span style="color: #709870;">)</span><span style="color: #909183;">)</span>+100<span style="color: #7388d6;">)</span>*2<span style="color: #707183;">)</span> 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   new_y = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span><span style="color: #7388d6;">(</span><span style="color: #909183;">(</span>- j * math.sin<span style="color: #709870;">(</span>theta<span style="color: #709870;">)</span> + i * math.cos<span style="color: #709870;">(</span>theta<span style="color: #709870;">)</span><span style="color: #909183;">)</span>+100<span style="color: #7388d6;">)</span>*2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> 0 &lt;= new_x &lt; yy <span style="color: #a020f0;">and</span> 0 &lt;= new_y &lt; xx:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   rotated_img<span style="color: #707183;">[</span><span style="color: #a0522d;">new_y</span>, <span style="color: #a0522d;">new_x</span><span style="color: #707183;">]</span> = img<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la rotada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Rotada (modo raw)'</span>, rotated_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">import</span> math

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>
<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span>img.shape<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener el tama&#241;o de la imagen</span>
<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> = img.shape
<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una imagen vac&#237;a para almacenar el resultado</span>
<span style="color: #a0522d;">img2</span> = np.ones<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>x*2, y*2<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>*234
<span style="color: #a0522d;">xx</span>, <span style="color: #a0522d;">yy</span> = img2.shape
<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span>xx, yy<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular el centro de la imagen</span>
<span style="color: #a0522d;">cy</span>, <span style="color: #a0522d;">cx</span> = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>xx  // 2<span style="color: #707183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>yy  // 2<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el &#225;ngulo de rotaci&#243;n (en grados) y convertirlo a radianes</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar la imagen</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>x<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>y<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   new_x = j+cx 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   new_y = i+cy
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> 0 &lt;= new_x &lt; yy <span style="color: #a020f0;">and</span> 0 &lt;= new_y &lt; xx:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   img2<span style="color: #707183;">[</span><span style="color: #a0522d;">new_y</span>, <span style="color: #a0522d;">new_x</span><span style="color: #707183;">]</span> = img<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la rotada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Rotada (modo raw)'</span>, img2<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>




<div id="outline-container-org6bdcdff" class="outline-4">
<h4 id="org6bdcdff">3. Escalado</h4>
<div class="outline-text-4" id="text-org6bdcdff">
<p>
El escalado cambia el tamaño de la imagen multiplicando las coordenadas por un factor de escala.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener el tama&#241;o de la imagen</span>
<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> = img.shape
<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el factor de escala</span>
<span style="color: #a0522d;">scale_x</span>, <span style="color: #a0522d;">scale_y</span> = 2, 2
<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una nueva imagen para almacenar el escalado</span>
<span style="color: #a0522d;">scaled_img</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span><span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>x * scale_y<span style="color: #909183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>y * scale_x<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar el escalado</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>x<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>y<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>  <span style="color: #b22222;">#</span><span style="color: #b22222;">orig_x = int(i * scale_y)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>  <span style="color: #b22222;">#</span><span style="color: #b22222;">orig_y = int(j * scale_x)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>  scaled_img<span style="color: #707183;">[</span>i*2, j*2<span style="color: #707183;">]</span> = img<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la escalada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Escalada (modo raw)'</span>, scaled_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga095689" class="outline-4">
<h4 id="orga095689">4. Cizallamiento (Shearing)</h4>
<div class="outline-text-4" id="text-orga095689">
<p>
En el cizallamiento, los píxeles se desplazan en una dirección proporcional a otra, lo que inclina la imagen.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener el tama&#241;o de la imagen</span>
<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> = img.shape

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una imagen vac&#237;a para el cizallamiento</span>
<span style="color: #a0522d;">sheared_img</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>x, y<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el factor de cizallamiento</span>
shear_factor_x = 0.5

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar el cizallamiento en el eje x</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>x<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>y<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   new_x = i
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   new_y = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>j + shear_factor_x * i<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> 0 &lt;= new_x &lt; x <span style="color: #a020f0;">and</span> 0 &lt;= new_y &lt; y:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sheared_img<span style="color: #707183;">[</span><span style="color: #a0522d;">new_x</span>, <span style="color: #a0522d;">new_y</span><span style="color: #707183;">]</span> = img<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la cizallada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Cizallada (modo raw)'</span>, sheared_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org15c8e46" class="outline-4">
<h4 id="org15c8e46">5. Reflexión (Reflection)</h4>
<div class="outline-text-4" id="text-org15c8e46">
<p>
La reflexión voltea la imagen sobre un eje, como el eje vertical o horizontal.
</p>
</div>

<ul class="org-ul">
<li><a id="org5d70981"></a>Reflexión horizontal<br />
<div class="outline-text-5" id="text-org5d70981">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener el tama&#241;o de la imagen</span>
<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> = img.shape

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una imagen vac&#237;a para la reflexi&#243;n</span>
<span style="color: #a0522d;">reflected_img</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>x, y<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la reflexi&#243;n horizontal</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>x<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>y<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   reflected_img<span style="color: #707183;">[</span>i, y - j - 1<span style="color: #707183;">]</span> = img<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la reflejada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Reflejada Horizontalmente (modo raw)'</span>, reflected_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>

<li><a id="orgad74118"></a>Reflexión vertical<br />
<div class="outline-text-5" id="text-orgad74118">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener el tama&#241;o de la imagen</span>
<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> = img.shape

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una imagen vac&#237;a para la reflexi&#243;n</span>
<span style="color: #a0522d;">reflected_img</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>x, y<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la reflexi&#243;n vertical</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>x<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>y<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   reflected_img<span style="color: #707183;">[</span>x - i - 1, j<span style="color: #707183;">]</span> = img<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la reflejada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Reflejada Verticalmente (modo raw)'</span>, reflected_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>
</ul>
</div>
</div>


<div id="outline-container-org2fde9f1" class="outline-3">
<h3 id="org2fde9f1">Ejemplos de Transformaciones Geométricas en Python usando OpenCV</h3>
<div class="outline-text-3" id="text-org2fde9f1">
</div>
<div id="outline-container-org2ede79a" class="outline-4">
<h4 id="org2ede79a">1. Traslación</h4>
<div class="outline-text-4" id="text-org2ede79a">
<p>
En OpenCV, la traslación se realiza usando matrices de transformación
afín y la función `cv.warpAffine()`.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener el tama&#241;o de la imagen</span>
<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> = img.shape

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el desplazamiento en x e y</span>
<span style="color: #a0522d;">dx</span>, <span style="color: #a0522d;">dy</span> = 100, 50

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear la matriz de traslaci&#243;n</span>
<span style="color: #a0522d;">M</span> = np.float32<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>1, 0, dx<span style="color: #909183;">]</span>, <span style="color: #909183;">[</span>0, 1, dy<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la traslaci&#243;n usando warpAffine</span>
<span style="color: #a0522d;">translated_img</span> = cv.warpAffine<span style="color: #707183;">(</span>img, M, <span style="color: #7388d6;">(</span>y, x<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la trasladada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Trasladada'</span>, translated_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org98e1d93" class="outline-4">
<h4 id="org98e1d93">2. Rotación (alrededor del centro de la imagen)</h4>
<div class="outline-text-4" id="text-org98e1d93">
<p>
La rotación alrededor del centro de la imagen se puede realizar con la función `cv.getRotationMatrix2D()`.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener el tama&#241;o de la imagen</span>
<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> = img.shape

<span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular el centro de la imagen</span>
<span style="color: #a0522d;">center</span> = <span style="color: #707183;">(</span>y // 2, x // 2<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el &#225;ngulo de rotaci&#243;n (en grados)</span>
<span style="color: #a0522d;">angle</span> = 45

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear la matriz de rotaci&#243;n</span>
<span style="color: #a0522d;">M</span> = cv.getRotationMatrix2D<span style="color: #707183;">(</span>center, angle, 1.0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la rotaci&#243;n usando warpAffine</span>
<span style="color: #a0522d;">rotated_img</span> = cv.warpAffine<span style="color: #707183;">(</span>img, M, <span style="color: #7388d6;">(</span>y, x<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la rotada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Rotada'</span>, rotated_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgea5779d" class="outline-4">
<h4 id="orgea5779d">3. Escalado</h4>
<div class="outline-text-4" id="text-orgea5779d">
<p>
El escalado se puede realizar usando la función `cv.resize()`.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el factor de escala</span>
<span style="color: #a0522d;">scale_x</span>, <span style="color: #a0522d;">scale_y</span> = 2, 2

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar el escalado usando cv.resize()</span>
<span style="color: #a0522d;">scaled_img</span> = cv.resize<span style="color: #707183;">(</span>img, <span style="color: #008b8b;">None</span>, fx=scale_x, fy=scale_y<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la escalada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Escalada'</span>, scaled_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org87cf458" class="outline-4">
<h4 id="org87cf458">4. Cizallamiento (Shearing)</h4>
<div class="outline-text-4" id="text-org87cf458">
<p>
El cizallamiento se puede realizar creando una matriz de transformación afín personalizada.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener el tama&#241;o de la imagen</span>
<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> = img.shape

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el factor de cizallamiento</span>
<span style="color: #a0522d;">shear_factor</span> = 0.5

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear la matriz de cizallamiento</span>
<span style="color: #a0522d;">M</span> = np.float32<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>1, shear_factor, 0<span style="color: #909183;">]</span>, <span style="color: #909183;">[</span>0, 1, 0<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar el cizallamiento usando warpAffine</span>
<span style="color: #a0522d;">sheared_img</span> = cv.warpAffine<span style="color: #707183;">(</span>img, M, <span style="color: #7388d6;">(</span>y, x<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la cizallada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Cizallada'</span>, sheared_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org4f057e6" class="outline-4">
<h4 id="org4f057e6">5. Reflexión (Reflection)</h4>
<div class="outline-text-4" id="text-org4f057e6">
<p>
En OpenCV, la reflexión de una imagen se realiza con la función `cv.flip()`.
</p>
</div>

<ul class="org-ul">
<li><a id="org0fda762"></a>Reflexión horizontal<br />
<div class="outline-text-5" id="text-org0fda762">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la reflexi&#243;n horizontal usando cv.flip()</span>
<span style="color: #a0522d;">reflected_img</span> = cv.flip<span style="color: #707183;">(</span>img, 1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la reflejada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Reflejada Horizontalmente'</span>, reflected_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>

<li><a id="orgb34d23b"></a>Reflexión vertical<br />
<div class="outline-text-5" id="text-orgb34d23b">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la reflexi&#243;n vertical usando cv.flip()</span>
<span style="color: #a0522d;">reflected_img</span> = cv.flip<span style="color: #707183;">(</span>img, 0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la reflejada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Reflejada Verticalmente'</span>, reflected_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>
</ul>
</div>
</div>


<div id="outline-container-org6bd30f6" class="outline-3">
<h3 id="org6bd30f6">Primitivas de Dibujo</h3>
<div class="outline-text-3" id="text-org6bd30f6">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np 

<span style="color: #a0522d;">img</span> = np.ones<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>500,500<span style="color: #7388d6;">)</span>, np.uint8<span style="color: #707183;">)</span>*150 
cv.rectangle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>10,10<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>200,100<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>34,56,100<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
cv.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>255,255<span style="color: #7388d6;">)</span>, 1, <span style="color: #7388d6;">(</span>23, 43, 144<span style="color: #7388d6;">)</span>, -1 <span style="color: #707183;">)</span>
cv.line<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>255,255<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>200,100<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>23, 244, 144<span style="color: #7388d6;">)</span>, 4<span style="color: #707183;">)</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>400<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   cv.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>i,i<span style="color: #7388d6;">)</span>, i , <span style="color: #7388d6;">(</span>255, 0, 0<span style="color: #7388d6;">)</span>, -1 <span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cv.rectangle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>10+i,10<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>200,100<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>34,56,100<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img'</span>, img<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">img = np.ones((500,500,3), np.uint8)*150 </span>
<span style="background-color: #f2f2f2;"> </span>   cv.waitKey<span style="color: #707183;">(</span>30<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   




cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img'</span>, img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>






</pre>
</div>

<div class="org-src-container">
<pre class="src src-python">
<span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a0522d;">valor</span>::<span style="color: #483d8b;">int</span>
img = np.ones<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>500, 500, 3<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>*255 
cv.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>250, 250<span style="color: #7388d6;">)</span>, 50, <span style="color: #7388d6;">(</span>0,234,21<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
cv.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>250, 250<span style="color: #7388d6;">)</span>, 30, <span style="color: #7388d6;">(</span>0,0,0<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
cv.line<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>1,1<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>230, 240<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>0,234,21<span style="color: #7388d6;">)</span>, 3   <span style="color: #707183;">)</span>
cv.rectangle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>20,20<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>50,60<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>0,0,0<span style="color: #7388d6;">)</span>, 3 <span style="color: #707183;">)</span>
pts = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>10,5<span style="color: #909183;">]</span>,<span style="color: #909183;">[</span>20,30<span style="color: #909183;">]</span>,<span style="color: #909183;">[</span>70,20<span style="color: #909183;">]</span>,<span style="color: #909183;">[</span>50,10<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>, np.int32<span style="color: #707183;">)</span>
pts = pts.reshape<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>-1,1,2<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
cv.polylines<span style="color: #707183;">(</span>img,<span style="color: #7388d6;">[</span>pts<span style="color: #7388d6;">]</span>,<span style="color: #008b8b;">True</span>,<span style="color: #7388d6;">(</span>0,0,0<span style="color: #7388d6;">)</span>, 3<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img'</span>, img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">()</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>



</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #a0522d;">img</span> = np.ones<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>500, 600, 3<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>*255 
<span style="color: #a0522d;">x</span>,<span style="color: #a0522d;">y</span>,<span style="color: #a0522d;">z</span>  = img.shape

window_name = <span style="color: #8b2252;">'Image'</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">font</span>
font = cv.FONT_HERSHEY_SIMPLEX
fontScale = 1
color = <span style="color: #707183;">(</span>255, 0, 0<span style="color: #707183;">)</span>
thickness = 2
<span style="background-color: #f2f2f2;"> </span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Using cv2.putText() method</span>


<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>x<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>y<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   img = np.ones<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>500, 500, 3<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>*255 
<span style="background-color: #f2f2f2;"> </span>   cv.putText<span style="color: #707183;">(</span>img, <span style="color: #8b2252;">'x= '</span>+<span style="color: #483d8b;">str</span><span style="color: #7388d6;">(</span>i<span style="color: #7388d6;">)</span>+<span style="color: #8b2252;">'y= '</span>+<span style="color: #483d8b;">str</span><span style="color: #7388d6;">(</span>i<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>i-30, i-30<span style="color: #7388d6;">)</span>, font, 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>  fontScale, color, thickness, cv.LINE_AA<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   cv.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>0+i, 0+i<span style="color: #7388d6;">)</span>, 20, <span style="color: #7388d6;">(</span>0,234,21<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img'</span>, img<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cv.waitKey<span style="color: #707183;">(</span>40<span style="color: #707183;">)</span>

cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>


</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Dimensiones de la ventana</span>
<span style="color: #a0522d;">ancho</span>, <span style="color: #a0522d;">alto</span> = 600, 400
<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear fondo negro</span>
<span style="color: #a0522d;">fondo</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>alto, ancho, 3<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n inicial de la bolita</span>
<span style="color: #a0522d;">pos_x</span>, <span style="color: #a0522d;">pos_y</span> = 100, 100
<span style="color: #b22222;"># </span><span style="color: #b22222;">Velocidades en x e y</span>
<span style="color: #a0522d;">vel_x</span>, <span style="color: #a0522d;">vel_y</span> = 5, 3
<span style="color: #b22222;"># </span><span style="color: #b22222;">Radio de la bolita</span>
radio = 20

<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear fondo negro en cada frame</span>
<span style="background-color: #f2f2f2;"> </span>   fondo = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>alto, ancho, 3<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar bolita</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>  
<span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>fondo, <span style="color: #7388d6;">(</span>pos_x, pos_y<span style="color: #7388d6;">)</span>, radio, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="color: #b22222;">#    </span>
<span style="color: #b22222;">#    </span><span style="color: #b22222;"># Actualizar posici&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   pos_x += vel_x
<span style="background-color: #f2f2f2;"> </span>   pos_y += vel_y
<span style="color: #b22222;">#</span>
<span style="color: #b22222;">#    </span><span style="color: #b22222;"># Rebote en los bordes</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> pos_x - radio &lt;= 0 <span style="color: #a020f0;">or</span> pos_x + radio &gt;= ancho:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   vel_x = -vel_x
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> pos_y - radio &lt;= 0 <span style="color: #a020f0;">or</span> pos_y + radio &gt;= alto:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   vel_y = -vel_y
<span style="color: #b22222;">#</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar ventana</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Bolita en movimiento"</span>, fondo<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Esperar 30 ms, salir con ESC</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>30<span style="color: #707183;">)</span> &amp; 0xFF == 27:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</div>


<div id="outline-container-org22d609e" class="outline-3">
<h3 id="org22d609e">Parametricas</h3>
<div class="outline-text-3" id="text-org22d609e">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">import</span> cv2

<span style="color: #b22222;"># </span><span style="color: #b22222;">Funci&#243;n para generar un solo punto de la elipse en funci&#243;n del par&#225;metro t</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">generar_punto_elipse</span><span style="color: #707183;">(</span>a, b, t<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">x</span> = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>a * 2* np.cos<span style="color: #7388d6;">(</span>t<span style="color: #7388d6;">)</span> + 200<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Desplazamiento para centrar</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">y</span> = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>b * np.sin<span style="color: #7388d6;">(</span>t<span style="color: #7388d6;">)</span> + 200<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> <span style="color: #707183;">(</span>x, y<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Dimensiones de la imagen</span>
<span style="color: #a0522d;">img_width</span>, <span style="color: #a0522d;">img_height</span> = 800, 800

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una imagen en blanco</span>
<span style="color: #a0522d;">imagen</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>img_height, img_width, 3<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Par&#225;metros de la elipse</span>
a = 200  <span style="color: #b22222;"># </span><span style="color: #b22222;">Semieje mayor</span>
b = 100  <span style="color: #b22222;"># </span><span style="color: #b22222;">Semieje menor</span>
num_puntos = 1000
<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear los valores del par&#225;metro t para la animaci&#243;n</span>
t_vals = np.linspace<span style="color: #707183;">(</span>0, 2 * np.pi, num_puntos<span style="color: #707183;">)</span>
<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span>t_vals<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle de animaci&#243;n</span>
<span style="color: #a020f0;">for</span> t <span style="color: #a020f0;">in</span> t_vals:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una nueva imagen en blanco en cada iteraci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   imagen = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>img_height, img_width, 3<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Generar el punto en la elipse</span>
<span style="background-color: #f2f2f2;"> </span>   punto = generar_punto_elipse<span style="color: #707183;">(</span>a, b, t<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar el punto en la elipse</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>imagen, punto, radius=30, color=<span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, thickness=-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar la trayectoria completa de la elipse (opcional, si quieres ver toda la elipse)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> t_tray <span style="color: #a020f0;">in</span> t_vals:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   pt_tray = generar_punto_elipse<span style="color: #707183;">(</span>a, b, t_tray<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>imagen, pt_tray, radius=1, color=<span style="color: #7388d6;">(</span>255, 255, 255<span style="color: #7388d6;">)</span>, thickness=-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen con el punto en movimiento</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img'</span>, imagen<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Controlar la velocidad de la animaci&#243;n (en milisegundos)</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.waitKey<span style="color: #707183;">(</span>10<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cerrar la ventana despu&#233;s de la animaci&#243;n</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">import</span> cv2

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir los par&#225;metros de la circunferencia</span>
<span style="color: #a0522d;">r</span> = 100  <span style="color: #b22222;"># </span><span style="color: #b22222;">radio</span>
<span style="color: #a0522d;">h</span> = 250  <span style="color: #b22222;"># </span><span style="color: #b22222;">centro en x</span>
<span style="color: #a0522d;">k</span> = 250  <span style="color: #b22222;"># </span><span style="color: #b22222;">centro en y</span>
<span style="color: #a0522d;">num_frames</span> = 100  <span style="color: #b22222;"># </span><span style="color: #b22222;">n&#250;mero de frames en la animaci&#243;n</span>
<span style="color: #a0522d;">t_vals</span> = np.linspace<span style="color: #707183;">(</span>0, 2*np.pi, num_frames<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">valores del par&#225;metro t</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una ventana para mostrar la animaci&#243;n</span>
cv2.namedWindow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Animaci&#243;n Circunferencia'</span>, cv2.WINDOW_AUTOSIZE<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Animar la circunferencia</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span><span style="color: #483d8b;">len</span><span style="color: #7388d6;">(</span>t_vals<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">t</span> = t_vals<span style="color: #707183;">[</span>i<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular las coordenadas del punto en la circunferencia</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">x</span> = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>h + r * np.cos<span style="color: #7388d6;">(</span>t<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">y</span> = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>k + r * np.sin<span style="color: #7388d6;">(</span>t<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una imagen en blanco</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">frame</span> = np.ones<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>500, 500, 3<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span> * 255
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar la circunferencia</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>h, k<span style="color: #7388d6;">)</span>, r, <span style="color: #7388d6;">(</span>0, 0, 0<span style="color: #7388d6;">)</span>, 2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar el punto en movimiento</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>x, y<span style="color: #7388d6;">)</span>, 10, <span style="color: #7388d6;">(</span>0, 0, 255<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar el frame en la ventana</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Animaci&#243;n Circunferencia'</span>, frame<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Esperar un corto tiempo para crear la animaci&#243;n (ajustar velocidad)</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.waitKey<span style="color: #707183;">(</span>50<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="color: #b22222;"># </span><span style="color: #b22222;">Cerrar la ventana cuando la animaci&#243;n termine</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">import</span> cv2


<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir los par&#225;metros iniciales</span>
<span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 1000, 1000  <span style="color: #b22222;"># </span><span style="color: #b22222;">Ampliar la ventana para ver toda la figura</span>
<span style="color: #a0522d;">img</span> = np.ones<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>height, width, 3<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>*255

<span style="color: #b22222;"># </span><span style="color: #b22222;">Par&#225;metros de la curva de Limacon</span>
<span style="color: #a0522d;">a</span>, <span style="color: #a0522d;">b</span> = 150, 100  <span style="color: #b22222;"># </span><span style="color: #b22222;">Reducir los valores de a y b para que la curva se ajuste mejor</span>
k = 0.7<span style="color: #b22222;"># </span><span style="color: #b22222;">Constante de multiplicaci&#243;n del &#225;ngulo</span>
theta_increment = 0.05  <span style="color: #b22222;"># </span><span style="color: #b22222;">Incremento del &#225;ngulo</span>
max_theta = 2 * np.pi  <span style="color: #b22222;"># </span><span style="color: #b22222;">Un ciclo completo</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Centro de la imagen</span>
<span style="color: #a0522d;">center_x</span>, <span style="color: #a0522d;">center_y</span> = width // 2, height // 2

theta = 0  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#193;ngulo inicial</span>

<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle infinito</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Limpiar la imagen</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">img = np.ones((width, height, 3), dtype=np.uint8) * 255</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar la curva completa desde 0 hasta theta</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> t <span style="color: #a020f0;">in</span> np.arange<span style="color: #707183;">(</span>0, theta, theta_increment<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular las coordenadas param&#233;tricas (x, y) para la curva de Limacon</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   r = a + b * np.cos<span style="color: #707183;">(</span>k * t<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   x = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>center_x + r * np.cos<span style="color: #7388d6;">(</span>t<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   y = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>center_y + r * np.sin<span style="color: #7388d6;">(</span>t<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un c&#237;rculo en la posici&#243;n calculada</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">cv2.circle(img, (x, y), 3, (0, 234, 0), -1)  # Color rojo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>x-2, y-2<span style="color: #7388d6;">)</span>, 3, <span style="color: #7388d6;">(</span>0, 0, 0<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color rojo</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la constante k en la imagen</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">cv2.putText(img, f"k = {k:.2f}", (20, 40), cv2.FONT_HERSHEY_SIMPLEX, 1, (255, 255, 255), 2)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Parametric Animation"</span>, img<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">img = np.ones((width, height, 3), dtype=np.uint8) * 255</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Incrementar el &#225;ngulo</span>
<span style="background-color: #f2f2f2;"> </span>   theta += theta_increment
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Reiniciar theta si alcanza su valor m&#225;ximo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">if theta &gt;= max_theta:</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#    </span><span style="color: #b22222;">theta = 0  # Reinicia la animaci&#243;n para que se repita</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Pausar para ver la animaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>30<span style="color: #707183;">)</span> &amp; 0xFF == 27:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Esperar 30ms, salir con 'ESC'</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cerrar la ventana al finalizar</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</div>


<div id="outline-container-org4523aa2" class="outline-3">
<h3 id="org4523aa2">Segmentación de color mediante el modelo de color HSV</h3>
<div class="outline-text-3" id="text-org4523aa2">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv

<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'salida.png'</span>, 1<span style="color: #707183;">)</span>
<span style="color: #a0522d;">hsv</span> = cv.cvtColor<span style="color: #707183;">(</span>img, cv.COLOR_BGR2HSV<span style="color: #707183;">)</span>
<span style="color: #a0522d;">uba</span>=<span style="color: #707183;">(</span>10, 255, 255<span style="color: #707183;">)</span>
<span style="color: #a0522d;">ubb</span>=<span style="color: #707183;">(</span>0, 60 ,60<span style="color: #707183;">)</span>
<span style="color: #a0522d;">uba1</span>=<span style="color: #707183;">(</span>180, 255, 255<span style="color: #707183;">)</span>
<span style="color: #a0522d;">ubb1</span>=<span style="color: #707183;">(</span>170, 60 ,60<span style="color: #707183;">)</span>
<span style="color: #a0522d;">mask1</span> = cv.inRange<span style="color: #707183;">(</span>hsv, ubb, uba<span style="color: #707183;">)</span>
<span style="color: #a0522d;">mask2</span> = cv.inRange<span style="color: #707183;">(</span>hsv, ubb1, uba1<span style="color: #707183;">)</span>
<span style="color: #a0522d;">mask</span> = mask1 + mask2
<span style="color: #a0522d;">res</span> = cv.bitwise_and<span style="color: #707183;">(</span>img, img, mask=mask<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'mask1'</span>, mask1<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'mask2'</span>, mask2<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'mask'</span>, mask<span style="color: #707183;">)</span>

cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'res'</span>, res<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'hsv'</span>, hsv<span style="color: #707183;">)</span>

cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a0522d;">cap</span> = cv.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
<span style="color: #a020f0;">while</span><span style="color: #707183;">(</span><span style="color: #008b8b;">True</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">img</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a0522d;">ret</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'video'</span>, img<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   hsv = cv.cvtColor<span style="color: #707183;">(</span>img, cv.COLOR_BGR2HSV<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">uba</span>=<span style="color: #707183;">(</span>10, 255, 255<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ubb</span>=<span style="color: #707183;">(</span>0, 40 ,40<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">mask</span> = cv.inRange<span style="color: #707183;">(</span>hsv, ubb, uba<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">res</span> = cv.bitwise_and<span style="color: #707183;">(</span>img, img, mask=mask<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'res'</span>, res<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'mask'</span>, mask<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   k =cv.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> k == 27 :
            <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">else</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
cap.release<span style="color: #707183;">()</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>

<div id="outline-container-org539cd0b" class="outline-4">
<h4 id="org539cd0b">Dibujo utilizando seguimiento por color</h4>
<div class="outline-text-4" id="text-org539cd0b">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Captura de video</span>
<span style="color: #a0522d;">cap</span> = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear un lienzo para dibujar</span>
<span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="color: #a0522d;">canvas</span> = np.zeros_like<span style="color: #707183;">(</span>frame<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Rango de color (ejemplo: azul)</span>
lower_blue = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>0, 110, 110<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="color: #a0522d;">upper_blue</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>10, 255, 255<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Variable para guardar &#250;ltimo punto</span>
<span style="color: #a0522d;">prev_center</span> = <span style="color: #008b8b;">None</span>

<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> <span style="color: #a0522d;">ret</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir a HSV</span>
<span style="background-color: #f2f2f2;"> </span>   hsv = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2HSV<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear m&#225;scara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">mask</span> = cv2.inRange<span style="color: #707183;">(</span>hsv, lower_blue, upper_blue<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Filtrar ruido</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">mask</span> = cv2.morphologyEx<span style="color: #707183;">(</span>mask, cv2.MORPH_OPEN, np.ones<span style="color: #7388d6;">(</span><span style="color: #909183;">(</span>5,5<span style="color: #909183;">)</span>, np.uint8<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">mask</span> = cv2.morphologyEx<span style="color: #707183;">(</span>mask, cv2.MORPH_DILATE, np.ones<span style="color: #7388d6;">(</span><span style="color: #909183;">(</span>5,5<span style="color: #909183;">)</span>, np.uint8<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Buscar contornos</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">contours</span>, <span style="color: #a0522d;">_</span> = cv2.findContours<span style="color: #707183;">(</span>mask, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a0522d;">contours</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Contorno m&#225;s grande</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   c = <span style="color: #483d8b;">max</span><span style="color: #707183;">(</span>contours, key=cv2.contourArea<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #707183;">(</span>x, y, w, h<span style="color: #707183;">)</span> = cv2.boundingRect<span style="color: #707183;">(</span>c<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   center = <span style="color: #707183;">(</span>x + w//2, y + h//2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar c&#237;rculo en la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>frame, center, 5, <span style="color: #7388d6;">(</span>0, 0, 255<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar l&#237;nea en el lienzo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> prev_center <span style="color: #a020f0;">is</span> <span style="color: #a020f0;">not</span> <span style="color: #008b8b;">None</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.line<span style="color: #707183;">(</span>canvas, prev_center, center, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, 5<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   prev_center = center
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">else</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   prev_center = <span style="color: #008b8b;">None</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Combinar la c&#225;mara y el lienzo</span>
<span style="background-color: #f2f2f2;"> </span>   combined = cv2.add<span style="color: #707183;">(</span>frame, canvas<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar resultados</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Dibujo"</span>, combined<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Mascara"</span>, mask<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   key = cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> key == 27:  <span style="color: #b22222;"># </span><span style="color: #b22222;">ESC para salir</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> key == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'c'</span><span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">'c' para limpiar el lienzo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   canvas = np.zeros_like<span style="color: #707183;">(</span>frame<span style="color: #707183;">)</span>

cap.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np


<span style="color: #a0522d;">camara</span> = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Creamos un lienzo vac&#237;o</span>
<span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">cuadro</span> = camara.read<span style="color: #707183;">()</span>
<span style="color: #a0522d;">lienzo</span> = np.zeros_like<span style="color: #707183;">(</span>cuadro<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Rango del color rojo en HSV</span>
<span style="color: #a0522d;">u_bajo</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>0, 150, 50<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="color: #a0522d;">u_alto</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>10, 255, 255<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

<span style="color: #a0522d;">punto_anterior</span> = <span style="color: #008b8b;">None</span>
<span style="color: #a0522d;">umbral_distancia</span> = 50  <span style="color: #b22222;"># </span><span style="color: #b22222;">para evitar trazos largos falsos</span>

<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">cuadro</span> = camara.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> <span style="color: #a0522d;">ret</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   hsv = cv2.cvtColor<span style="color: #707183;">(</span>cuadro, cv2.COLOR_BGR2HSV<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">mascara</span> = cv2.inRange<span style="color: #707183;">(</span>hsv, u_bajo, u_alto<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.rectangle<span style="color: #707183;">(</span>cuadro, <span style="color: #7388d6;">(</span>10,10<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>100,100<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>0,0,255<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.flip
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Momentos de la m&#225;scara (para calcular el centroide)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">momentos</span> = cv2.moments<span style="color: #707183;">(</span>mascara<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> momentos<span style="color: #707183;">[</span><span style="color: #8b2252;">"m00"</span><span style="color: #707183;">]</span> &gt; 0:  <span style="color: #b22222;"># </span><span style="color: #b22222;">hay p&#237;xeles del color buscado</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">cx</span> = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>momentos<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m10"</span><span style="color: #7388d6;">]</span> / momentos<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m00"</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">cy</span> = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>momentos<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m01"</span><span style="color: #7388d6;">]</span> / momentos<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m00"</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">punto_actual</span> = <span style="color: #707183;">(</span>cx, cy<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar punto en la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>cuadro, punto_actual, 5, <span style="color: #7388d6;">(</span>0, 0, 255<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.putText<span style="color: #707183;">(</span>cuadro, f<span style="color: #8b2252;">'(</span>{<span style="color: #483d8b;">int</span>(cx)}<span style="color: #8b2252;">, </span>{<span style="color: #483d8b;">int</span>(cy)}<span style="color: #8b2252;">)'</span>, <span style="color: #7388d6;">(</span><span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>cx-10<span style="color: #909183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>cy-10<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>, cv2.FONT_HERSHEY_SIMPLEX, 0.7, <span style="color: #7388d6;">(</span>0, 25, 235<span style="color: #7388d6;">)</span>, 2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>  
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar l&#237;nea en el lienzo si el salto no es muy grande</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> punto_anterior <span style="color: #a020f0;">is</span> <span style="color: #a020f0;">not</span> <span style="color: #008b8b;">None</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   distancia = np.linalg.norm<span style="color: #707183;">(</span>np.array<span style="color: #7388d6;">(</span>punto_actual<span style="color: #7388d6;">)</span> - np.array<span style="color: #7388d6;">(</span>punto_anterior<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> distancia &lt; <span style="color: #a0522d;">umbral_distancia</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.line<span style="color: #707183;">(</span>lienzo, punto_anterior, punto_actual, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, 5<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   punto_anterior = punto_actual
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">else</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   punto_anterior = <span style="color: #008b8b;">None</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">combinado</span> = cv2.add<span style="color: #707183;">(</span>cuadro, lienzo<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Dibujo en vivo"</span>, combinado<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Mascara de color"</span>, mascara<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Lienzo"</span>, lienzo<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">tecla</span> = cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> tecla == 27:  <span style="color: #b22222;"># </span><span style="color: #b22222;">ESC para salir</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> tecla == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'c'</span><span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">limpiar lienzo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   lienzo = np.zeros_like<span style="color: #707183;">(</span>cuadro<span style="color: #707183;">)</span>

camara.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</div>
</div>







<div id="outline-container-org8f455ac" class="outline-3">
<h3 id="org8f455ac">Capa de Harry Potter</h3>
<div class="outline-text-3" id="text-org8f455ac">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Captura de video desde la c&#225;mara</span>
<span style="color: #a0522d;">cap</span> = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Permitir que la c&#225;mara se estabilice</span>
cv2.waitKey<span style="color: #707183;">(</span>2000<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Capturar el fondo durante unos segundos</span>
<span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">background</span> = cap.read<span style="color: #707183;">()</span>
<span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> <span style="color: #a0522d;">ret</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Error al capturar el fondo."</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cap.release<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="color: #a020f0;">while</span> cap.isOpened<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> <span style="color: #a0522d;">ret</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir el cuadro a espacio de color HSV</span>
<span style="background-color: #f2f2f2;"> </span>   hsv = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2HSV<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el rango de color de la tela (verde, en este caso) en HSV</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">lower_green</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>170, 40, 40<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">upper_green</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>180, 255, 255<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una m&#225;scara que detecta el &#225;rea verde</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">mask</span> = cv2.inRange<span style="color: #707183;">(</span>hsv, lower_green, upper_green<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Refinar la m&#225;scara (puedes ajustar los par&#225;metros para mejorar la detecci&#243;n)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Invertir la m&#225;scara para obtener las &#225;reas que no son verdes</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">mask_inv</span> = cv2.bitwise_not<span style="color: #707183;">(</span>mask<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la m&#225;scara a la imagen original para mostrar solo las partes no verdes</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">res1</span> = cv2.bitwise_and<span style="color: #707183;">(</span>frame, frame, mask=mask_inv<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la m&#225;scara al fondo para cubrir las partes verdes</span>
<span style="background-color: #f2f2f2;"> </span>   res2 = cv2.bitwise_and<span style="color: #707183;">(</span>background, background, mask=mask<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Combinar ambas im&#225;genes</span>
<span style="background-color: #f2f2f2;"> </span>   final_output = cv2.addWeighted<span style="color: #707183;">(</span>res1, 1, res2, 1, 0<span style="color: #707183;">)</span> 

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar el resultado final</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Capa de Invisibilidad"</span>, final_output<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'mask'</span>, mask<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Presionar 'q' para salir</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Liberar los recursos</span>
cap.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</div>


<div id="outline-container-orgb3a921b" class="outline-3">
<h3 id="orgb3a921b">Efecto Gris np.where</h3>
<div class="outline-text-3" id="text-orgb3a921b">
<p>
La función <b>np.where</b> de NumPy es muy útil cuando se quiere
seleccionar elementos de un arreglo o imagen basado en una
condición. Vamos a desglosar cómo funciona y cómo se aplica en el
contexto de imágenes.
</p>
</div>

<div id="outline-container-orgc186bf0" class="outline-4">
<h4 id="orgc186bf0">Sintaxis básica de np.where:</h4>
<div class="outline-text-4" id="text-orgc186bf0">
<div class="org-src-container">
<pre class="src src-python">np.where<span style="color: #707183;">(</span>condici&#243;n, valor_si_verdadero, valor_si_falso<span style="color: #707183;">)</span>
</pre>
</div>

<ul class="org-ul">
<li><b>condición</b>: Una expresión booleana (True/False) que indica qué elementos cumplen la condición.</li>
<li><b>valor<sub>si</sub><sub>verdadero</sub></b>: El valor que se asigna en las posiciones donde la condición es <b>True</b>.</li>
<li><b>valor<sub>si</sub><sub>falso</sub></b>: El valor que se asigna en las posiciones donde la condición es <b>False</b>.</li>
</ul>
</div>

<ul class="org-ul">
<li><a id="org9472ef9"></a>Ejemplo sencillo:<br />
<div class="outline-text-5" id="text-org9472ef9">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Creamos un array de ejemplo</span>
<span style="color: #a0522d;">array</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>1, 2, 3, 4, 5<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicamos np.where para cambiar los valores mayores a 3 por 100 y el resto por 0</span>
<span style="color: #a0522d;">resultado</span> = np.where<span style="color: #707183;">(</span>array &gt; 3, 100, 0<span style="color: #707183;">)</span>

<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span>resultado<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Resultado: [  0   0   0 100 100]</span>
</pre>
</div>

<p>
En este ejemplo, la condición `array &gt; 3` se cumple para los elementos 4 y 5, por lo que se cambian por 100, mientras que los otros elementos se cambian por 0.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org3ee25b1" class="outline-4">
<h4 id="org3ee25b1">Aplicación en procesamiento de imágenes:</h4>
<div class="outline-text-4" id="text-org3ee25b1">
<p>
Cuando manipulamos imágenes, cada pixel tiene tres valores (R, G,
B). La idea es usar `np.where` para verificar si un pixel cumple con
la condición de estar en el rango del color que queremos resaltar (por
ejemplo, rojo). Si el pixel está dentro de ese rango, conservamos el
valor original del color. Si no, convertimos ese pixel a escala de
grises.
</p>
</div>

<ul class="org-ul">
<li><a id="orgf097609"></a>Parte del código relevante:<br />
<div class="outline-text-5" id="text-orgf097609">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">imagen_colores_resaltados</span> = np.where<span style="color: #707183;">(</span>mascara_rojo<span style="color: #7388d6;">[</span>:, :, <span style="color: #008b8b;">None</span><span style="color: #7388d6;">]</span> == 255, imagen, imagen_gris_bgr<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org0e1c3db"></a>Desglose:<br />
<div class="outline-text-5" id="text-org0e1c3db">
<ol class="org-ol">
<li><b>`mascara<sub>rojo</sub>[:, :, None] == 255`</b>:
<ul class="org-ul">
<li>La máscara es un arreglo 2D con los mismos altos y anchos que la
imagen original, donde los valores son 255 para los pixeles que
coinciden con el color rojo, y 0 para los que no.</li>
<li><b>`[:, :, None]`</b>: Añade una tercera dimensión para que la máscara
coincida con la estructura 3D de la imagen original, donde
tenemos tres canales (R, G, B).</li>
<li>La condición `== 255` selecciona los píxeles donde el color rojo fue detectado.</li>
</ul></li>

<li><b>`imagen`</b>:
<ul class="org-ul">
<li>Es la imagen original en color. Se utiliza en las posiciones
donde la máscara detecta el color rojo (condición `True`).</li>
</ul></li>

<li><b>`imagen<sub>gris</sub><sub>bgr</sub>`</b>:
<ul class="org-ul">
<li>Es la versión de la imagen en escala de grises, convertida a
formato BGR. Se usa en las posiciones donde la condición es
`False`, es decir, donde no se detectó el color rojo.</li>
</ul></li>
</ol>
</div>
</li>

<li><a id="orgbb2e104"></a>Ejemplo visual:<br />
<div class="outline-text-5" id="text-orgbb2e104">
<p>
Imagina que tienes un pixel con los siguientes valores RGB: `(255, 0,
0)` (un rojo intenso). Si este pixel cae dentro del rango de color
rojo, entonces `mascara<sub>rojo</sub>` tendrá el valor 255 para ese pixel. Esto
hará que `np.where` conserve el pixel original en color:
</p>

<ul class="org-ul">
<li><b>Condición True (rojo detectado):</b> Se conserva el pixel original.</li>
<li><b>Condición False (no es rojo):</b> El pixel se convierte a su equivalente en escala de grises.</li>
</ul>

<p>
****y el  Ejemplo simplificado:
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #b22222;"># </span><span style="color: #b22222;">Si la m&#225;scara es:</span>
mascara_rojo = <span style="color: #707183;">[</span><span style="color: #7388d6;">[</span>255, 0<span style="color: #7388d6;">]</span>, 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">[</span>0, 255<span style="color: #7388d6;">]</span><span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">La imagen original en color (simplificada):</span>
<span style="color: #a0522d;">imagen</span> = <span style="color: #707183;">[</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>255, 0, 0<span style="color: #909183;">]</span>, <span style="color: #909183;">[</span>0, 255, 0<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>0, 0, 255<span style="color: #909183;">]</span>, <span style="color: #909183;">[</span>255, 0, 0<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">La imagen en gris (tambi&#233;n simplificada):</span>
<span style="color: #a0522d;">imagen_gris_bgr</span> = <span style="color: #707183;">[</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>128, 128, 128<span style="color: #909183;">]</span>, <span style="color: #909183;">[</span>128, 128, 128<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>  <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>128, 128, 128<span style="color: #909183;">]</span>, <span style="color: #909183;">[</span>128, 128, 128<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicando np.where:</span>
resultado = np.where<span style="color: #707183;">(</span>mascara_rojo<span style="color: #7388d6;">[</span>:, :, <span style="color: #008b8b;">None</span><span style="color: #7388d6;">]</span> == 255, imagen, imagen_gris_bgr<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Resultado esperado:</span>
resultado = <span style="color: #707183;">[</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>255, 0, 0<span style="color: #909183;">]</span>, <span style="color: #909183;">[</span>128, 128, 128<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>128, 128, 128<span style="color: #909183;">]</span>, <span style="color: #909183;">[</span>255, 0, 0<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">]</span>
</pre>
</div>

<p>
En el resultado, los pixeles que coinciden con el color rojo permanecen iguales, mientras que los otros se convierten a escala de grises.
</p>
</div>
</li>

<li><a id="orgd0ee2af"></a>¿Cómo funciona esto para toda la imagen?<br />
<div class="outline-text-5" id="text-orgd0ee2af">
<p>
`np.where` revisa cada pixel de la imagen:
</p>

<ul class="org-ul">
<li><b><b>Si un pixel es rojo (según la máscara),</b></b> lo toma de la imagen original.</li>
<li><b><b>Si un pixel no es rojo,</b></b> lo toma de la versión en escala de grises.</li>
</ul>



<ul class="org-ul">
<li><b>np.where</b> actúa como un filtro condicional que selecciona valores en base a una máscara booleana.</li>
<li>En este caso, se utiliza para dejar intactos los pixeles que coinciden con el color deseado (rojo) y convertir el resto de la imagen a escala de grises.</li>
</ul>



<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Leer la imagen en formato RGB</span>
<span style="color: #a0522d;">imagen</span> = cv2.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'man1.jpg'</span>, 1<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir la imagen de RGB a HSV</span>
<span style="color: #a0522d;">imagen_hsv</span> = cv2.cvtColor<span style="color: #707183;">(</span>imagen, cv2.COLOR_BGR2HSV<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el rango de color rojo en HSV</span>
<span style="color: #a0522d;">bajo_rojo1</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>0, 40, 40<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="color: #a0522d;">alto_rojo1</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>10, 255, 255<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="color: #a0522d;">bajo_rojo2</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>160, 40, 40<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="color: #a0522d;">alto_rojo2</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>180, 255, 255<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una m&#225;scara para el color rojo</span>
<span style="color: #a0522d;">mascara_rojo1</span> = cv2.inRange<span style="color: #707183;">(</span>imagen_hsv, bajo_rojo1, alto_rojo1<span style="color: #707183;">)</span>
<span style="color: #a0522d;">mascara_rojo2</span> = cv2.inRange<span style="color: #707183;">(</span>imagen_hsv, bajo_rojo2, alto_rojo2<span style="color: #707183;">)</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">mascara_rojo = mascara_rojo1 + mascara_rojo2</span>
<span style="color: #a0522d;">mascara_rojo</span> = cv2.add<span style="color: #707183;">(</span>mascara_rojo1, mascara_rojo2<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir la imagen original a escala de grises</span>
<span style="color: #a0522d;">imagen_gris</span> = cv2.cvtColor<span style="color: #707183;">(</span>imagen, cv2.COLOR_BGR2GRAY<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir la imagen gris a un formato BGR para que coincida con la original</span>
<span style="color: #a0522d;">imagen_gris_bgr</span> = cv2.cvtColor<span style="color: #707183;">(</span>imagen_gris, cv2.COLOR_GRAY2BGR<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Combinar la imagen en gris con las &#225;reas en rojo</span>
<span style="color: #a0522d;">resultado</span> = np.where<span style="color: #707183;">(</span>mascara_rojo<span style="color: #7388d6;">[</span>:, :, <span style="color: #008b8b;">None</span><span style="color: #7388d6;">]</span> == 255, imagen, imagen_gris_bgr<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen final</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Color resaltado'</span>, resultado<span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'mascara_rojo'</span>, mascara_rojo<span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'imagen'</span>, imagen<span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'imagen_gris__bgr'</span>, imagen_gris_bgr<span style="color: #707183;">)</span>
cv2.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a0522d;">cap</span> = cv.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span><span style="color: #707183;">(</span><span style="color: #008b8b;">True</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">imagen</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a0522d;">ret</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'video'</span>, imagen<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   imagen_hsv = cv.cvtColor<span style="color: #707183;">(</span>imagen, cv.COLOR_BGR2HSV<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">bajo_azul1</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>100, 40, 40<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">alto_azul1</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>140, 255, 255<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una m&#225;scara para el color rojo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">mascara_azul1</span> = cv.inRange<span style="color: #707183;">(</span>imagen_hsv, bajo_azul1, alto_azul1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir la imagen original a escala de grises</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">imagen_gris</span> = cv.cvtColor<span style="color: #707183;">(</span>imagen, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir la imagen gris a un formato BGR para que coincida con la original</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">imagen_gris_bgr</span> = cv.cvtColor<span style="color: #707183;">(</span>imagen_gris, cv.COLOR_GRAY2BGR<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Combinar la imagen en gris con las &#225;reas en rojo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">resultado</span> = np.where<span style="color: #707183;">(</span>mascara_azul1<span style="color: #7388d6;">[</span>:, :, <span style="color: #008b8b;">None</span><span style="color: #7388d6;">]</span> == 255, imagen, imagen_gris_bgr<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen final</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Color resaltado'</span>, resultado<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   k =cv.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> k == 27 :
            <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">else</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   
cap.release<span style="color: #707183;">()</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>
</ul>
</div>
</div>


<div id="outline-container-org3997a2c" class="outline-3">
<h3 id="org3997a2c">Flujo optico</h3>
<div class="outline-text-3" id="text-org3997a2c">
<div class="org-src-container">
<pre class="src src-python">
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv

<span style="color: #b22222;"># </span><span style="color: #b22222;">Iniciar la captura de video desde la c&#225;mara</span>
<span style="color: #a0522d;">cap</span> = cv.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Par&#225;metros para el flujo &#243;ptico Lucas-Kanade</span>
<span style="color: #a0522d;">lk_params</span> = <span style="color: #483d8b;">dict</span><span style="color: #707183;">(</span>winSize=<span style="color: #7388d6;">(</span>15, 15<span style="color: #7388d6;">)</span>, maxLevel=2,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>criteria=<span style="color: #7388d6;">(</span>cv.TERM_CRITERIA_EPS | cv.TERM_CRITERIA_COUNT, 10, 0.03<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Leer el primer frame de la c&#225;mara</span>
<span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">first_frame</span> = cap.read<span style="color: #707183;">()</span>
prev_gray = cv.cvtColor<span style="color: #707183;">(</span>first_frame, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n inicial de la pelotita (un &#250;nico punto en el centro de la imagen)</span>
ball_pos = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>500, 500<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>, dtype=np.float32<span style="color: #707183;">)</span>
ball_pos = ball_pos<span style="color: #707183;">[</span>:, np.newaxis, :<span style="color: #707183;">]</span>

<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Capturar el siguiente frame</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> ret:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> =frame.shape<span style="color: #707183;">[</span>:2<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   frame= cv.flip<span style="color: #707183;">(</span>frame,1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir el frame a escala de grises</span>
<span style="background-color: #f2f2f2;"> </span>   gray_frame = cv.cvtColor<span style="color: #707183;">(</span>frame, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular el flujo &#243;ptico para mover la pelotita</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">new_ball_pos</span>, <span style="color: #a0522d;">st</span>, <span style="color: #a0522d;">err</span> = cv.calcOpticalFlowPyrLK<span style="color: #707183;">(</span>prev_gray, gray_frame, ball_pos, <span style="color: #008b8b;">None</span>, **lk_params<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Si se detecta el nuevo movimiento, actualizar la posici&#243;n de la pelotita</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> new_ball_pos <span style="color: #a020f0;">is</span> <span style="color: #a020f0;">not</span> <span style="color: #008b8b;">None</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   ball_pos = new_ball_pos

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar la pelotita en su nueva posici&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">a</span>, <span style="color: #a0522d;">b</span> = ball_pos.ravel<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   frame = cv.circle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span><span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>a<span style="color: #909183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>b<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>, 20, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">ball_pos = np.array([[500, 500]], dtype=np.float32)</span>

<span style="background-color: #f2f2f2;"> </span>   cv.rectangle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>20,20<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>y-20, x-20<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>234,43 ,34<span style="color: #7388d6;">)</span> ,5<span style="color: #707183;">)</span>    
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar solo una ventana con la pelotita en movimiento</span>
<span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Pelota en movimiento'</span>, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Actualizar el frame anterior para el siguiente c&#225;lculo</span>
<span style="background-color: #f2f2f2;"> </span>   prev_gray = gray_frame.copy<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Presionar 'Esc' para salir</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv.waitKey<span style="color: #707183;">(</span>30<span style="color: #707183;">)</span> &amp; 0xFF == 27:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Liberar la captura y destruir todas las ventanas</span>
cap.release<span style="color: #707183;">()</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv

<span style="color: #b22222;"># </span><span style="color: #b22222;">Iniciar la captura de video desde la c&#225;mara</span>
<span style="color: #a0522d;">cap</span> = cv.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Par&#225;metros para el flujo &#243;ptico Lucas-Kanade</span>
<span style="color: #a0522d;">lk_params</span> = <span style="color: #483d8b;">dict</span><span style="color: #707183;">(</span>winSize=<span style="color: #7388d6;">(</span>15, 15<span style="color: #7388d6;">)</span>, maxLevel=2,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>criteria=<span style="color: #7388d6;">(</span>cv.TERM_CRITERIA_EPS | cv.TERM_CRITERIA_COUNT, 10, 0.03<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Leer el primer frame de la c&#225;mara</span>
<span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">first_frame</span> = cap.read<span style="color: #707183;">()</span>
prev_gray = cv.cvtColor<span style="color: #707183;">(</span>first_frame, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n inicial de la pelotita (centro de la imagen)</span>
<span style="color: #a0522d;">h</span>, <span style="color: #a0522d;">w</span> = first_frame.shape<span style="color: #707183;">[</span>:2<span style="color: #707183;">]</span>
ball_pos = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>w // 2, h // 2<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>, dtype=np.float32<span style="color: #707183;">)</span>
ball_pos = ball_pos<span style="color: #707183;">[</span>:, np.newaxis, :<span style="color: #707183;">]</span>

<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Capturar el siguiente frame</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> ret:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener dimensiones del frame</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">h</span>, <span style="color: #a0522d;">w</span> = frame.shape<span style="color: #707183;">[</span>:2<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   frame = cv.flip<span style="color: #707183;">(</span>frame, 1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Voltear la imagen horizontalmente</span>
<span style="background-color: #f2f2f2;"> </span>   gray_frame = cv.cvtColor<span style="color: #707183;">(</span>frame, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular el flujo &#243;ptico para mover la pelotita</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">new_ball_pos</span>, <span style="color: #a0522d;">st</span>, <span style="color: #a0522d;">err</span> = cv.calcOpticalFlowPyrLK<span style="color: #707183;">(</span>prev_gray, gray_frame, ball_pos, <span style="color: #008b8b;">None</span>, **lk_params<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Si se detecta el nuevo movimiento, actualizar la posici&#243;n de la pelotita</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> new_ball_pos <span style="color: #a020f0;">is</span> <span style="color: #a020f0;">not</span> <span style="color: #008b8b;">None</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">a</span>, <span style="color: #a0522d;">b</span> = new_ball_pos.ravel<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Evitar que la pelota salga de los l&#237;mites</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   a = <span style="color: #483d8b;">max</span><span style="color: #707183;">(</span>20, <span style="color: #483d8b;">min</span><span style="color: #7388d6;">(</span>a, w - 20<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   b = <span style="color: #483d8b;">max</span><span style="color: #707183;">(</span>20, <span style="color: #483d8b;">min</span><span style="color: #7388d6;">(</span>b, h - 20<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   ball_pos = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>a, b<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>, dtype=np.float32<span style="color: #707183;">)[</span>:, np.newaxis, :<span style="color: #707183;">]</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar la pelotita en su nueva posici&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">a</span>, <span style="color: #a0522d;">b</span> = ball_pos.ravel<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   frame = cv.circle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span><span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>a<span style="color: #909183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>b<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>, 20, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cv.putText<span style="color: #707183;">(</span>frame, f<span style="color: #8b2252;">'(</span>{<span style="color: #483d8b;">int</span>(a)}<span style="color: #8b2252;">, </span>{<span style="color: #483d8b;">int</span>(b)}<span style="color: #8b2252;">)'</span>, <span style="color: #7388d6;">(</span><span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>a<span style="color: #909183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>b<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>, cv.FONT_HERSHEY_SIMPLEX, 0.7, <span style="color: #7388d6;">(</span>0, 25, 235<span style="color: #7388d6;">)</span>, 2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un rect&#225;ngulo alrededor de la pantalla</span>
<span style="background-color: #f2f2f2;"> </span>   cv.rectangle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>20, 20<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>w - 20, h - 20<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>234, 43, 34<span style="color: #7388d6;">)</span>, 5<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la ventana con la pelotita en movimiento</span>
<span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Pelota en movimiento'</span>, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Actualizar el frame anterior para el siguiente c&#225;lculo</span>
<span style="background-color: #f2f2f2;"> </span>   prev_gray = gray_frame.copy<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Presionar 'Esc' para salir</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv.waitKey<span style="color: #707183;">(</span>30<span style="color: #707183;">)</span> &amp; 0xFF == 27:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Liberar la captura y destruir todas las ventanas</span>
cap.release<span style="color: #707183;">()</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np 
<span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv

<span style="color: #a0522d;">cap</span> = cv.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>


<span style="color: #a0522d;">lkparm</span> =<span style="color: #483d8b;">dict</span><span style="color: #707183;">(</span>winSize=<span style="color: #7388d6;">(</span>15,15<span style="color: #7388d6;">)</span>, maxLevel=2,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>criteria=<span style="color: #7388d6;">(</span>cv.TERM_CRITERIA_EPS | cv.TERM_CRITERIA_COUNT, 10, 0.03<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span> 


<span style="color: #a0522d;">_</span>, <span style="color: #a0522d;">vframe</span> = cap.read<span style="color: #707183;">()</span>
vgris = cv.cvtColor<span style="color: #707183;">(</span>vframe, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>
p0 = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">(</span>100,100<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>200,100<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>300,100<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>400,100<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>500,100<span style="color: #909183;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>  <span style="color: #909183;">(</span>100,200<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>200,200<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>300,200<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>400,200<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>500,200<span style="color: #909183;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>  <span style="color: #909183;">(</span>100,300<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>200,300<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>300,300<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>400,300<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>500,300<span style="color: #909183;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>  <span style="color: #909183;">(</span>100,400<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>200,400<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>300,400<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>400,400<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>500,400<span style="color: #909183;">)</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

p0 = np.float32<span style="color: #707183;">(</span>p0<span style="color: #7388d6;">[</span>:, np.newaxis, :<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

mask = np.zeros_like<span style="color: #707183;">(</span>vframe<span style="color: #707183;">)</span> 
cad =<span style="color: #8b2252;">''</span>

<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">_</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   fgris = cv.cvtColor<span style="color: #707183;">(</span>frame, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">p1</span>, <span style="color: #a0522d;">st</span>, <span style="color: #a0522d;">err</span> = cv.calcOpticalFlowPyrLK<span style="color: #707183;">(</span>vgris, fgris, p0, <span style="color: #008b8b;">None</span>, **lkparm<span style="color: #707183;">)</span> 
<span style="background-color: #f2f2f2;"> </span>   gridp = 5 
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> p1 <span style="color: #a020f0;">is</span> <span style="color: #008b8b;">None</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   vgris = cv.cvtColor<span style="color: #707183;">(</span>vframe, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>
<span style="color: #b22222;">#        </span><span style="color: #b22222;">p0 = np.array([(100,100), (200,100), (300,100), (400,100) ])</span>
<span style="color: #b22222;">#        </span><span style="color: #b22222;">p0 = np.float32(p0[:, np.newaxis, :])</span>
<span style="color: #b22222;">#        </span><span style="color: #b22222;">mask = np.zeros_like(vframe)</span>
<span style="color: #b22222;">#        </span><span style="color: #b22222;">cv.imshow('ventana', frame)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">else</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   bp1 = p1<span style="color: #707183;">[</span>st ==1<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   bp0 = p0<span style="color: #707183;">[</span>st ==1<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> i, <span style="color: #707183;">(</span>nv, vj<span style="color: #707183;">)</span> <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">enumerate</span><span style="color: #707183;">(</span><span style="color: #483d8b;">zip</span><span style="color: #7388d6;">(</span>bp1, bp0<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">a</span>, <span style="color: #a0522d;">b</span> = <span style="color: #707183;">(</span><span style="color: #483d8b;">int</span><span style="color: #7388d6;">(</span>x<span style="color: #7388d6;">)</span> <span style="color: #a020f0;">for</span> x <span style="color: #a020f0;">in</span> nv.ravel<span style="color: #7388d6;">()</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">c</span>, <span style="color: #a0522d;">d</span> = <span style="color: #707183;">(</span><span style="color: #483d8b;">int</span><span style="color: #7388d6;">(</span>x<span style="color: #7388d6;">)</span> <span style="color: #a020f0;">for</span> x <span style="color: #a020f0;">in</span> vj.ravel<span style="color: #7388d6;">()</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   dist = np.linalg.norm<span style="color: #707183;">(</span>nv.ravel<span style="color: #7388d6;">()</span> - vj.ravel<span style="color: #7388d6;">()</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.circle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>c,d<span style="color: #7388d6;">)</span>, 5, <span style="color: #7388d6;">(</span>255,0,0<span style="color: #7388d6;">)</span>,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.circle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>a,b<span style="color: #7388d6;">)</span>, 3, <span style="color: #7388d6;">(</span>0,255,0<span style="color: #7388d6;">)</span>,-1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> i &gt; 0 <span style="color: #a020f0;">and</span> i % gridp != 0: 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">prev_a</span>, <span style="color: #a0522d;">prev_b</span> = <span style="color: #707183;">(</span><span style="color: #483d8b;">int</span><span style="color: #7388d6;">(</span>x<span style="color: #7388d6;">)</span> <span style="color: #a020f0;">for</span> x <span style="color: #a020f0;">in</span> bp1<span style="color: #7388d6;">[</span>i - 1<span style="color: #7388d6;">]</span>.ravel<span style="color: #7388d6;">()</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.line<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>a, b<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>prev_a, prev_b<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> i &gt;= gridp:  
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">top_a</span>, <span style="color: #a0522d;">top_b</span> = <span style="color: #707183;">(</span><span style="color: #483d8b;">int</span><span style="color: #7388d6;">(</span>x<span style="color: #7388d6;">)</span> <span style="color: #a020f0;">for</span> x <span style="color: #a020f0;">in</span> bp1<span style="color: #7388d6;">[</span>i - gridp<span style="color: #7388d6;">]</span>.ravel<span style="color: #7388d6;">()</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.line<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>a, b<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>top_a, top_b<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'ventana'</span>, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   vgris = fgris.copy<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span><span style="color: #707183;">(</span>cv.waitKey<span style="color: #7388d6;">(</span>1<span style="color: #7388d6;">)</span> &amp; 0xff<span style="color: #707183;">)</span> == 27:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

cap.release<span style="color: #707183;">()</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-orgb6d1b94" class="outline-3">
<h3 id="orgb6d1b94">Ejemplo de clasificación utilizando Haarcascades</h3>
<div class="outline-text-3" id="text-orgb6d1b94">
<ul class="org-ul">
<li><a href="https://github.com/opencv/opencv/tree/master/data/haarcascades">Clasificadores Haarcascades de la librería Opencv</a></li>
<li><a href="https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_objdetect/py_face_detection/py_face_detection.html">Tutorial Haarcascades</a></li>
<li><a href="https://docs.opencv.org/2.4/doc/user_guide/ug_traincascade.html">Entrenamiento Haarcascades</a></li>
</ul>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv

<span style="color: #a0522d;">rostro</span> = cv.CascadeClassifier<span style="color: #707183;">(</span><span style="color: #8b2252;">'haarcascade_frontalface_alt2.xml'</span><span style="color: #707183;">)</span>
<span style="color: #a0522d;">cap</span> = cv.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
<span style="color: #a0522d;">x</span>=<span style="color: #a0522d;">y</span>=<span style="color: #a0522d;">w</span>=<span style="color: #a0522d;">h</span>= 0 
<span style="color: #a0522d;">count</span> = 0
<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">gray</span> = cv.cvtColor<span style="color: #707183;">(</span>frame, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">rostros</span> = rostro.detectMultiScale<span style="color: #707183;">(</span>gray, 1.3, 5<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span><span style="color: #707183;">(</span>x, y, w, h<span style="color: #707183;">)</span> <span style="color: #a020f0;">in</span> <span style="color: #a0522d;">rostros</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   m1 = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>h/2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">n1</span> = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>w/2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">frame</span> = cv.rectangle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>x,y<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>x+w, y+h<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, 2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">frame</span> = cv.circle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>x+n1,y+m1<span style="color: #7388d6;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #7388d6;">(</span>w/2<span style="color: #7388d6;">)</span> , <span style="color: #7388d6;">(</span>255, 0 ,0<span style="color: #7388d6;">)</span>, 2 <span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = 180- frame<span style="color: #707183;">[</span>y:y+h,x:x+w<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">count = count + 1   </span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">name = '/home/likcos/imgs/cara'+str(count)+'.jpg'</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">cv.imwrite(name, frame)</span>
<span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'rostros'</span>, frame<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'cara'</span>, img<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">k</span> = cv.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> k == 27:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
cap.release<span style="color: #707183;">()</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv 

<span style="color: #a0522d;">rostro</span> = cv.CascadeClassifier<span style="color: #707183;">(</span><span style="color: #8b2252;">'haarcascade_frontalface_alt.xml'</span><span style="color: #707183;">)</span>
<span style="color: #a0522d;">cap</span> = cv.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">img</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">gris</span> = cv.cvtColor<span style="color: #707183;">(</span>img, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">rostros</span> = rostro.detectMultiScale<span style="color: #707183;">(</span>gris, 1.3, 5<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span><span style="color: #707183;">(</span>x,y,w,h<span style="color: #707183;">)</span> <span style="color: #a020f0;">in</span> <span style="color: #a0522d;">rostros</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   res = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>w+h<span style="color: #7388d6;">)</span>/8<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = cv.rectangle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>x,y<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>x+w, y+h<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>234, 23,23<span style="color: #7388d6;">)</span>, 5<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">img = cv.rectangle(img, (x,int(y+h/2)), (x+w, y+h), (0,255,0),5 )</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = cv.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>x + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>w*0.3<span style="color: #909183;">)</span>, y + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>h*0.4<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span> , 21, <span style="color: #7388d6;">(</span>0, 0, 0<span style="color: #7388d6;">)</span>, 2 <span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = cv.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>x + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>w*0.7<span style="color: #909183;">)</span>, y + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>h*0.4<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span> , 21, <span style="color: #7388d6;">(</span>0, 0, 0<span style="color: #7388d6;">)</span>, 2 <span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = cv.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>x + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>w*0.3<span style="color: #909183;">)</span>, y + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>h*0.4<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span> , 20, <span style="color: #7388d6;">(</span>255, 255, 255<span style="color: #7388d6;">)</span>, -1 <span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = cv.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>x + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>w*0.7<span style="color: #909183;">)</span>, y + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>h*0.4<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span> , 20, <span style="color: #7388d6;">(</span>255, 255, 255<span style="color: #7388d6;">)</span>, -1 <span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = cv.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>x + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>w*0.3<span style="color: #909183;">)</span>, y + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>h*0.4<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span> , 5, <span style="color: #7388d6;">(</span>0, 0, 255<span style="color: #7388d6;">)</span>, -1 <span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = cv.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>x + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>w*0.7<span style="color: #909183;">)</span>, y + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>h*0.4<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span> , 5, <span style="color: #7388d6;">(</span>0, 0, 255<span style="color: #7388d6;">)</span>, -1 <span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = cv.rectangle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>x+10,y+10<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>x+w, y+h<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>234,0 ,234<span style="color: #7388d6;">)</span>, 5<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img'</span>, img<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>== <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   
cap.release
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la m&#225;scara que deseas agregar (aseg&#250;rate de que sea PNG con transparencia)</span>
<span style="color: #a0522d;">mascara</span> = cv2.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'cubre3.png'</span>, cv2.IMREAD_UNCHANGED<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar PNG con transparencia</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Verificar si la imagen tiene un canal alfa</span>
<span style="color: #a020f0;">if</span> mascara.shape<span style="color: #707183;">[</span>2<span style="color: #707183;">]</span> != 4:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Error: La imagen no tiene canal alfa."</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar el clasificador preentrenado de rostros</span>
face_cascade = cv2.CascadeClassifier<span style="color: #707183;">(</span><span style="color: #8b2252;">'haarcascade_frontalface_alt2.xml'</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Capturar video desde la c&#225;mara</span>
<span style="color: #a0522d;">video</span> = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir un desplazamiento para mover la m&#225;scara</span>
<span style="color: #a0522d;">desplazamiento_x</span> = -100  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover 50 p&#237;xeles hacia la derecha</span>
<span style="color: #a0522d;">desplazamiento_y</span> = 90  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover 30 p&#237;xeles hacia arriba</span>

<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Leer cada frame del video</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = video.read<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> <span style="color: #a0522d;">ret</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir el frame a escala de grises</span>
<span style="background-color: #f2f2f2;"> </span>   frame_gris = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2GRAY<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Detectar los rostros en el frame</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">rostros</span> = face_cascade.detectMultiScale<span style="color: #707183;">(</span>frame_gris, scaleFactor=1.1, minNeighbors=5, minSize=<span style="color: #7388d6;">(</span>30, 30<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Procesar cada rostro detectado</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> <span style="color: #707183;">(</span>x, y, w, h<span style="color: #707183;">)</span> <span style="color: #a020f0;">in</span> rostros:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Redimensionar la m&#225;scara para que coincida con el tama&#241;o del rostro detectado</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   mascara_redimensionada = cv2.resize<span style="color: #707183;">(</span>mascara, <span style="color: #7388d6;">(</span>w, h<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.rectangle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>x,y<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>x+w, y+h<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>255, 0,0<span style="color: #7388d6;">)</span>, 3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Separar los canales de la m&#225;scara: color y alfa (transparencia)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   mascara_rgb = mascara_redimensionada<span style="color: #707183;">[</span>:, :, :3<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   mascara_alpha = mascara_redimensionada<span style="color: #707183;">[</span>:, :, 3<span style="color: #707183;">]</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Asegurarse de que la m&#225;scara alfa sea de tipo uint8</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   mascara_alpha = cv2.convertScaleAbs<span style="color: #707183;">(</span>mascara_alpha<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar el desplazamiento a las coordenadas x e y</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   x_nuevo = x + desplazamiento_x
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   y_nuevo = y + desplazamiento_y

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Evitar que la m&#225;scara salga del borde de la imagen</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> x_nuevo &lt; 0: x_nuevo = 0
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> y_nuevo &lt; 0: y_nuevo = 0
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> x_nuevo + w &gt; frame.shape<span style="color: #707183;">[</span>1<span style="color: #707183;">]</span>: x_nuevo = frame.shape<span style="color: #707183;">[</span>1<span style="color: #707183;">]</span> - w
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> y_nuevo + h &gt; frame.shape<span style="color: #707183;">[</span>0<span style="color: #707183;">]</span>: y_nuevo = frame.shape<span style="color: #707183;">[</span>0<span style="color: #707183;">]</span> - h

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una regi&#243;n de inter&#233;s (ROI) en el frame donde colocaremos la m&#225;scara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   roi = frame<span style="color: #707183;">[</span>y_nuevo:y_nuevo+h, x_nuevo:x_nuevo+w<span style="color: #707183;">]</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Asegurarse de que la ROI y la m&#225;scara tengan el mismo tama&#241;o</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> roi.shape<span style="color: #707183;">[</span>:2<span style="color: #707183;">]</span> == mascara_alpha.shape<span style="color: #707183;">[</span>:2<span style="color: #707183;">]</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Invertir la m&#225;scara alfa para obtener la parte del rostro donde se aplicar&#225; la m&#225;scara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   mascara_alpha_inv = cv2.bitwise_not<span style="color: #707183;">(</span>mascara_alpha<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Enmascarar la regi&#243;n del rostro en la imagen original</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   fondo = cv2.bitwise_and<span style="color: #707183;">(</span>roi, roi, mask=mascara_alpha_inv<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Enmascarar la m&#225;scara RGB</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   mascara_fg = cv2.bitwise_and<span style="color: #707183;">(</span>mascara_rgb, mascara_rgb, mask=mascara_alpha<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Combinar el fondo (parte del rostro sin m&#225;scara) y la parte con la m&#225;scara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   resultado = cv2.add<span style="color: #707183;">(</span>fondo, mascara_fg<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Reemplazar la regi&#243;n del rostro con la imagen combinada</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   frame<span style="color: #707183;">[</span>y_nuevo:y_nuevo+h, x_nuevo:x_nuevo+w<span style="color: #707183;">]</span> = resultado

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">else</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Error: El tama&#241;o de la ROI no coincide con la m&#225;scara."</span><span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar el frame con la m&#225;scara aplicada</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Video con mascara'</span>, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Presionar 'q' para salir del loop</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Liberar la captura de video y cerrar las ventanas</span>
video.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</div>


<div id="outline-container-org3553db7" class="outline-3">
<h3 id="org3553db7">OpenGL</h3>
</div>



<div id="outline-container-org3886c4b" class="outline-3">
<h3 id="org3886c4b">Descripción de la Proyección Isométrica</h3>
<div class="outline-text-3" id="text-org3886c4b">
<p>
La proyección isométrica es un tipo de proyección axonométrica que
representa un objeto 3D en un espacio 2D sin perspectiva. Esto
significa que las líneas paralelas en el espacio 3D siguen siendo
paralelas en la proyección 2D, y los objetos mantienen la misma escala
independientemente de su distancia. En una proyección isométrica, los
tres ejes (x, y, z) aparecen con ángulos de 120° entre sí, creando un
efecto visual que se percibe como 3D, aunque solo se trata de una
imagen 2D.
</p>

<p>
Este tipo de proyección es útil en videojuegos, gráficos isométricos y
aplicaciones de diseño, ya que proporciona una representación en 3D
simple sin distorsión de perspectiva.
</p>
</div>


<div id="outline-container-orgdb21245" class="outline-4">
<h4 id="orgdb21245">Ejemplo de Proyección Isométrica en OpenCV</h4>
<div class="outline-text-4" id="text-orgdb21245">
<p>
Este ejemplo en OpenCV muestra cómo proyectar un cubo 3D en 2D
utilizando una proyección isométrica. Cada vértice del cubo se
proyecta en el plano 2D, y luego se conecta para formar las aristas
del cubo.
</p>
</div>

<ul class="org-ul">
<li><a id="org9171054"></a>Código en Python<br />
<div class="outline-text-5" id="text-org9171054">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">import</span> math

<span style="color: #b22222;"># </span><span style="color: #b22222;">Dimensiones de la ventana</span>
<span style="color: #a0522d;">WIDTH</span>, <span style="color: #a0522d;">HEIGHT</span> = 800, 600

<span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtices del cubo en coordenadas 3D</span>
<span style="color: #a0522d;">vertices</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #909183;">[</span>-1, -1, -1<span style="color: #909183;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #909183;">[</span>1, -1, -1<span style="color: #909183;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #909183;">[</span>1, 1, -1<span style="color: #909183;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #909183;">[</span>-1, 1, -1<span style="color: #909183;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #909183;">[</span>-1, -1, 1<span style="color: #909183;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #909183;">[</span>1, -1, 1<span style="color: #909183;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #909183;">[</span>1, 1, 1<span style="color: #909183;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #909183;">[</span>-1, 1, 1<span style="color: #909183;">]</span>
<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Conexiones de los v&#233;rtices para formar las aristas del cubo</span>
<span style="color: #a0522d;">edges</span> = <span style="color: #707183;">[</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span>0, 1<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>1, 2<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>2, 3<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>3, 0<span style="color: #7388d6;">)</span>,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Base inferior</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span>4, 5<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>5, 6<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>6, 7<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>7, 4<span style="color: #7388d6;">)</span>,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Base superior</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span>0, 4<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>1, 5<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>2, 6<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>3, 7<span style="color: #7388d6;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Conexiones entre bases</span>
<span style="color: #707183;">]</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">project_isometric</span><span style="color: #707183;">(</span>vertex<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Funci&#243;n para proyectar un punto 3D a 2D con proyecci&#243;n isom&#233;trica"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span>, <span style="color: #a0522d;">z</span> = vertex
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">x2D</span> = x - z
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">y2D</span> = <span style="color: #707183;">(</span>x + 2 * y + z<span style="color: #707183;">)</span> / 2
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>x2D * 100 + WIDTH / 2<span style="color: #707183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>-y2D * 100 + HEIGHT / 2<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana</span>
cv2.namedWindow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Cubo Isom&#233;trico"</span><span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear imagen negra para el fondo</span>
<span style="background-color: #f2f2f2;"> </span>   frame = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>HEIGHT, WIDTH, 3<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar aristas del cubo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> edge <span style="color: #a020f0;">in</span> edges:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   pt1 = project_isometric<span style="color: #707183;">(</span>vertices<span style="color: #7388d6;">[</span>edge<span style="color: #909183;">[</span>0<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   pt2 = project_isometric<span style="color: #707183;">(</span>vertices<span style="color: #7388d6;">[</span>edge<span style="color: #909183;">[</span>1<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.line<span style="color: #707183;">(</span>frame, pt1, pt2, <span style="color: #7388d6;">(</span>255, 255, 255<span style="color: #7388d6;">)</span>, 2<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar imagen</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Cubo Isom&#233;trico"</span>, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Salir si se presiona 'q'</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>

<li><a id="org9452bc9"></a>Explicación del Código<br />
<div class="outline-text-5" id="text-org9452bc9">
<ol class="org-ol">
<li><b><b>Definición de Vértices y Aristas</b></b>:
<ul class="org-ul">
<li>`vertices` define los puntos 3D del cubo en coordenadas `(x, y, z)`.</li>
<li>`edges` define las conexiones entre los vértices para formar las aristas del cubo.</li>
</ul></li>

<li><b><b>Función `project<sub>isometric</sub>`</b></b>:
<ul class="org-ul">
<li>Convierte cada vértice 3D en coordenadas 2D usando una proyección isométrica. La fórmula aplicada crea un efecto 3D sin perspectiva.</li>
</ul></li>

<li><b><b>Bucle de Renderizado</b></b>:
<ul class="org-ul">
<li>Cada fotograma crea una imagen de fondo negro (`frame`) y dibuja las aristas del cubo conectando los puntos proyectados en 2D.</li>
<li>El bucle continúa hasta que se presiona la tecla `'q'`.</li>
</ul></li>
</ol>
</div>
</li>

<li><a id="org32e6a4a"></a>Salida Esperada<br />
<div class="outline-text-5" id="text-org32e6a4a">
<p>
La ventana mostrará un cubo en perspectiva isométrica. Las aristas se
dibujan en blanco y el cubo parece tener profundidad, aunque es solo
una representación en 2D.
</p>

<p>
Este ejemplo simula un efecto 3D mediante una proyección isométrica,
útil para aplicaciones de diseño y gráficos 2D en OpenCV.
</p>
</div>
</li>
</ul>
</div>
</div>


<div id="outline-container-orgfecaf3e" class="outline-3">
<h3 id="orgfecaf3e">Opengl Ejemplo</h3>
<div class="outline-text-3" id="text-orgfecaf3e">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> glClear, glClearColor, glBegin, GL_QUADS, glEnd, glVertex2f, glColor3f, GL_COLOR_BUFFER_BIT, GL_TRIANGLES

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear la ventana</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>500, 500, <span style="color: #8b2252;">"OpenGL con GLFW"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Hacer el contexto de OpenGL actual</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Establecer el color de fondo</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.0, 0.0, 0.0, 1.0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal de renderizado</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Limpiar la pantalla</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un tri&#225;ngulo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_TRIANGLES<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.5,  -0.5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtice superior izquierdo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span> 0.5,  -0.5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtice superior derecho</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span> -0.5, 0.5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtice inferior derecho</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Intercambiar buffers y procesar eventos</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Terminar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> glClear, glClearColor, glBegin, glEnd, glVertex2f, glColor3f, GL_COLOR_BUFFER_BIT, GL_QUADS, glOrtho

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_square</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color rojo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.5,  0.5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtice superior izquierdo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span> 0.5,  0.5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtice superior derecho</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span> 0.5, -0.5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtice inferior derecho</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.5, -0.5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtice inferior izquierdo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear la ventana con un contexto de OpenGL</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>500, 500, <span style="color: #8b2252;">"Cuadrado con GLFW"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Hacer que el contexto de OpenGL sea actual para la ventana</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar la proyecci&#243;n ortogr&#225;fica</span>
<span style="background-color: #f2f2f2;"> </span>   glOrtho<span style="color: #707183;">(</span>-1, 1, -1, 1, -1, 1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n para un sistema de coordenadas 2D</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Limpiar el buffer de color</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar el cuadrado</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_square<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Intercambiar buffers y procesar eventos</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Terminar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>


</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org58324d1" class="outline-2">
<h2 id="org58324d1">Introducción a OpenGL</h2>
<div class="outline-text-2" id="text-org58324d1">
<p>
OpenGL (Open Graphics Library) es una API de gráficos que permite a
los desarrolladores crear gráficos en 2D y 3D. Fue desarrollada por
Silicon Graphics en 1992 y, desde entonces, se ha utilizado
ampliamente en aplicaciones que requieren renderizado en tiempo real,
como videojuegos, simulaciones científicas, visualización de datos y
entornos de realidad virtual y aumentada.
</p>
</div>

<div id="outline-container-org3e4c08c" class="outline-3">
<h3 id="org3e4c08c">Características de OpenGL</h3>
<div class="outline-text-3" id="text-org3e4c08c">
<ul class="org-ul">
<li><b><b>Plataforma abierta</b></b>: OpenGL es multiplataforma y funciona en
Windows, macOS, y Linux.</li>
<li><b><b>API de bajo nivel</b></b>: Proporciona primitivas de gráficos básicas
(puntos, líneas, polígonos).</li>
<li><b><b>Hardware acelerado</b></b>: Aprovecha la GPU para acelerar el
renderizado.</li>
<li><b><b>Flexibilidad</b></b>: Es compatible con diversas aplicaciones, desde
gráficos simples en 2D hasta gráficos avanzados en 3D.</li>
</ul>
</div>
</div>

<div id="outline-container-org45c50c8" class="outline-3">
<h3 id="org45c50c8">Primeros pasos en OpenGL</h3>
<div class="outline-text-3" id="text-org45c50c8">
<p>
Para empezar a trabajar con OpenGL, necesitas entender algunos de sus
conceptos y configuraciones básicas.
</p>
</div>

<div id="outline-container-org9a8aa0d" class="outline-4">
<h4 id="org9a8aa0d">Configuración del Entorno</h4>
<div class="outline-text-4" id="text-org9a8aa0d">
<p>
Para utilizar OpenGL en Python, necesitas instalar las siguientes
bibliotecas:
</p>
<div class="org-src-container">
<pre class="src src-shell">  pip install PyOpenGL PyOpenGL_accelerate glfw 
  pip install PyOpenGL glfw PyFreeGLUT
</pre>
</div>
</div>
</div>

<div id="outline-container-org9e44a32" class="outline-4">
<h4 id="org9e44a32">Estructura básica de un programa OpenGL</h4>
<div class="outline-text-4" id="text-org9e44a32">
<p>
Un programa básico de OpenGL tiene una estructura general que incluye
la configuración de la ventana, la inicialización del contexto de
OpenGL, el renderizado de objetos y el bucle principal.
</p>
</div>
</div>
</div>

<div id="outline-container-org1293092" class="outline-3">
<h3 id="org1293092">Sistema de Coordenadas en OpenGL</h3>
<div class="outline-text-3" id="text-org1293092">
<p>
En OpenGL, las coordenadas pasan por una serie de transformaciones
para dibujar objetos en pantalla. Aquí están los principales sistemas
de coordenadas:
</p>
</div>

<div id="outline-container-org550e6cf" class="outline-4">
<h4 id="org550e6cf">Coordenadas del Objeto</h4>
<div class="outline-text-4" id="text-org550e6cf">
<p>
Este es el espacio de coordenadas local de cada objeto. Aquí
defines los vértices en relación con el centro del objeto.
</p>
</div>
</div>

<div id="outline-container-org8d01d38" class="outline-4">
<h4 id="org8d01d38">Coordenadas del Mundo</h4>
<div class="outline-text-4" id="text-org8d01d38">
<p>
Transforman las coordenadas del objeto para situarlo en el mundo
virtual.
</p>
</div>
</div>

<div id="outline-container-orgafdd5a2" class="outline-4">
<h4 id="orgafdd5a2">Coordenadas de Vista</h4>
<div class="outline-text-4" id="text-orgafdd5a2">
<p>
Ajustan la posición del objeto en relación con la cámara u
observador.
</p>
</div>
</div>

<div id="outline-container-orgc636e5d" class="outline-4">
<h4 id="orgc636e5d">Coordenadas de Recorte</h4>
<div class="outline-text-4" id="text-orgc636e5d">
<p>
Aplican la proyección para determinar qué partes del objeto son
visibles y cuáles están fuera del campo de visión.
</p>
</div>
</div>

<div id="outline-container-org797b3fe" class="outline-4">
<h4 id="org797b3fe">Coordenadas Normalizadas del Dispositivo (NDC)</h4>
<div class="outline-text-4" id="text-org797b3fe">
<p>
Las coordenadas se normalizan al rango [-1, 1] en cada eje, para
definir la porción visible de la escena.
</p>
</div>
</div>

<div id="outline-container-org7f9585c" class="outline-4">
<h4 id="org7f9585c">Coordenadas de Pantalla</h4>
<div class="outline-text-4" id="text-org7f9585c">
<p>
Las coordenadas normalizadas se mapean a píxeles en la pantalla
según la resolución de la ventana.
</p>
</div>
</div>
</div>

<div id="outline-container-org782854c" class="outline-3">
<h3 id="org782854c">Primitivas de Dibujo en OpenGL</h3>
<div class="outline-text-3" id="text-org782854c">
<p>
OpenGL permite dibujar figuras básicas conocidas como primitivas,
entre las que se incluyen:
</p>

<ul class="org-ul">
<li><b><b>GL<sub>POINTS</sub></b></b>: Puntos individuales.</li>
<li><b><b>GL<sub>LINES</sub></b></b>: Líneas entre pares de vértices.</li>
<li><b><b>GL<sub>TRIANGLES</sub></b></b>: Triángulos entre grupos de tres vértices.</li>
<li><b><b>GL<sub>QUADS</sub></b></b>: Cuadrados entre grupos de cuatro vértices (obsoleto
en OpenGL moderno).</li>
</ul>



<p>
Ejemplo de uso de <b><b>GL<sub>TRIANGLES</sub></b></b> para dibujar un triángulo:
</p>
</div>


<div id="outline-container-org92b104d" class="outline-4">
<h4 id="org92b104d">Código en Python con OpenGL y GLUT</h4>
<div class="outline-text-4" id="text-org92b104d">
<p>
Este código utiliza OpenGL y GLUT en Python para dibujar un
triángulo. A continuación, se describen en detalle las funciones y
líneas de código, así como su propósito y parámetros utilizados.
</p>
</div>

<ul class="org-ul">
<li><a id="org6089386"></a>Importación de módulos<br />
<div class="outline-text-5" id="text-org6089386">
<p>
Se importan los módulos necesarios para trabajar con OpenGL y GLUT en Python.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> sys
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLUT <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *
</pre>
</div>

<ul class="org-ul">
<li><b>import sys</b>: Se importa el módulo `sys`, que proporciona acceso a
algunas variables y funciones específicos del sistema. En este caso,
se usa para acceder a los argumentos de la línea de comandos al
iniciar el programa.</li>

<li><b>from OpenGL.GL import</b>: Se importa todo el módulo `GL` de
OpenGL. Este módulo contiene las funciones necesarias para manejar
las operaciones gráficas, como la manipulación de la ventana, la
configuración de colores, la creación de objetos y más.</li>

<li><b>from OpenGL.GLUT import</b>: Se importa el módulo `GLUT` de OpenGL, que
es la biblioteca utilizada para crear y gestionar ventanas, manejar
la interacción del usuario y ejecutar un bucle de eventos en el
sistema. Aquí se utiliza para crear la ventana y controlar la
visualización.</li>

<li><b>from OpenGL.GLU import</b>: Se importa el módulo `GLU` de OpenGL. GLU
(OpenGL Utility Library) ofrece funciones adicionales que
simplifican algunas operaciones gráficas complejas, como las
proyecciones en perspectiva, que se utilizan en este código.</li>
</ul>
</div>
</li>

<li><a id="org1a52e2f"></a>Función `init()`<br />
<div class="outline-text-5" id="text-org1a52e2f">
<p>
La función `init()` realiza las configuraciones iniciales para la
visualización, como establecer el color de fondo, definir la
proyección y configurar las matrices.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.0, 0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Establecer color de fondo</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Establecer la matriz de proyecci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Restablecer la matriz a la identidad</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 1.0, 0.1, 50.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Establecer la matriz de modelo de vista</span>
</pre>
</div>

<ul class="org-ul">
<li><b><b>`glClearColor(0.0, 0.0, 0.0, 1.0)`</b></b>: Define el color de fondo de la
ventana. Los valores (0.0, 0.0, 0.0) representan el color negro, y
el valor 1.0 en el último parámetro significa opacidad total (sin
transparencia).</li>

<li><b><b>`glMatrixMode(GL<sub>PROJECTION</sub>)`</b></b>: Establece que la matriz activa sea
la matriz de proyección, que es la encargada de definir cómo se
proyectan los objetos 3D en la pantalla.</li>

<li><b><b>`glLoadIdentity()`</b></b>: Restablece la matriz activa a la matriz
identidad. Este comando es necesario para borrar cualquier
transformación previa antes de aplicar nuevas transformaciones.</li>

<li><b><b>`gluPerspective(45, 1.0, 0.1, 50.0)`</b></b>: Configura una proyección en
perspectiva. El primer parámetro (45) es el ángulo de visión en
grados. El segundo parámetro (1.0) es la relación de aspecto, que
debe ser igual a la relación entre el ancho y la altura de la
ventana (en este caso, una ventana cuadrada). El tercer parámetro
(0.1) define la distancia mínima (cerca) del plano de corte, y el
cuarto parámetro (50.0) define la distancia máxima (lejos) del plano
de corte.</li>

<li><b><b>`glMatrixMode(GL<sub>MODELVIEW</sub>)`</b></b>: Cambia la matriz activa de nuevo a
la de modelo de vista. Esto significa que las siguientes
transformaciones (como traslación o rotación de objetos) afectarán a
los objetos en el espacio 3D.</li>
</ul>
</div>
</li>

<li><a id="orgc69afbf"></a>Función `display()`<br />
<div class="outline-text-5" id="text-orgc69afbf">
<p>
La función `display()` se encarga de limpiar los buffers y dibujar los
objetos en pantalla, en este caso, un triángulo. La función se llama
constantemente para actualizar la ventana.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">def</span> <span style="color: #0000ff;">display</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Limpiar buffers</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Restablecer transformaciones previas</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 0.0, -1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover la c&#225;mara hacia atr&#225;s</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un tri&#225;ngulo</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_TRIANGLES<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicia la especificaci&#243;n de los v&#233;rtices para un tri&#225;ngulo</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1.0, -1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Primer v&#233;rtice</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1.0, -1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Segundo v&#233;rtice</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Azul</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Tercer v&#233;rtice</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Finaliza el bloque de dibujo</span>

<span style="background-color: #f2f2f2;"> </span>   glutSwapBuffers<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Intercambiar buffers</span>
</pre>
</div>

<ul class="org-ul">
<li><b>glClear(GL<sub>COLOR</sub><sub>BUFFER</sub><sub>BIT</sub> | GL<sub>DEPTH</sub><sub>BUFFER</sub><sub>BIT</sub>)</b>: Limpia los
buffers de color y profundidad. Esto borra lo que se haya dibujado
anteriormente en la ventana, asegurando que cada nueva imagen se
dibuje sobre un fondo limpio.</li>

<li><b>glLoadIdentity()</b>: Restablece las transformaciones actuales, como
traslación, rotación, o escala, para asegurarse de que el triángulo
se dibuje en su posición inicial.</li>

<li><b>glTranslatef(0.0, 0.0, -5)</b>: Aplica una traslación a la
cámara. Este comando mueve la vista de la cámara a lo largo del eje
Z, alejándola 5 unidades para que el triángulo sea visible en la
pantalla.</li>

<li><b>glBegin(GL<sub>TRIANGLES</sub>)</b>: Inicia la especificación de los vértices
para un objeto en forma de triángulo. Todos los vértices dentro de
este bloque serán interpretados como parte de un triángulo.</li>

<li><b>glColor3f(1.0, 0.0, 0.0)</b>: Establece el color del primer vértice
del triángulo a rojo (con valores de 1.0 para rojo y 0.0 para verde
y azul).</li>

<li><b>glVertex3f(-1.0, -1.0, 0.0)</b>: Define las coordenadas (x, y, z)
del primer vértice del triángulo.</li>

<li><b>glColor3f(0.0, 1.0, 0.0)</b>: Establece el color del segundo vértice
del triángulo a verde.</li>

<li><b>glVertex3f(1.0, -1.0, 0.0)</b>: Define las coordenadas del segundo
vértice del triángulo.</li>

<li><b>glColor3f(0.0, 0.0, 1.0)</b>: Establece el color del tercer vértice
del triángulo a azul.</li>

<li><b>glVertex3f(0.0, 1.0, 0.0)</b>: Define las coordenadas del tercer
vértice del triángulo.</li>

<li><b>glEnd()</b>: Finaliza la especificación del triángulo. Todos los
vértices y colores definidos entre `glBegin` y `glEnd` forman un
triángulo.</li>

<li><b>glutSwapBuffers()</b>: Intercambia los buffers de pantalla en una
ventana de doble buffer. Esto garantiza que lo que se dibujó se
renderice en la ventana de manera eficiente, evitando parpadeos.</li>
</ul>
</div>
</li>

<li><a id="org8f011c9"></a>Función `main()`<br />
<div class="outline-text-5" id="text-org8f011c9">
<p>
La función `main()` inicializa GLUT, configura la ventana y asigna la función de visualización. También lanza el bucle principal de GLUT.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glutInit<span style="color: #707183;">(</span>sys.argv<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLUT</span>
<span style="background-color: #f2f2f2;"> </span>   glutInitDisplayMode<span style="color: #707183;">(</span>GLUT_DOUBLE | GLUT_RGB | GLUT_DEPTH<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Establecer modo de visualizaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glutInitWindowSize<span style="color: #707183;">(</span>800, 600<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Establecer tama&#241;o de la ventana</span>
<span style="background-color: #f2f2f2;"> </span>   glutCreateWindow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Tri&#225;ngulo con GLUT y Python"</span><span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana con t&#237;tulo</span>

<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Llamar a la funci&#243;n de configuraci&#243;n inicial</span>
<span style="background-color: #f2f2f2;"> </span>   glutDisplayFunc<span style="color: #707183;">(</span>display<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Asignar funci&#243;n de visualizaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glutMainLoop<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Comenzar el bucle principal de GLUT</span>
</pre>
</div>

<ul class="org-ul">
<li><b>glutInit(sys.argv)</b>: Inicializa GLUT y permite pasar parámetros
desde la línea de comandos.</li>

<li><b>glutInitDisplayMode(GLUT<sub>DOUBLE</sub> | GLUT<sub>RGB</sub> | GLUT<sub>DEPTH</sub>)</b>:
Establece el modo de visualización. Usamos un modo de doble buffer,
el modelo RGB para el color y un buffer de profundidad para
gestionar la visibilidad de objetos en 3D.</li>

<li><b>glutInitWindowSize(800, 600)</b>: Define el tamaño de la ventana
(800 píxeles de ancho por 600 píxeles de altura).</li>

<li><b>glutCreateWindow("Triángulo con GLUT y Python")</b>: Crea una
ventana con el título especificado.</li>

<li><b>init()</b>: Llama a la función `init()`, que establece las
configuraciones iniciales de OpenGL.</li>

<li><b>glutDisplayFunc(display)</b>: Asocia la función `display()` con el
proceso de renderizado de la ventana. Esta función se llamará cada
vez que sea necesario actualizar la ventana.</li>

<li><b>glutMainLoop()</b>: Inicia el bucle principal de GLUT, que gestiona
la ventana, la entrada del usuario y la actualización de la
pantalla.</li>
</ul>
</div>
</li>

<li><a id="orgcaadef3"></a>Ejecución del código<br />
<div class="outline-text-5" id="text-orgcaadef3">
<p>
Este bloque final se asegura de que el código se ejecute correctamente cuando se llama al archivo directamente.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Llamar a la funci&#243;n principal para ejecutar el programa</span>
</pre>
</div>

<p>
Este código completa la configuración para mostrar un triángulo 3D en
una ventana utilizando OpenGL y GLUT, con el fondo negro y los colores
rojo, verde y azul para los vértices del triángulo.
</p>




<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> sys
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLUT <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.0, 0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Establecer color de fondo</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 1.0, 0.1, 50.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">display</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Limpiar buffers</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 0.0, -3<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover la c&#225;mara hacia atr&#225;s</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un tri&#225;ngulo</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_TRIANGLES<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1.0, -1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1.0, -1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 0.8 <span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Azul</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glutSwapBuffers<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Intercambiar buffers</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLUT</span>
<span style="background-color: #f2f2f2;"> </span>   glutInit<span style="color: #707183;">(</span>sys.argv<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutInitDisplayMode<span style="color: #707183;">(</span>GLUT_DOUBLE | GLUT_RGB | GLUT_DEPTH<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutInitWindowSize<span style="color: #707183;">(</span>800, 600<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutCreateWindow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Tri&#225;ngulo con GLUT y Python"</span><span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glutDisplayFunc<span style="color: #707183;">(</span>display<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutMainLoop<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>
</pre>
</div>



<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">raise</span> <span style="color: #228b22;">Exception</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"No se pudo inicializar GLFW"</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana</span>
<span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>800, 600, <span style="color: #8b2252;">"OpenGL Test"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> <span style="color: #a0522d;">window</span>:
<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">raise</span> <span style="color: #228b22;">Exception</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"No se pudo crear la ventana GLFW"</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Activar el contexto</span>
glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener versi&#243;n de OpenGL</span>
version = glGetString<span style="color: #707183;">(</span>GL_VERSION<span style="color: #707183;">)</span>
<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Versi&#243;n de OpenGL:"</span>, version.decode<span style="color: #7388d6;">(</span><span style="color: #8b2252;">"utf-8"</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Terminar GLFW</span>
glfw.terminate<span style="color: #707183;">()</span>

</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_triangle</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja un tri&#225;ngulo con OpenGL</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_TRIANGLES<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.5, -0.5<span style="color: #707183;">)</span>    <span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtice inferior izquierdo</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.5, -0.5<span style="color: #707183;">)</span>     <span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtice inferior derecho</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Azul</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.0, 0.5<span style="color: #707183;">)</span>      <span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtice superior</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializa GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear la ventana</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>800, 600, <span style="color: #8b2252;">"OpenGL Tri&#225;ngulo"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Hacer el contexto de OpenGL actual para la ventana</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar la proyecci&#243;n (2D simple)</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glOrtho<span style="color: #707183;">(</span>-1.0, 1.0, -1.0, 1.0, -1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Proyecci&#243;n ortogr&#225;fica 2D</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Limpiar la pantalla con color de fondo</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_triangle<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar el tri&#225;ngulo</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Intercambiar los buffers</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Comprobar eventos</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Finalizar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>
</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> glClearColor, glEnable, glClear, glLoadIdentity, glTranslatef, glRotatef, glMatrixMode
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> glBegin, glColor3f, glVertex3f, glEnd, glFlush, glViewport
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> GL_COLOR_BUFFER_BIT, GL_DEPTH_BUFFER_BIT, GL_DEPTH_TEST, GL_QUADS, GL_PROJECTION, GL_MODELVIEW
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluPerspective
<span style="color: #a020f0;">import</span> sys

<span style="color: #b22222;"># </span><span style="color: #b22222;">Variables globales</span>
<span style="color: #a0522d;">window</span> = <span style="color: #008b8b;">None</span>
<span style="color: #a0522d;">angle</span> = 0  <span style="color: #b22222;"># </span><span style="color: #b22222;">Declaramos angle en el nivel superior</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n inicial de OpenGL</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.0, 0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color de fondo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar prueba de profundidad para 3D</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de proyecci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 1.0, 0.1, 50.0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cambiar a la matriz de modelo para los objetos</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_cube</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> angle
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Limpiar pantalla y buffer de profundidad</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la vista del cubo</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 0.0, -5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Alejar el cubo para que sea visible</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>angle, 0, 0,1<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar el cubo en todos los ejes</span>

<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Iniciar el cubo como un conjunto de caras (quads)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cada conjunto de cuatro v&#233;rtices representa una cara del cubo</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1,-1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Azul</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Amarillo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1,-1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Magenta</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Cyan</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1,-1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glFlush<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Intercambiar buffers para animaci&#243;n suave</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">angle</span> += 1  <span style="color: #b22222;"># </span><span style="color: #b22222;">Incrementar el &#225;ngulo para rotaci&#243;n</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana de GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 500, 500
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>width, height, <span style="color: #8b2252;">"Cubo 3D Rotando con GLFW"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar el contexto de OpenGL en la ventana</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de viewport y OpenGL</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_cube<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Cerrar GLFW al salir</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> glClearColor, glEnable, glClear, glLoadIdentity, glTranslatef, glRotatef, glMatrixMode
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> glBegin, glColor3f, glVertex3f, glEnd, glFlush, glViewport
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> GL_COLOR_BUFFER_BIT, GL_DEPTH_BUFFER_BIT, GL_DEPTH_TEST, GL_QUADS, GL_PROJECTION, GL_MODELVIEW
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluPerspective
<span style="color: #a020f0;">import</span> sys

<span style="color: #b22222;"># </span><span style="color: #b22222;">Variables globales</span>
<span style="color: #a0522d;">window</span> = <span style="color: #008b8b;">None</span>
<span style="color: #a0522d;">angle_x</span>, <span style="color: #a0522d;">angle_y</span> = 0, 0  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#193;ngulos de rotaci&#243;n en los ejes X e Y</span>
<span style="color: #a0522d;">last_x</span>, <span style="color: #a0522d;">last_y</span> = <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#218;ltima posici&#243;n del rat&#243;n para calcular la diferencia</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n inicial de OpenGL</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.0, 0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color de fondo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar prueba de profundidad para 3D</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de proyecci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 1.0, 0.1, 50.0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cambiar a la matriz de modelo para los objetos</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_cube</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> angle_x, angle_y
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Limpiar pantalla y buffer de profundidad</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la vista del cubo</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 0.0, -5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Alejar el cubo para que sea visible</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>angle_x, 1, 0, 0<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar el cubo en el eje X</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>angle_y, 0, 1, 0<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar el cubo en el eje Y</span>

<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Iniciar el cubo como un conjunto de caras (quads)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cada conjunto de cuatro v&#233;rtices representa una cara del cubo</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1,-1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Azul</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Amarillo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1,-1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Magenta</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Cyan</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1,-1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glFlush<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Intercambiar buffers para animaci&#243;n suave</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">mouse_callback</span><span style="color: #707183;">(</span>window, xpos, ypos<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> angle_x, angle_y, last_x, last_y

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Si es la primera vez que movemos el rat&#243;n, inicializamos last_x y last_y</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> last_x <span style="color: #a020f0;">is</span> <span style="color: #008b8b;">None</span> <span style="color: #a020f0;">or</span> last_y <span style="color: #a020f0;">is</span> <span style="color: #008b8b;">None</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">last_x</span>, <span style="color: #a0522d;">last_y</span> = xpos, ypos

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular las diferencias en el movimiento del rat&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">dx</span> = xpos - last_x
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">dy</span> = ypos - last_y

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Ajustar los &#225;ngulos de rotaci&#243;n en funci&#243;n del movimiento del rat&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">angle_x</span> += dy * 0.1  <span style="color: #b22222;"># </span><span style="color: #b22222;">El factor 0.1 ajusta la sensibilidad</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">angle_y</span> += dx * 0.1

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Actualizar las posiciones anteriores del rat&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">last_x</span>, <span style="color: #a0522d;">last_y</span> = xpos, ypos

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana de GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 500, 500
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>width, height, <span style="color: #8b2252;">"Cubo 3D Controlado por Rat&#243;n"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar el contexto de OpenGL en la ventana</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar el callback de rat&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.set_cursor_pos_callback<span style="color: #707183;">(</span>window, mouse_callback<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_cube<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Cerrar GLFW al salir</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>


</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluPerspective
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">import</span> sys

<span style="color: #b22222;"># </span><span style="color: #b22222;">Variables globales para el &#225;ngulo de rotaci&#243;n</span>
<span style="color: #a0522d;">window</span> = <span style="color: #008b8b;">None</span>
<span style="color: #a0522d;">angle_x</span>, <span style="color: #a0522d;">angle_y</span> = 0.0, 0.0  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#193;ngulos de rotaci&#243;n en los ejes X e Y</span>
<span style="color: #a0522d;">last_x</span>, <span style="color: #a0522d;">last_y</span> = <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#218;ltima posici&#243;n del rat&#243;n para calcular la diferencia</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Par&#225;metros del toroide</span>
<span style="color: #a0522d;">R</span> = 1.0  <span style="color: #b22222;"># </span><span style="color: #b22222;">Radio mayor (distancia del centro del tubo al centro del toroide)</span>
<span style="color: #a0522d;">r</span> = 0.4  <span style="color: #b22222;"># </span><span style="color: #b22222;">Radio menor (radio del tubo)</span>
<span style="color: #a0522d;">num_major</span> = 30  <span style="color: #b22222;"># </span><span style="color: #b22222;">Segmentos en el c&#237;rculo mayor</span>
<span style="color: #a0522d;">num_minor</span> = 15  <span style="color: #b22222;"># </span><span style="color: #b22222;">Segmentos en el c&#237;rculo menor</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n inicial de OpenGL</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.0, 0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color de fondo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar prueba de profundidad para 3D</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de proyecci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 1.0, 0.1, 50.0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cambiar a la matriz de modelo para los objetos</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_torus</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> angle_x, angle_y
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Limpiar pantalla y buffer de profundidad</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la vista del toroide</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 0.0, -5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Alejar el toroide para que sea visible</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>angle_x, 1, 0, 0<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar el toroide en el eje X</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>angle_y, 0, 1, 0<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar el toroide en el eje Y</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar el toroide utilizando segmentos</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>num_major<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">theta</span> = 2 * np.pi * i / num_major
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">next_theta</span> = 2 * np.pi * <span style="color: #707183;">(</span>i + 1<span style="color: #707183;">)</span> / num_major

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUAD_STRIP<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>num_minor + 1<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">phi</span> = 2 * np.pi * j / num_minor
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">cos_theta</span>, <span style="color: #a0522d;">sin_theta</span> = np.cos<span style="color: #707183;">(</span>theta<span style="color: #707183;">)</span>, np.sin<span style="color: #707183;">(</span>theta<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">cos_next_theta</span>, <span style="color: #a0522d;">sin_next_theta</span> = np.cos<span style="color: #707183;">(</span>next_theta<span style="color: #707183;">)</span>, np.sin<span style="color: #707183;">(</span>next_theta<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">cos_phi</span>, <span style="color: #a0522d;">sin_phi</span> = np.cos<span style="color: #707183;">(</span>phi<span style="color: #707183;">)</span>, np.sin<span style="color: #707183;">(</span>phi<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Color din&#225;mico para variaci&#243;n visual</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>i % 2<span style="color: #7388d6;">)</span> * 0.5 + 0.5, <span style="color: #7388d6;">(</span>j % 2<span style="color: #7388d6;">)</span> * 0.5 + 0.5, 0.5<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Primera esquina</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">x</span> = <span style="color: #707183;">(</span>R + r * cos_phi<span style="color: #707183;">)</span> * cos_theta
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">y</span> = r * sin_phi
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">z</span> = <span style="color: #707183;">(</span>R + r * cos_phi<span style="color: #707183;">)</span> * sin_theta
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>x, y, z<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Segunda esquina</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">x</span> = <span style="color: #707183;">(</span>R + r * cos_phi<span style="color: #707183;">)</span> * cos_next_theta
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">z</span> = <span style="color: #707183;">(</span>R + r * cos_phi<span style="color: #707183;">)</span> * sin_next_theta
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>x, y, z<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Intercambiar buffers para animaci&#243;n suave</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">mouse_callback</span><span style="color: #707183;">(</span>window, xpos, ypos<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> angle_x, angle_y, last_x, last_y

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Si es la primera vez que movemos el rat&#243;n, inicializamos last_x y last_y</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> last_x <span style="color: #a020f0;">is</span> <span style="color: #008b8b;">None</span> <span style="color: #a020f0;">or</span> last_y <span style="color: #a020f0;">is</span> <span style="color: #008b8b;">None</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">last_x</span>, <span style="color: #a0522d;">last_y</span> = xpos, ypos

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular las diferencias en el movimiento del rat&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">dx</span> = xpos - last_x
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">dy</span> = ypos - last_y

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Ajustar los &#225;ngulos de rotaci&#243;n en funci&#243;n del movimiento del rat&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">angle_x</span> += dy * 0.2  <span style="color: #b22222;"># </span><span style="color: #b22222;">Factor de sensibilidad en Y</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">angle_y</span> += dx * 0.2  <span style="color: #b22222;"># </span><span style="color: #b22222;">Factor de sensibilidad en X</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Actualizar las posiciones anteriores del rat&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">last_x</span>, <span style="color: #a0522d;">last_y</span> = xpos, ypos

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana de GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 500, 500
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>width, height, <span style="color: #8b2252;">"Toroide 3D Controlado por Rat&#243;n"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar el contexto de OpenGL en la ventana</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar el callback de rat&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.set_cursor_pos_callback<span style="color: #707183;">(</span>window, mouse_callback<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_torus<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Cerrar GLFW al salir</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluNewQuadric, gluSphere, gluPerspective
<span style="color: #a020f0;">import</span> sys
<span style="color: #a020f0;">import</span> math

<span style="color: #b22222;"># </span><span style="color: #b22222;">Variables globales para el &#225;ngulo de rotaci&#243;n y posici&#243;n de la esfera</span>
<span style="color: #a0522d;">window</span> = <span style="color: #008b8b;">None</span>
<span style="color: #a0522d;">rotation_angle</span> = 0.0  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#193;ngulo de rotaci&#243;n de la esfera</span>
<span style="color: #a0522d;">movement_offset</span> = 0.0  <span style="color: #b22222;"># </span><span style="color: #b22222;">Offset para el movimiento de vaiv&#233;n</span>
<span style="color: #a0522d;">movement_speed</span> = 0.05  <span style="color: #b22222;"># </span><span style="color: #b22222;">Velocidad del movimiento de vaiv&#233;n</span>
<span style="color: #a0522d;">movement_direction</span> = 1  <span style="color: #b22222;"># </span><span style="color: #b22222;">Direcci&#243;n del movimiento (1 a la derecha, -1 a la izquierda)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.5, 0.8, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo negro</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>            <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar prueba de profundidad</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>              <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar iluminaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>                <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar la luz 0</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>10, 1.0, 0.1, 50.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la luz</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_pos</span> = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 0.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de la luz</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_color</span> = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color de la luz blanca</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ambient_light</span> = <span style="color: #707183;">[</span>0.2, 0.2, 0.2, 1.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Luz ambiental</span>

<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, light_pos<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_DIFFUSE, light_color<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_AMBIENT, ambient_light<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de las propiedades de material</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">material_diffuse</span> = <span style="color: #707183;">[</span>0.0, 0.9, 0.2, 0.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color difuso (azul claro)</span>
<span style="background-color: #f2f2f2;"> </span>   glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_DIFFUSE, material_diffuse<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_sphere</span><span style="color: #707183;">(</span>radius=1, slices=32, stacks=32<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> rotation_angle, movement_offset
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>movement_offset, 0.0, -50<span style="color: #707183;">)</span>      <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover la esfera en vaiv&#233;n</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>rotation_angle, 0, 1, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar la esfera sobre su eje Y</span>

<span style="background-color: #f2f2f2;"> </span>   quadric = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluSphere<span style="color: #707183;">(</span>quadric, radius, slices, stacks<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar la esfera</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">update_motion</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> rotation_angle, movement_offset, movement_direction

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Actualizar el &#225;ngulo de rotaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   rotation_angle += 1
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> rotation_angle &gt;= 360:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   rotation_angle = 0  <span style="color: #b22222;"># </span><span style="color: #b22222;">Reiniciar el &#225;ngulo despu&#233;s de una vuelta completa</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Actualizar el movimiento de vaiv&#233;n</span>
<span style="background-color: #f2f2f2;"> </span>   movement_offset += movement_speed * movement_direction
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> movement_offset &gt; 3.0:       <span style="color: #b22222;"># </span><span style="color: #b22222;">Limite derecho</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   movement_direction = -1     <span style="color: #b22222;"># </span><span style="color: #b22222;">Cambiar direcci&#243;n hacia la izquierda</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> movement_offset &lt; -3.0:    <span style="color: #b22222;"># </span><span style="color: #b22222;">Limite izquierdo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   movement_direction = 1      <span style="color: #b22222;"># </span><span style="color: #b22222;">Cambiar direcci&#243;n hacia la derecha</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana de GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 500, 500
<span style="background-color: #f2f2f2;"> </span>   window = glfw.create_window<span style="color: #707183;">(</span>width, height, <span style="color: #8b2252;">"Esfera en Movimiento y Rotaci&#243;n"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   update_motion<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Actualizar el movimiento y rotaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluNewQuadric, gluSphere, gluPerspective, gluCylinder
<span style="color: #a020f0;">import</span> sys

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.5, 0.7, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo de cielo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 1.0, 0.1, 50.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_sphere</span><span style="color: #707183;">(</span>radius=1, x=0, y=0, z=0<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>x, y, z<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   quadric = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluSphere<span style="color: #707183;">(</span>quadric, radius, 32, 32<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_cone</span><span style="color: #707183;">(</span>base=0.1, height=0.5, x=0, y=0, z=0<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>x, y, z<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>-90, 1, 0, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Orientar el cono hacia adelante</span>
<span style="background-color: #f2f2f2;"> </span>   quadric = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluCylinder<span style="color: #707183;">(</span>quadric, base, 0, height, 32, 32<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_snowman</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, -1.5, -8<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Alejar al mu&#241;eco de nieve</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cuerpo</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>1.0, 0, 0, 0<span style="color: #707183;">)</span>     <span style="color: #b22222;"># </span><span style="color: #b22222;">Base</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>0.75, 0, 1.2, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Cuerpo medio</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>0.5, 0, 2.2, 0<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cabeza</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Ojos</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>0.05, -0.15, 2.3, 0.4<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Ojo izquierdo</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>0.05, 0.15, 2.3, 0.4<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Ojo derecho</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Nariz (cono)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1, 0.5, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color naranja</span>
<span style="background-color: #f2f2f2;"> </span>   draw_cone<span style="color: #707183;">(</span>0.05, 0.2, 0, 2.2, 0.5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Nariz</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window
<span style="background-color: #f2f2f2;"> </span>   window = glfw.create_window<span style="color: #707183;">(</span>500, 500, <span style="color: #8b2252;">"Mu&#241;eco de Nieve en OpenGL"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_snowman<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>
</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluNewQuadric, gluSphere, gluPerspective, gluCylinder
<span style="color: #a020f0;">import</span> sys
<span style="color: #a020f0;">import</span> math

<span style="color: #b22222;"># </span><span style="color: #b22222;">Variables globales</span>
<span style="color: #a0522d;">window</span> = <span style="color: #008b8b;">None</span>
<span style="color: #a0522d;">jump_offset</span> = 0.0       <span style="color: #b22222;"># </span><span style="color: #b22222;">Para el movimiento de salto vertical</span>
<span style="color: #a0522d;">jump_speed</span> = 0.05       <span style="color: #b22222;"># </span><span style="color: #b22222;">Velocidad del salto</span>
<span style="color: #a0522d;">jump_direction</span> = 1      <span style="color: #b22222;"># </span><span style="color: #b22222;">Direcci&#243;n del salto (1 hacia arriba, -1 hacia abajo)</span>
<span style="color: #a0522d;">rotation_angle</span> = 0.0    <span style="color: #b22222;"># </span><span style="color: #b22222;">&#193;ngulo de rotaci&#243;n del mu&#241;eco de nieve</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.5, 0.7, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo de cielo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 1.0, 0.1, 50.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_sphere</span><span style="color: #707183;">(</span>radius=1, x=0, y=0, z=0<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>x, y, z<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   quadric = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluSphere<span style="color: #707183;">(</span>quadric, radius, 32, 32<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_cone</span><span style="color: #707183;">(</span>base=0.1, height=0.5, x=0, y=0, z=0<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>x, y, z<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>-90, 1, 0, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Orientar el cono hacia adelante</span>
<span style="background-color: #f2f2f2;"> </span>   quadric = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluCylinder<span style="color: #707183;">(</span>quadric, base, 0, height, 32, 32<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_snowman</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> jump_offset, rotation_angle

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Limpiar la pantalla y la profundidad</span>
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar posici&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0 + jump_offset, -1.5 , -8<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n del mu&#241;eco de nieve y altura</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>rotation_angle, 0, 0, 1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rotaci&#243;n en el eje Y</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cuerpo</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>1.0, 0, 0, 0<span style="color: #707183;">)</span>     <span style="color: #b22222;"># </span><span style="color: #b22222;">Base</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0, 1, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>0.75, 0, 1.2, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Cuerpo medio</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>0.5, 0, 2.2, 0<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cabeza</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Ojos</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>0.05, -0.15, 2.3, 0.4<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Ojo izquierdo</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>0.05, 0.15, 2.3, 0.4<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Ojo derecho</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Nariz (cono)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1, 0.5, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color naranja</span>
<span style="background-color: #f2f2f2;"> </span>   draw_cone<span style="color: #707183;">(</span>0.05, 0.2, 0, 2.2, 0.5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Nariz</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">update_motion</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> jump_offset, jump_direction, rotation_angle

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Actualizar el &#225;ngulo de rotaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   rotation_angle += 1  <span style="color: #b22222;"># </span><span style="color: #b22222;">Incrementa para que el mu&#241;eco gire</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> rotation_angle &gt;= 360:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   rotation_angle = 0  <span style="color: #b22222;"># </span><span style="color: #b22222;">Reiniciar el &#225;ngulo despu&#233;s de una vuelta completa</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Actualizar el movimiento de salto</span>
<span style="background-color: #f2f2f2;"> </span>   jump_offset += jump_speed * jump_direction
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> jump_offset &gt; 1.0:        <span style="color: #b22222;"># </span><span style="color: #b22222;">Limite superior del salto</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   jump_direction = -1      <span style="color: #b22222;"># </span><span style="color: #b22222;">Cambiar direcci&#243;n hacia abajo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> jump_offset &lt; 0.0:      <span style="color: #b22222;"># </span><span style="color: #b22222;">Limite inferior del salto</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   jump_direction = 1       <span style="color: #b22222;"># </span><span style="color: #b22222;">Cambiar direcci&#243;n hacia arriba</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana de GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 500, 500
<span style="background-color: #f2f2f2;"> </span>   window = glfw.create_window<span style="color: #707183;">(</span>width, height, <span style="color: #8b2252;">"Mu&#241;eco de Nieve en Movimiento"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_snowman<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   update_motion<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Actualizar el movimiento en cada cuadro</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</li>
</ul>
</div>
</div>


<div id="outline-container-org3c3ef62" class="outline-3">
<h3 id="org3c3ef62">Tutorial de gluPerspective en OpenGL</h3>
<div class="outline-text-3" id="text-org3c3ef62">
<p>
Este tutorial describe cómo utilizar la función <code>gluPerspective</code> en
OpenGL para definir la proyección en perspectiva en una escena 3D. La
proyección en perspectiva simula cómo los humanos ven el mundo, con
objetos cercanos que se ven más grandes y objetos lejanos que se ven
más pequeños.
</p>
</div>

<div id="outline-container-orgb488390" class="outline-4">
<h4 id="orgb488390">¿Qué es gluPerspective?</h4>
<div class="outline-text-4" id="text-orgb488390">
<p>
La función <code>gluPerspective</code> establece una proyección en perspectiva para
la cámara, creando una "pirámide de visión" o "frustum" en la que los
objetos más lejanos se ven más pequeños, proporcionando una sensación
de profundidad en la escena.
</p>
</div>
</div>



<div id="outline-container-orge42f5b6" class="outline-4">
<h4 id="orge42f5b6">Sintaxis</h4>
<div class="outline-text-4" id="text-orge42f5b6">
<div class="org-src-container">
<pre class="src src-python">gluPerspective<span style="color: #707183;">(</span>fovY, aspect, zNear, zFar<span style="color: #707183;">)</span>
</pre>
</div>

<ul class="org-ul">
<li><code>fovY</code>: El campo de visión vertical en grados. Un valor mayor de <code>fovY</code>
hace que la vista sea más amplia.</li>
<li><code>aspect</code>: La relación de aspecto de la ventana (ancho/alto). Asegura
que la imagen no se vea estirada.</li>
<li><code>zNear</code>: La distancia mínima visible desde la cámara. Los objetos más
cercanos a la cámara que <code>zNear</code> no se renderizan.</li>
<li><code>zFar</code>: La distancia máxima visible desde la cámara. Los objetos más
lejanos que <code>zFar</code> no se renderizan.</li>
</ul>
</div>
</div>

<div id="outline-container-orgbf3bb47" class="outline-4">
<h4 id="orgbf3bb47">Ejemplo Básico de Uso de gluPerspective</h4>
<div class="outline-text-4" id="text-orgbf3bb47">
<p>
Este ejemplo muestra cómo configurar <code>gluPerspective</code> en una escena de
OpenGL en Python, utilizando PyOpenGL y GLFW.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluPerspective

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.0, 0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo negro</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>            <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar prueba de profundidad</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la proyecci&#243;n en perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>        <span style="color: #b22222;"># </span><span style="color: #b22222;">Cambiar a la matriz de proyecci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>                   <span style="color: #b22222;"># </span><span style="color: #b22222;">Resetear la matriz de proyecci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 4/3, 0.1, 50.0<span style="color: #707183;">)</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>         <span style="color: #b22222;"># </span><span style="color: #b22222;">Cambiar a la matriz de modelo/vista</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 0.0, -5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Alejar el objeto de la c&#225;mara</span>

<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1, 0, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, -1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, -1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>800, 600, <span style="color: #8b2252;">"Ejemplo de gluPerspective"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, 800, 600<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-orgce6a7af" class="outline-3">
<h3 id="orgce6a7af">Objetos de Glut</h3>
<div class="outline-text-3" id="text-orgce6a7af">
<ul class="org-ul">
<li>casa</li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluPerspective, gluLookAt
<span style="color: #a020f0;">import</span> sys

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Configuraci&#243;n inicial de OpenGL"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.5, 0.8, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo azul cielo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>           <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar prueba de profundidad</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>60, 1.0, 0.1, 100.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Campo de visi&#243;n m&#225;s amplio</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_cube</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja el cubo (base de la casa)"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.8, 0.5, 0.2<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Marr&#243;n para todas las caras</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Frente</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Atr&#225;s</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Izquierda</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Derecha</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Arriba</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.9, 0.6, 0.3<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color diferente para el techo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Abajo</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.6, 0.4, 0.2<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Suelo m&#225;s oscuro</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_roof</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja el techo (pir&#225;mide)"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_TRIANGLES<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.9, 0.1, 0.1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo brillante</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Frente</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 2, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Atr&#225;s</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 2, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Izquierda</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 2, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Derecha</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 2, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_ground</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja un plano para representar el suelo o calle"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.3, 0.3, 0.3<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Gris oscuro para la calle</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Coordenadas del plano</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-10, 0, 10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>10, 0, 10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>10, 0, -10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-10, 0, -10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_house</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja una casa sobre un plano"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   gluLookAt<span style="color: #707183;">(</span>4, 4, 8,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 1, 0,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Punto al que mira</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 1, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Vector hacia arriba</span>

<span style="background-color: #f2f2f2;"> </span>   draw_ground<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja el suelo</span>
<span style="background-color: #f2f2f2;"> </span>   draw_cube<span style="color: #707183;">()</span>    <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja la base de la casa</span>
<span style="background-color: #f2f2f2;"> </span>   draw_roof<span style="color: #707183;">()</span>    <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja el techo</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana de GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 800, 600
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>width, height, <span style="color: #8b2252;">"Casa 3D con Base"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_house<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>


<ul class="org-ul">
<li>casas</li>
</ul>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluPerspective, gluLookAt
<span style="color: #a020f0;">import</span> sys

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Configuraci&#243;n inicial de OpenGL"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.5, 0.8, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo azul cielo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>           <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar prueba de profundidad</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>60, 1, 6, 100.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Campo de visi&#243;n m&#225;s amplio</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_cube</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja el cubo (base de la casa)"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.8, 0.5, 0.2<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Marr&#243;n para todas las caras</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Frente</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 5, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 5, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Atr&#225;s     X  Y   Z</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 5, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 5, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Izquierda</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 5, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 5, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Derecha</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 5, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 5, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Arriba</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.9, 0.6, 0.3<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color diferente para el techo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 5, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 5, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 5, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 5, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Abajo</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.6, 0.4, 0.2<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Suelo m&#225;s oscuro</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,0 , -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_roof</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja el techo (pir&#225;mide)"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_TRIANGLES<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.9, 0.1, 0.1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo brillante</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Frente</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 5, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 5, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 9, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Atr&#225;s     x  y   z </span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 5, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 5, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 9, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Izquierda</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 5, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 5, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 9, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Derecha</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 5, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 5, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 9, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_ground</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja un plano para representar el suelo o calle"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.3, 0.3, 0.3<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Gris oscuro para la calle</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Coordenadas del plano</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-20, 0, 20<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>20, 0, 20<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>20, 0, -20<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-20, 0, -20<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_house</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja una casa (base + techo)"""</span>
<span style="background-color: #f2f2f2;"> </span>   draw_cube<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Base de la casa</span>
<span style="background-color: #f2f2f2;"> </span>   draw_roof<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Techo</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_scene</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja toda la escena con 4 casas"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   gluLookAt<span style="color: #707183;">(</span>10, 8, 15,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 0, 0,    <span style="color: #b22222;"># </span><span style="color: #b22222;">Punto al que mira</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 1, 0<span style="color: #707183;">)</span>    <span style="color: #b22222;"># </span><span style="color: #b22222;">Vector hacia arriba</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar el suelo</span>
<span style="background-color: #f2f2f2;"> </span>   draw_ground<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar las casas en diferentes posiciones</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">positions</span> = <span style="color: #707183;">[</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span>-5, 0, -5<span style="color: #7388d6;">)</span>,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Casa 1</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span>5, 0, -5<span style="color: #7388d6;">)</span>,   <span style="color: #b22222;"># </span><span style="color: #b22222;">Casa 2</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span>-5, 0, 5<span style="color: #7388d6;">)</span>,   <span style="color: #b22222;"># </span><span style="color: #b22222;">Casa 3</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span>5, 0, 5<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span>0, 0, 0<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> pos <span style="color: #a020f0;">in</span> positions:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>*pos<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover la casa a la posici&#243;n actual</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_house<span style="color: #707183;">()</span>        <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar la casa</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana de GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 800, 600
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>width, height, <span style="color: #8b2252;">"Escena con 4 casas"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_scene<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>

<ul class="org-ul">
<li>Arbol</li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluPerspective, gluLookAt, gluNewQuadric, gluCylinder, gluSphere
<span style="color: #a020f0;">import</span> sys

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Configuraci&#243;n inicial de OpenGL"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.5, 0.8, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo azul cielo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>           <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar prueba de profundidad</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>60, 1.0, 0.1, 100.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Campo de visi&#243;n m&#225;s amplio</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_trunk</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja el tronco del &#225;rbol como un cilindro"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.6, 0.3, 0.1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Marr&#243;n para el tronco</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 0.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posicionar el tronco</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>-90, 1, 0, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rota para orientar el cilindro verticalmente</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluCylinder<span style="color: #707183;">(</span>quadric, 0.3, 0.3, 2.0, 32, 32<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Radio y altura del cilindro</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_foliage</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja las hojas del &#225;rbol como una esfera"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.1, 0.8, 0.1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde para las hojas</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 2.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posicionar las hojas encima del tronco</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluSphere<span style="color: #707183;">(</span>quadric, 1.0, 32, 32<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Radio de la esfera</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_ground</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja un plano para representar el suelo"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.3, 0.3, 0.3<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Gris oscuro para el suelo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-10, 0, 10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>10, 0, 10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>10, 0, -10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-10, 0, -10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_tree</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja un &#225;rbol completo"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   gluLookAt<span style="color: #707183;">(</span>4, 3, 8,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 1, 0,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Punto al que mira</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 1, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Vector hacia arriba</span>

<span style="background-color: #f2f2f2;"> </span>   draw_ground<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja el suelo</span>
<span style="background-color: #f2f2f2;"> </span>   draw_trunk<span style="color: #707183;">()</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja el tronco</span>
<span style="background-color: #f2f2f2;"> </span>   draw_foliage<span style="color: #707183;">()</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja las hojas</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana de GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 800, 600
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>width, height, <span style="color: #8b2252;">"&#193;rbol 3D con Tronco y Hojas"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_tree<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>


</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">import</span> sys

<span style="color: #b22222;"># </span><span style="color: #b22222;">Variables globales para controlar la posici&#243;n del cuadrado</span>
<span style="color: #a0522d;">square_x</span> = 0.0
<span style="color: #a0522d;">square_y</span> = 0.0
<span style="color: #a0522d;">speed</span> = 0.005  <span style="color: #b22222;"># </span><span style="color: #b22222;">Velocidad de movimiento</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Configuraci&#243;n inicial de OpenGL"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>1.0, 1.0, 0.5, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo negro</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glOrtho<span style="color: #707183;">(</span>-1, 1, -1, 1, -1, 1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar un sistema de coordenadas 2D</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_square</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja un cuadrado en la posici&#243;n actual"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> square_x, square_y

<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color verde</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>square_x, square_y, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Trasladar el cuadrado</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.1, -0.1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.1, -0.1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.1, 0.1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.1, 0.1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">key_callback</span><span style="color: #707183;">(</span>window, key, scancode, action, mods<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Procesa las entradas de teclado"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> square_x, square_y, speed

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> action == glfw.PRESS <span style="color: #a020f0;">or</span> action == glfw.REPEAT:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> key == glfw.KEY_UP:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   square_y += speed  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover hacia arriba</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> key == glfw.KEY_DOWN:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   square_y -= speed  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover hacia abajo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> key == glfw.KEY_LEFT:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   square_x -= speed  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover a la izquierda</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> key == glfw.KEY_RIGHT:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   square_x += speed  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover a la derecha</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"No se pudo inicializar GLFW"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana</span>
<span style="background-color: #f2f2f2;"> </span>   window = glfw.create_window<span style="color: #707183;">(</span>800, 600, <span style="color: #8b2252;">"Prueba de Teclado"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"No se pudo crear la ventana"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.set_key_callback<span style="color: #707183;">(</span>window, key_callback<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar callback de teclado</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_square<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>


</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluPerspective, gluLookAt, gluNewQuadric, gluCylinder, gluSphere
<span style="color: #a020f0;">import</span> sys

<span style="color: #b22222;"># </span><span style="color: #b22222;">Variables globales para la c&#225;mara</span>
<span style="color: #a0522d;">camera_pos</span> = <span style="color: #707183;">[</span>4.0, 3.0, 8.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de la c&#225;mara</span>
<span style="color: #a0522d;">camera_target</span> = <span style="color: #707183;">[</span>0.0, 1.0, 0.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Punto al que mira</span>
<span style="color: #a0522d;">camera_up</span> = <span style="color: #707183;">[</span>0.0, 1.0, 0.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Vector hacia arriba</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Variables para el movimiento</span>
<span style="color: #a0522d;">camera_speed</span> = 0.2  <span style="color: #b22222;"># </span><span style="color: #b22222;">Velocidad de movimiento</span>
<span style="color: #a0522d;">keys</span> = <span style="color: #707183;">{}</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Diccionario para controlar el estado de las teclas</span>


<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Configuraci&#243;n inicial de OpenGL"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.5, 0.8, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo azul cielo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>           <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar prueba de profundidad</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>60, 1.0, 0.1, 100.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Campo de visi&#243;n m&#225;s amplio</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>


<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_trunk</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja el tronco del &#225;rbol como un cilindro"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.6, 0.3, 0.1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Marr&#243;n para el tronco</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 0.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posicionar el tronco</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>-90, 1, 0, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rota para orientar el cilindro verticalmente</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluCylinder<span style="color: #707183;">(</span>quadric, 0.3, 0.3, 2.0, 32, 32<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Radio y altura del cilindro</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>


<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_foliage</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja las hojas del &#225;rbol como una esfera"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.1, 0.8, 0.1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde para las hojas</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 2.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posicionar las hojas encima del tronco</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluSphere<span style="color: #707183;">(</span>quadric, 1.0, 32, 32<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Radio de la esfera</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1, 0, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde para las hojas</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 3.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posicionar las hojas encima del tronco</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluSphere<span style="color: #707183;">(</span>quadric, 1.0, 32, 32<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Radio de la esfera</span>
<span style="background-color: #f2f2f2;"> </span>   


<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>


<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_foliage2</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja las hojas del &#225;rbol como una esfera"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.1, 0.6, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde para las hojas</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 2.5, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posicionar las hojas encima del tronco</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluSphere<span style="color: #707183;">(</span>quadric, 1.0, 32, 32<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Radio de la esfera</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_ground</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja un plano para representar el suelo"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.3, 0.3, 0.3<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Gris oscuro para el suelo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-10, 0, 10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>10, 0, 10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>10, 0, -10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-10, 0, -10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>


<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_scene</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja la escena completa"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   gluLookAt<span style="color: #707183;">(</span>camera_pos<span style="color: #7388d6;">[</span>0<span style="color: #7388d6;">]</span>, camera_pos<span style="color: #7388d6;">[</span>1<span style="color: #7388d6;">]</span>, camera_pos<span style="color: #7388d6;">[</span>2<span style="color: #7388d6;">]</span>,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> camera_target<span style="color: #7388d6;">[</span>0<span style="color: #7388d6;">]</span>, camera_target<span style="color: #7388d6;">[</span>1<span style="color: #7388d6;">]</span>, camera_target<span style="color: #7388d6;">[</span>2<span style="color: #7388d6;">]</span>,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Punto al que mira</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> camera_up<span style="color: #7388d6;">[</span>0<span style="color: #7388d6;">]</span>, camera_up<span style="color: #7388d6;">[</span>1<span style="color: #7388d6;">]</span>, camera_up<span style="color: #7388d6;">[</span>2<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Vector hacia arriba</span>

<span style="background-color: #f2f2f2;"> </span>   draw_ground<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja el suelo</span>
<span style="background-color: #f2f2f2;"> </span>   draw_trunk<span style="color: #707183;">()</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja el tronco</span>
<span style="background-color: #f2f2f2;"> </span>   draw_foliage<span style="color: #707183;">()</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja las hojas</span>
<span style="background-color: #f2f2f2;"> </span>   draw_foliage2<span style="color: #707183;">()</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja las hojas</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>


<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">process_input</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Procesa el estado de las teclas para mover la c&#225;mara"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> camera_pos

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> keys.get<span style="color: #707183;">(</span>glfw.KEY_W, <span style="color: #008b8b;">False</span><span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover hacia adelante</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">camera_pos</span><span style="color: #707183;">[</span>2<span style="color: #707183;">]</span> -= camera_speed
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> keys.get<span style="color: #707183;">(</span>glfw.KEY_S, <span style="color: #008b8b;">False</span><span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover hacia atr&#225;s</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">camera_pos</span><span style="color: #707183;">[</span>2<span style="color: #707183;">]</span> += camera_speed
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> keys.get<span style="color: #707183;">(</span>glfw.KEY_A, <span style="color: #008b8b;">False</span><span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover a la izquierda</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">camera_pos</span><span style="color: #707183;">[</span>0<span style="color: #707183;">]</span> -= camera_speed
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> keys.get<span style="color: #707183;">(</span>glfw.KEY_D, <span style="color: #008b8b;">False</span><span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover a la derecha</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">camera_pos</span><span style="color: #707183;">[</span>0<span style="color: #707183;">]</span> += camera_speed
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> keys.get<span style="color: #707183;">(</span>glfw.KEY_UP, <span style="color: #008b8b;">False</span><span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Subir</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">camera_pos</span><span style="color: #707183;">[</span>1<span style="color: #707183;">]</span> += camera_speed
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> keys.get<span style="color: #707183;">(</span>glfw.KEY_DOWN, <span style="color: #008b8b;">False</span><span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Bajar</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">camera_pos</span><span style="color: #707183;">[</span>1<span style="color: #707183;">]</span> -= camera_speed


<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">key_callback</span><span style="color: #707183;">(</span>window, key, scancode, action, mods<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Actualiza el estado de las teclas"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> action == glfw.PRESS:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   keys<span style="color: #707183;">[</span><span style="color: #a0522d;">key</span><span style="color: #707183;">]</span> = <span style="color: #008b8b;">True</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> action == glfw.RELEASE:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   keys<span style="color: #707183;">[</span><span style="color: #a0522d;">key</span><span style="color: #707183;">]</span> = <span style="color: #008b8b;">False</span>


<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana de GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 800, 600
<span style="background-color: #f2f2f2;"> </span>   window = glfw.create_window<span style="color: #707183;">(</span>width, height, <span style="color: #8b2252;">"Mover Escena Completa"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar callback de teclado</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.set_key_callback<span style="color: #707183;">(</span>window, key_callback<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   process_input<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Procesar teclas presionadas</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_scene<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>


<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLUT <span style="color: #a020f0;">import</span> *

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_eye</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Globo ocular</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>1.0, 50, 50<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Iris (azul)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.3, 0.5, 0.9<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0, 0, 0.57<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>0.2, 30, 30<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Pupila (negra)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0, 0, 1.02<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>0.2, 20, 20<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Nervio &#243;ptico</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.6, 0.6<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0, 0, -1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>-90, 1, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quad</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluCylinder<span style="color: #707183;">(</span>quad, 0.15, 0.05, 0.6, 20, 20<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>800, 600, <span style="color: #8b2252;">"Ojo 3D con OpenGL"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_COLOR_MATERIAL<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 800 / 600, 0.1, 50.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   gluLookAt<span style="color: #707183;">(</span>3, 1.5, 3, 0, 0, 0, 0, 1, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_eye<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   glutInit<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>



<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> sys
<span style="color: #a020f0;">import</span> math
<span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLUT <span style="color: #a020f0;">import</span> *

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_fold</span><span style="color: #707183;">(</span>x, y, z, scale<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja una curva simulando un pliegue</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>x, y, z<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glScalef<span style="color: #707183;">(</span>scale, scale, scale<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> t <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>0, 180, 20<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">angle</span> = math.radians<span style="color: #707183;">(</span>t<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">xt</span> = math.cos<span style="color: #707183;">(</span>angle<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">yt</span> = math.sin<span style="color: #707183;">(</span>angle<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>xt * 0.3, yt * 0.3, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>0.2, 20, 20<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_brain</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.7, 0.75<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color rosado claro</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Parte principal del cerebro</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>-2, 3<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>-1, 2<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_fold<span style="color: #707183;">(</span>i * 0.4, j * 0.4, 0, 0.6<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Tallo cerebral</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.9, 0.5, 0.6<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0, -1.2, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>-90, 1, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidCylinder<span style="color: #707183;">(</span>0.2, 1.0, 20, 20<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>800, 600, <span style="color: #8b2252;">"Cerebro de perfil - OpenGL"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_COLOR_MATERIAL<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 800 / 600, 0.1, 50.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">C&#225;mara de lado (vista de perfil)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   gluLookAt<span style="color: #707183;">(</span>3, 1.5, 3, 0, 0, 0, 0, 1, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_brain<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   glutInit<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>



<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluPerspective, gluLookAt, gluNewQuadric, gluCylinder, gluSphere
<span style="color: #a020f0;">from</span> PIL <span style="color: #a020f0;">import</span> Image
<span style="color: #a020f0;">import</span> sys

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Configuraci&#243;n inicial de OpenGL"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.5, 0.8, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo azul cielo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>           <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar prueba de profundidad</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>             <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar luces</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>               <span style="color: #b22222;"># </span><span style="color: #b22222;">Luz b&#225;sica</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_COLOR_MATERIAL<span style="color: #707183;">)</span>       <span style="color: #b22222;"># </span><span style="color: #b22222;">Materiales de color para reflejar luz</span>
<span style="background-color: #f2f2f2;"> </span>   glShadeModel<span style="color: #707183;">(</span>GL_SMOOTH<span style="color: #707183;">)</span>           <span style="color: #b22222;"># </span><span style="color: #b22222;">Sombreado suave</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_TEXTURE_2D<span style="color: #707183;">)</span>           <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar texturas</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>60, 1.0, 0.1, 100.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Campo de visi&#243;n m&#225;s amplio</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Luz ambiental y difusa</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_pos</span> = <span style="color: #707183;">[</span>10, 10, 10, 1.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de la luz</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_ambient</span> = <span style="color: #707183;">[</span>0.3, 0.3, 0.3, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_diffuse</span> = <span style="color: #707183;">[</span>0.8, 0.8, 0.8, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, light_pos<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_AMBIENT, light_ambient<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_DIFFUSE, light_diffuse<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">load_texture</span><span style="color: #707183;">(</span>filename<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Carga una textura desde un archivo de imagen"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = Image.<span style="color: #483d8b;">open</span><span style="color: #707183;">(</span>filename<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img_data</span> = img.tobytes<span style="color: #707183;">(</span><span style="color: #8b2252;">"raw"</span>, <span style="color: #8b2252;">"RGB"</span>, 0, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">texture_id</span> = glGenTextures<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glTexImage2D<span style="color: #707183;">(</span>GL_TEXTURE_2D, 0, GL_RGB, img.width, img.height, 0, GL_RGB, GL_UNSIGNED_BYTE, img_data<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> texture_id

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_trunk</span><span style="color: #707183;">(</span>texture_id<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja el tronco del &#225;rbol como un cilindro con textura"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Vincula la textura</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color blanco para mostrar la textura</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 0.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>-90, 1, 0, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Orienta el cilindro verticalmente</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluQuadricTexture<span style="color: #707183;">(</span>quadric, GL_TRUE<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluCylinder<span style="color: #707183;">(</span>quadric, 0.3, 0.3, 2.0, 32, 32<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_foliage</span><span style="color: #707183;">(</span>texture_id<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja las hojas del &#225;rbol como una esfera con textura"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Vincula la textura</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color blanco para mostrar la textura</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 2.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluQuadricTexture<span style="color: #707183;">(</span>quadric, GL_TRUE<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluSphere<span style="color: #707183;">(</span>quadric, 1.0, 32, 32<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_ground</span><span style="color: #707183;">(</span>texture_id<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja un plano para representar el suelo con textura"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Vincula la textura</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color blanco para mostrar la textura</span>
<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>0.0, 0.0<span style="color: #707183;">)</span>; glVertex3f<span style="color: #707183;">(</span>-10, 0, 10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>1.0, 0.0<span style="color: #707183;">)</span>; glVertex3f<span style="color: #707183;">(</span>10, 0, 10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>1.0, 1.0<span style="color: #707183;">)</span>; glVertex3f<span style="color: #707183;">(</span>10, 0, -10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>0.0, 1.0<span style="color: #707183;">)</span>; glVertex3f<span style="color: #707183;">(</span>-10, 0, -10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_tree</span><span style="color: #707183;">(</span>trunk_texture, foliage_texture, ground_texture<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja un &#225;rbol completo"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   gluLookAt<span style="color: #707183;">(</span>4, 3, 8,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 1, 0,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Punto al que mira</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 1, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Vector hacia arriba</span>

<span style="background-color: #f2f2f2;"> </span>   draw_ground<span style="color: #707183;">(</span>ground_texture<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja el suelo</span>
<span style="background-color: #f2f2f2;"> </span>   draw_trunk<span style="color: #707183;">(</span>trunk_texture<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja el tronco</span>
<span style="background-color: #f2f2f2;"> </span>   draw_foliage<span style="color: #707183;">(</span>foliage_texture<span style="color: #707183;">)</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja las hojas</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana de GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 800, 600
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>width, height, <span style="color: #8b2252;">"&#193;rbol 3D con Texturas y Luz"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> <span style="color: #a0522d;">window</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Carga de texturas</span>
<span style="background-color: #f2f2f2;"> </span>   trunk_texture = load_texture<span style="color: #707183;">(</span><span style="color: #8b2252;">"trunk.jpg"</span><span style="color: #707183;">)</span>      <span style="color: #b22222;"># </span><span style="color: #b22222;">Textura para el tronco</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">foliage_texture</span> = load_texture<span style="color: #707183;">(</span><span style="color: #8b2252;">"foliage.jpg"</span><span style="color: #707183;">)</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">Textura para las hojas</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ground_texture</span> = load_texture<span style="color: #707183;">(</span><span style="color: #8b2252;">"groud.jpg"</span><span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Textura para el suelo</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_tree<span style="color: #707183;">(</span>trunk_texture, foliage_texture, ground_texture<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluPerspective, gluLookAt, gluNewQuadric, gluCylinder, gluSphere
<span style="color: #a020f0;">import</span> struct

<span style="color: #b22222;"># </span><span style="color: #b22222;">Funci&#243;n para cargar una textura BMP</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">load_texture</span><span style="color: #707183;">(</span>filename<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Carga un archivo BMP y genera una textura de OpenGL"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">with</span> <span style="color: #483d8b;">open</span><span style="color: #707183;">(</span>filename, <span style="color: #8b2252;">"rb"</span><span style="color: #707183;">)</span> <span style="color: #a020f0;">as</span> <span style="color: #a0522d;">f</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   header = f.read<span style="color: #707183;">(</span>54<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Cabecera BMP de 54 bytes</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = struct.unpack<span style="color: #707183;">(</span><span style="color: #8b2252;">"ii"</span>, header<span style="color: #7388d6;">[</span>18:26<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">data_offset</span> = struct.unpack<span style="color: #707183;">(</span><span style="color: #8b2252;">"I"</span>, header<span style="color: #7388d6;">[</span>10:14<span style="color: #7388d6;">]</span><span style="color: #707183;">)[</span>0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   f.seek<span style="color: #707183;">(</span>data_offset<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">data</span> = f.read<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">almacena p&#237;xeles en orden BGR, los convertimos a RGB</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">image_data</span> = <span style="color: #483d8b;">bytearray</span><span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>0, <span style="color: #483d8b;">len</span><span style="color: #7388d6;">(</span>data<span style="color: #7388d6;">)</span>, 3<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   image_data.extend<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>data<span style="color: #909183;">[</span>i + 2<span style="color: #909183;">]</span>, data<span style="color: #909183;">[</span>i + 1<span style="color: #909183;">]</span>, data<span style="color: #909183;">[</span>i<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">texture_id</span> = glGenTextures<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexImage2D<span style="color: #707183;">(</span>GL_TEXTURE_2D, 0, GL_RGB, width, height, 0, GL_RGB, GL_UNSIGNED_BYTE, image_data<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> texture_id

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Configuraci&#243;n inicial de OpenGL"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.5, 0.8, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo azul cielo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>           <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar prueba de profundidad</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_TEXTURE_2D<span style="color: #707183;">)</span>           <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar texturas</span>
<span style="background-color: #f2f2f2;"> </span>   glShadeModel<span style="color: #707183;">(</span>GL_SMOOTH<span style="color: #707183;">)</span>           <span style="color: #b22222;"># </span><span style="color: #b22222;">Sombreado suave</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>60, 1.0, 0.1, 100.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Campo de visi&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_trunk</span><span style="color: #707183;">(</span>texture_id<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja el tronco del &#225;rbol como un cilindro texturizado"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Blanco para mostrar la textura</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 0.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>-90, 1, 0, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar para orientar verticalmente</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluQuadricTexture<span style="color: #707183;">(</span>quadric, GL_TRUE<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluCylinder<span style="color: #707183;">(</span>quadric, 0.3, 0.3, 2.0, 32, 32<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_foliage</span><span style="color: #707183;">(</span>texture_id<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja las hojas del &#225;rbol como una esfera texturizada"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Blanco para mostrar la textura</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 2.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluQuadricTexture<span style="color: #707183;">(</span>quadric, GL_TRUE<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluSphere<span style="color: #707183;">(</span>quadric, 1.0, 32, 32<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_ground</span><span style="color: #707183;">(</span>texture_id<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja un plano para representar el suelo con textura"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Blanco para mostrar la textura</span>
<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>0.0, 0.0<span style="color: #707183;">)</span>; glVertex3f<span style="color: #707183;">(</span>-10, 0, 10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>1.0, 0.0<span style="color: #707183;">)</span>; glVertex3f<span style="color: #707183;">(</span>10, 0, 10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>1.0, 1.0<span style="color: #707183;">)</span>; glVertex3f<span style="color: #707183;">(</span>10, 0, -10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>0.0, 1.0<span style="color: #707183;">)</span>; glVertex3f<span style="color: #707183;">(</span>-10, 0, -10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_tree</span><span style="color: #707183;">(</span>trunk_texture, foliage_texture, ground_texture<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja un &#225;rbol completo"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   gluLookAt<span style="color: #707183;">(</span>4, 3, 8,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 1, 0,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Punto al que mira</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 1, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Vector hacia arriba</span>

<span style="background-color: #f2f2f2;"> </span>   draw_ground<span style="color: #707183;">(</span>ground_texture<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja el suelo</span>
<span style="background-color: #f2f2f2;"> </span>   draw_trunk<span style="color: #707183;">(</span>trunk_texture<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja el tronco</span>
<span style="background-color: #f2f2f2;"> </span>   draw_foliage<span style="color: #707183;">(</span>foliage_texture<span style="color: #707183;">)</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja las hojas</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana de GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 800, 600
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>width, height, <span style="color: #8b2252;">"&#193;rbol con Texturas"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> <span style="color: #a0522d;">window</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Carga de texturas BMP</span>
<span style="background-color: #f2f2f2;"> </span>   trunk_texture = load_texture<span style="color: #707183;">(</span><span style="color: #8b2252;">"trunk.bmp"</span><span style="color: #707183;">)</span>      <span style="color: #b22222;"># </span><span style="color: #b22222;">Textura para el tronco</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">foliage_texture</span> = load_texture<span style="color: #707183;">(</span><span style="color: #8b2252;">"foliage.bmp"</span><span style="color: #707183;">)</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">Textura para las hojas</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ground_texture</span> = load_texture<span style="color: #707183;">(</span><span style="color: #8b2252;">"groud.bmp"</span><span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Textura para el suelo</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> trunk_texture <span style="color: #a020f0;">or</span> <span style="color: #a020f0;">not</span> foliage_texture <span style="color: #a020f0;">or</span> <span style="color: #a020f0;">not</span> ground_texture:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Error al cargar texturas."</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_tree<span style="color: #707183;">(</span>trunk_texture, foliage_texture, ground_texture<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>


</pre>
</div>

<p>
texturas blanco y negro
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLUT <span style="color: #a020f0;">import</span> *

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">load_texture</span><span style="color: #707183;">(</span>image_path<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">texture_id</span> = glGenTextures<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar imagen de textura</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">from</span> PIL <span style="color: #a020f0;">import</span> Image
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = Image.<span style="color: #483d8b;">open</span><span style="color: #707183;">(</span>image_path<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img_data</span> = img.tobytes<span style="color: #707183;">(</span><span style="color: #8b2252;">"raw"</span>, <span style="color: #8b2252;">"RGB"</span>, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glTexImage2D<span style="color: #707183;">(</span>GL_TEXTURE_2D, 0, GL_RGB, img.width, img.height, 0,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>GL_RGB, GL_UNSIGNED_BYTE, img_data<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameterf<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameterf<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> texture_id

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">display</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_TEXTURE_2D<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear un objeto cuadr&#225;tico</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluQuadricTexture<span style="color: #707183;">(</span>quadric, GL_TRUE<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Habilitar texturas</span>
<span style="background-color: #f2f2f2;"> </span>   gluQuadricNormals<span style="color: #707183;">(</span>quadric, GLU_SMOOTH<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar una esfera con textura</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluSphere<span style="color: #707183;">(</span>quadric, 1.0, 32, 32<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   gluDeleteQuadric<span style="color: #707183;">(</span>quadric<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glDisable<span style="color: #707183;">(</span>GL_TEXTURE_2D<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSwapBuffers<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> texture_id
<span style="background-color: #f2f2f2;"> </span>   glutInit<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glutInitDisplayMode<span style="color: #707183;">(</span>GLUT_RGBA | GLUT_DOUBLE | GLUT_DEPTH<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutInitWindowSize<span style="color: #707183;">(</span>800, 600<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutCreateWindow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Textura"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">texture_id</span> = load_texture<span style="color: #707183;">(</span><span style="color: #8b2252;">"/home/likcos/Materias/Graficacion/code/foliage.bmp"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutDisplayFunc<span style="color: #707183;">(</span>display<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutMainLoop<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>

<p>
texturas de color 
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLUT <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> PIL <span style="color: #a020f0;">import</span> Image

<span style="color: #b22222;">#</span><span style="color: #b22222;">pip install Pillow</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">load_texture</span><span style="color: #707183;">(</span>image_path<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Generar y enlazar una textura</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">texture_id</span> = glGenTextures<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar imagen desde el archivo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = Image.<span style="color: #483d8b;">open</span><span style="color: #707183;">(</span>image_path<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = img.convert<span style="color: #707183;">(</span><span style="color: #8b2252;">"RGB"</span><span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir a RGB expl&#237;citamente</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img_data</span> = img.tobytes<span style="color: #707183;">(</span><span style="color: #8b2252;">"raw"</span>, <span style="color: #8b2252;">"RGB"</span>, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar la textura</span>
<span style="background-color: #f2f2f2;"> </span>   glTexImage2D<span style="color: #707183;">(</span>GL_TEXTURE_2D, 0, GL_RGB, img.width, img.height, 0,
<span style="background-color: #f2f2f2;"> </span>   GL_RGB, GL_UNSIGNED_BYTE, img_data<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> texture_id

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init_lighting</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de iluminaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Habilitar iluminaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar la luz 0</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_COLOR_MATERIAL<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Habilitar el material basado en colores</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la luz</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_pos</span> = <span style="color: #707183;">[</span>0.5, 0.5, 0.5, 0.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de la luz</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_ambient</span> = <span style="color: #707183;">[</span>0.2, 0.2, 0.2, 1.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Luz ambiental</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_diffuse</span> = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Luz difusa</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_specular</span> = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Luz especular</span>

<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, light_pos<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_AMBIENT, light_ambient<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_DIFFUSE, light_diffuse<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_SPECULAR, light_specular<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n del material</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">material_specular</span> = <span style="color: #707183;">[</span>0.1, 0.1, 0.1, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">material_shininess</span> = <span style="color: #707183;">[</span>10.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_SPECULAR, material_specular<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_SHININESS, material_shininess<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">display</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_TEXTURE_2D<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear un objeto cuadr&#225;tico</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluQuadricTexture<span style="color: #707183;">(</span>quadric, GL_TRUE<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Habilitar texturas para el objeto</span>
<span style="background-color: #f2f2f2;"> </span>   gluQuadricNormals<span style="color: #707183;">(</span>quadric, GLU_SMOOTH<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Enlazar la textura cargada</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar la esfera peque&#241;a</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;">#  </span><span style="color: #b22222;">no altere la textura</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 0.0, -2.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover la esfera para que sea visible</span>
<span style="background-color: #f2f2f2;"> </span>   gluSphere<span style="color: #707183;">(</span>quadric, 0.5, 32, 32<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Esfera con radio 0.5</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   gluDeleteQuadric<span style="color: #707183;">(</span>quadric<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Liberar el recurso del cuadr&#225;tico</span>
<span style="background-color: #f2f2f2;"> </span>   glDisable<span style="color: #707183;">(</span>GL_TEXTURE_2D<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSwapBuffers<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">reshape</span><span style="color: #707183;">(</span>width, height<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> height == 0:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   height = 1
<span style="background-color: #f2f2f2;"> </span>   aspect = width / height
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45.0, aspect, 0.1, 50.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> texture_id
<span style="background-color: #f2f2f2;"> </span>   glutInit<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glutInitDisplayMode<span style="color: #707183;">(</span>GLUT_RGBA | GLUT_DOUBLE | GLUT_DEPTH<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutInitWindowSize<span style="color: #707183;">(</span>800, 600<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutCreateWindow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Esfera con textura e iluminaci&#243;n"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Habilitar prueba de profundidad</span>
<span style="background-color: #f2f2f2;"> </span>   texture_id = load_texture<span style="color: #707183;">(</span><span style="color: #8b2252;">"/home/likcos/Materias/Graficacion/code/fol.png"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   init_lighting<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar iluminaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glutDisplayFunc<span style="color: #707183;">(</span>display<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutReshapeFunc<span style="color: #707183;">(</span>reshape<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutMainLoop<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>

<p>
persona
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">from</span> ctypes <span style="color: #a020f0;">import</span> c_void_p
<span style="color: #a020f0;">from</span> pyrr <span style="color: #a020f0;">import</span> Matrix44

<span style="color: #b22222;"># </span><span style="color: #b22222;">----------------- Shaders -----------------</span>
<span style="color: #a0522d;">vertex_shader_source</span> = <span style="color: #8b2252;">"""</span>
<span style="color: #8b2252;">#version 330 core</span>
<span style="color: #8b2252;">layout(location = 0) in vec3 position;</span>
<span style="color: #8b2252;">uniform mat4 model;</span>
<span style="color: #8b2252;">uniform mat4 view;</span>
<span style="color: #8b2252;">uniform mat4 projection;</span>
<span style="color: #8b2252;">void main() {</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   gl_Position = projection * view * model * vec4(position, 1.0);</span>
<span style="color: #8b2252;">}</span>
<span style="color: #8b2252;">"""</span>

<span style="color: #a0522d;">fragment_shader_source</span> = <span style="color: #8b2252;">"""</span>
<span style="color: #8b2252;">#version 330 core</span>
<span style="color: #8b2252;">out vec4 FragColor;</span>
<span style="color: #8b2252;">void main() {</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   FragColor = vec4(0.6, 0.8, 1.0, 1.0);</span>
<span style="color: #8b2252;">}</span>
<span style="color: #8b2252;">"""</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">compile_shader</span><span style="color: #707183;">(</span>source, shader_type<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">shader</span> = glCreateShader<span style="color: #707183;">(</span>shader_type<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glShaderSource<span style="color: #707183;">(</span>shader, source<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glCompileShader<span style="color: #707183;">(</span>shader<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> shader

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">create_shader_program</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">vs</span> = compile_shader<span style="color: #707183;">(</span>vertex_shader_source, GL_VERTEX_SHADER<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">fs</span> = compile_shader<span style="color: #707183;">(</span>fragment_shader_source, GL_FRAGMENT_SHADER<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">program</span> = glCreateProgram<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glAttachShader<span style="color: #707183;">(</span>program, vs<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glAttachShader<span style="color: #707183;">(</span>program, fs<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLinkProgram<span style="color: #707183;">(</span>program<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> program

<span style="color: #b22222;"># </span><span style="color: #b22222;">----------------- Cubo -----------------</span>
<span style="color: #a0522d;">cube_vertices</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">front face</span>
<span style="background-color: #f2f2f2;"> </span>   -0.5, -0.5,  0.5,   0.5, -0.5,  0.5,   0.5,  0.5,  0.5,
<span style="background-color: #f2f2f2;"> </span>   -0.5, -0.5,  0.5,   0.5,  0.5,  0.5,  -0.5,  0.5,  0.5,
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">back face</span>
<span style="background-color: #f2f2f2;"> </span>   -0.5, -0.5, -0.5,  -0.5,  0.5, -0.5,   0.5,  0.5, -0.5,
<span style="background-color: #f2f2f2;"> </span>   -0.5, -0.5, -0.5,   0.5,  0.5, -0.5,   0.5, -0.5, -0.5,
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">sides</span>
<span style="background-color: #f2f2f2;"> </span>   -0.5,  0.5, -0.5,  -0.5,  0.5,  0.5,   0.5,  0.5,  0.5,
<span style="background-color: #f2f2f2;"> </span>   -0.5,  0.5, -0.5,   0.5,  0.5,  0.5,   0.5,  0.5, -0.5,
<span style="background-color: #f2f2f2;"> </span>   -0.5, -0.5, -0.5,   0.5, -0.5, -0.5,   0.5, -0.5,  0.5,
<span style="background-color: #f2f2f2;"> </span>   -0.5, -0.5, -0.5,   0.5, -0.5,  0.5,  -0.5, -0.5,  0.5,
<span style="background-color: #f2f2f2;"> </span>   -0.5, -0.5, -0.5,  -0.5, -0.5,  0.5,  -0.5,  0.5,  0.5,
<span style="background-color: #f2f2f2;"> </span>   -0.5, -0.5, -0.5,  -0.5,  0.5,  0.5,  -0.5,  0.5, -0.5,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>0.5, -0.5, -0.5,   0.5,  0.5, -0.5,   0.5,  0.5,  0.5,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>0.5, -0.5, -0.5,   0.5,  0.5,  0.5,   0.5, -0.5,  0.5
<span style="color: #7388d6;">]</span>, dtype=np.float32<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_cube</span><span style="color: #707183;">(</span>program, model<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   glUniformMatrix4fv<span style="color: #707183;">(</span>glGetUniformLocation<span style="color: #7388d6;">(</span>program, <span style="color: #8b2252;">"model"</span><span style="color: #7388d6;">)</span>, 1, GL_FALSE, model.astype<span style="color: #7388d6;">(</span>np.float32<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glDrawArrays<span style="color: #707183;">(</span>GL_TRIANGLES, 0, 36<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">----------------- Main -----------------</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>
<span style="background-color: #f2f2f2;"> </span>   window = glfw.create_window<span style="color: #707183;">(</span>800, 600, <span style="color: #8b2252;">"Persona en OpenGL + GLFW"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   program = create_shader_program<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glUseProgram<span style="color: #707183;">(</span>program<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear VAO/VBO</span>
<span style="background-color: #f2f2f2;"> </span>   vao = glGenVertexArrays<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glBindVertexArray<span style="color: #707183;">(</span>vao<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   vbo = glGenBuffers<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glBindBuffer<span style="color: #707183;">(</span>GL_ARRAY_BUFFER, vbo<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glBufferData<span style="color: #707183;">(</span>GL_ARRAY_BUFFER, cube_vertices.nbytes, cube_vertices, GL_STATIC_DRAW<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glVertexAttribPointer<span style="color: #707183;">(</span>0, 3, GL_FLOAT, GL_FALSE, 0, c_void_p<span style="color: #7388d6;">(</span>0<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnableVertexAttribArray<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Matrices de c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   view = Matrix44.look_at<span style="color: #707183;">(</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   eye=<span style="color: #7388d6;">[</span>3, 3, 6<span style="color: #7388d6;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   target=<span style="color: #7388d6;">[</span>0, 1, 0<span style="color: #7388d6;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   up=<span style="color: #7388d6;">[</span>0, 1, 0<span style="color: #7388d6;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   projection = Matrix44.perspective_projection<span style="color: #707183;">(</span>45.0, 800/600, 0.1, 100.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glUniformMatrix4fv<span style="color: #707183;">(</span>glGetUniformLocation<span style="color: #7388d6;">(</span>program, <span style="color: #8b2252;">"view"</span><span style="color: #7388d6;">)</span>, 1, GL_FALSE, view.astype<span style="color: #7388d6;">(</span>np.float32<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glUniformMatrix4fv<span style="color: #707183;">(</span>glGetUniformLocation<span style="color: #7388d6;">(</span>program, <span style="color: #8b2252;">"projection"</span><span style="color: #7388d6;">)</span>, 1, GL_FALSE, projection.astype<span style="color: #7388d6;">(</span>np.float32<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja partes del cuerpo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   partes = <span style="color: #707183;">[</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   Matrix44.from_translation<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>0, 1, 0<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span> @ Matrix44.from_scale<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>0.5, 1.0, 0.3<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span>,  <span style="color: #b22222;"># </span><span style="color: #b22222;">torso</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   Matrix44.from_translation<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>0, 2.2, 0<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span> @ Matrix44.from_scale<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>0.4, 0.4, 0.4<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span>,  <span style="color: #b22222;"># </span><span style="color: #b22222;">cabeza</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   Matrix44.from_translation<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>-0.6, 1.0, 0<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span> @ Matrix44.from_scale<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>0.2, 0.8, 0.2<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span>,  <span style="color: #b22222;"># </span><span style="color: #b22222;">brazo izq</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   Matrix44.from_translation<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>0.6, 1.0, 0<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span> @ Matrix44.from_scale<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>0.2, 0.8, 0.2<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span>,   <span style="color: #b22222;"># </span><span style="color: #b22222;">brazo der</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   Matrix44.from_translation<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>-0.3, 0.0, 0<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span> @ Matrix44.from_scale<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>0.2, 1.0, 0.2<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span>,  <span style="color: #b22222;"># </span><span style="color: #b22222;">pierna izq</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   Matrix44.from_translation<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>0.3, 0.0, 0<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span> @ Matrix44.from_scale<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>0.2, 1.0, 0.2<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span>,   <span style="color: #b22222;"># </span><span style="color: #b22222;">pierna der</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #707183;">]</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> model <span style="color: #a020f0;">in</span> partes:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_cube<span style="color: #707183;">(</span>program, model<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</div>



<div id="outline-container-orgc0fd886" class="outline-3">
<h3 id="orgc0fd886">Transformaciones en OpenGL</h3>
<div class="outline-text-3" id="text-orgc0fd886">
<p>
Las transformaciones de OpenGL son fundamentales para mover, rotar y
escalar los objetos en la escena.
</p>
</div>

<div id="outline-container-org8651638" class="outline-4">
<h4 id="org8651638">Traslación</h4>
<div class="outline-text-4" id="text-org8651638">
<p>
Mueve un objeto de una posición a otra.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">1</th>
<th scope="col" class="org-right">0</th>
<th scope="col" class="org-right">0</th>
<th scope="col" class="org-left">tx</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">0</td>
<td class="org-right">1</td>
<td class="org-right">0</td>
<td class="org-left">ty</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">1</td>
<td class="org-left">tz</td>
</tr>
</tbody>
</table>

<p>
(x+- tx,y+-ty, z+-tz)
</p>
</div>
</div>




<div id="outline-container-org332c71d" class="outline-4">
<h4 id="org332c71d">Rotación</h4>
<div class="outline-text-4" id="text-org332c71d">
<p>
Gira un objeto alrededor de un eje.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">cost</th>
<th scope="col" class="org-left">sent</th>
<th scope="col" class="org-left">cost</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">sent</td>
<td class="org-left">cost</td>
<td class="org-left">sent</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">cost</td>
</tr>
</tbody>
</table>
</div>
</div>



<div id="outline-container-orgb04a19b" class="outline-4">
<h4 id="orgb04a19b">Escalado</h4>
<div class="outline-text-4" id="text-orgb04a19b">
<p>
Cambia el tamaño del objeto.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">k</th>
<th scope="col" class="org-right">0</th>
<th scope="col" class="org-right">0</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">0</td>
<td class="org-right">k</td>
<td class="org-right">0</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">k</td>
</tr>
</tbody>
</table>




<p>
Ejemplo de cómo aplicar una transformación de escalado y rotación:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #f2f2f2;"> </span> <span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="background-color: #f2f2f2;"> </span> <span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *
<span style="background-color: #f2f2f2;"> </span> 
<span style="background-color: #f2f2f2;"> </span> glPushMatrix<span style="color: #707183;">()</span>         <span style="color: #b22222;"># </span><span style="color: #b22222;">Guardar la matriz actual</span>
<span style="background-color: #f2f2f2;"> </span> glTranslatef<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Traslaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span> glRotatef<span style="color: #707183;">(</span>45, 0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rotaci&#243;n de 45 grados</span>
<span style="background-color: #f2f2f2;"> </span> glScalef<span style="color: #707183;">(</span>2.0, 2.0, 1.0<span style="color: #707183;">)</span>      <span style="color: #b22222;"># </span><span style="color: #b22222;">Escalar el objeto</span>
<span style="background-color: #f2f2f2;"> </span> draw_triangle<span style="color: #707183;">()</span>              <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar el objeto transformado</span>
<span style="background-color: #f2f2f2;"> </span> glPopMatrix<span style="color: #707183;">()</span>         <span style="color: #b22222;"># </span><span style="color: #b22222;">Restaurar la matriz original</span>
</pre>
</div>
</div>
</div>
</div>



<div id="outline-container-org5dccb33" class="outline-3">
<h3 id="org5dccb33">Iluminación y Materiales</h3>
<div class="outline-text-3" id="text-org5dccb33">
<p>
En OpenGL, puedes aplicar iluminación y definir materiales para que
los objetos interactúen con la luz de manera realista.
</p>
</div>

<div id="outline-container-orgd59b968" class="outline-4">
<h4 id="orgd59b968">Tipos de luces</h4>
<div class="outline-text-4" id="text-orgd59b968">
<ul class="org-ul">
<li><b><b>Luz ambiental</b></b>: Luz sin una dirección específica que ilumina
toda la escena.</li>
<li><b><b>Luz direccional</b></b>: Luz que proviene de una dirección específica,
como la luz solar.</li>
<li><b><b>Luz de punto</b></b>: Luz que emana de un punto específico, como una
lámpara.</li>
<li><b><b>Luz de foco</b></b>: Luz que se emite en un ángulo específico, similar
a un reflector.</li>
</ul>
</div>
</div>

<div id="outline-container-org8ad779c" class="outline-4">
<h4 id="org8ad779c">Materiales</h4>
<div class="outline-text-4" id="text-org8ad779c">
<p>
Puedes definir propiedades de los materiales, como el color y la
reflectividad, para cada objeto.
</p>
</div>
</div>
</div>

<div id="outline-container-org643fde1" class="outline-3">
<h3 id="org643fde1">Sombras y Efectos Avanzados</h3>
<div class="outline-text-3" id="text-org643fde1">
<p>
OpenGL también permite generar sombras y efectos avanzados como
transparencia, texturas y sombreado por vértices.
</p>
</div>
</div>

<div id="outline-container-org75c647d" class="outline-3">
<h3 id="org75c647d">OpenGL Moderno: Shaders y el Pipeline Gráfico</h3>
<div class="outline-text-3" id="text-org75c647d">
<p>
OpenGL moderno (a partir de OpenGL 3.0) ha evolucionado hacia un modelo basado en shaders. Los shaders son pequeños programas que se ejecutan en la GPU y permiten controlar de manera detallada el comportamiento del pipeline gráfico.
</p>
</div>

<div id="outline-container-org04a8d0f" class="outline-4">
<h4 id="org04a8d0f">Vertex Shader</h4>
<div class="outline-text-4" id="text-org04a8d0f">
<p>
Procesa cada vértice y aplica transformaciones para determinar su posición en la pantalla.
</p>
</div>
</div>

<div id="outline-container-org1d80423" class="outline-4">
<h4 id="org1d80423">Fragment Shader</h4>
<div class="outline-text-4" id="text-org1d80423">
<p>
Calcula el color final de cada píxel en la superficie de los objetos.
</p>
</div>
</div>

<div id="outline-container-orga8d0c89" class="outline-4">
<h4 id="orga8d0c89">Geometry Shader</h4>
<div class="outline-text-4" id="text-orga8d0c89">
<p>
Opcional, permite manipular primitivas completas (como puntos, líneas o triángulos).
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #f2f2f2;"> </span> <span style="color: #b22222;"># </span><span style="color: #b22222;">Ejemplo de vertex shader simple en GLSL (OpenGL Shading Language)</span>
<span style="background-color: #f2f2f2;"> </span> <span style="color: #8b2252;">"""</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;"> #version 330 core</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;"> layout(location = 0) in vec3 position;</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;"> uniform mat4 model;</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;"> uniform mat4 view;</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;"> uniform mat4 projection;</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;"> void main() {</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   </span><span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;"> gl_Position = projection * view * model * vec4(position, 1.0);</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;"> }</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;"> """</span>
</pre>
</div>
</div>
</div>
</div>




<div id="outline-container-org0b5d49b" class="outline-3">
<h3 id="org0b5d49b">Conclusión</h3>
<div class="outline-text-3" id="text-org0b5d49b">
<p>
OpenGL es una herramienta poderosa y flexible para el renderizado de
gráficos en 2D y 3D. Aunque es de bajo nivel y puede requerir trabajo
adicional para construir escenas complejas, su compatibilidad
multiplataforma y la aceleración por hardware lo convierten en una
opción popular en una variedad de aplicaciones.
</p>

<p>
Con el tiempo, OpenGL ha evolucionado hacia un modelo basado en
shaders, lo que permite un control mucho mayor sobre el pipeline
gráfico, haciendo posible gráficos de alta calidad y efectos avanzados
en tiempo real.
</p>
</div>
</div>
</div>





<div id="outline-container-org908fb82" class="outline-2">
<h2 id="org908fb82">Proyecto Final</h2>
<div class="outline-text-2" id="text-org908fb82">
<p>
El flujo óptico es el patrón del movimiento aparente de los objetos,
superficies y bordes en una escena causado por el movimiento relativo
entre un observador (un ojo o una cámara) y la escena.2​3​ El concepto
de flujo óptico se estudió por primera vez en la década de 1940 y,
finalmente, fue publicado por el psicólogo estadounidense James
J. Gibson4​ como parte de su teoría de la affordance (una acción que un
individuo puede potencialmente realizar en su ambiente). Las
aplicaciones del flujo óptico tales como la detección de movimiento,
la segmentación de objetos, el tiempo hasta la colisión y el enfoque
de cálculo de expansiones, la codificación del movimiento compensado y
la medición de la disparidad estereoscópica utilizan este movimiento
de las superficies y bordes de los objetos.
</p>

<p>
Actividades
</p>

<ol class="org-ol">
<li>Desarrollar un programa que utilice el flujo óptico, para aplicar a
una imagen o una primitiva de dibujo, las transformaciones
geométricas vistas en clase, (Traslación, Escalamiento, Rotación)</li>
</ol>


<ol class="org-ol">
<li>Desarrollar un programa que utilice opengl, para modelar un entorno
completo tipo mundo minecraft de alguna ciudad, paisaje, bosque,
etc. Donde se deben de incluir por lo menos 15 modelos diferentes,
diseñados con primitivas de opengl de igual manera se debe de mover
todo el entorno modelado mediante el flujo óptico aplicando las
transformaciones geométricas vistas en clase, (Traslación,
Escalamiento, Rotación), para esta actividad pueden hacer equipos
máximo de 5 personas.</li>
</ol>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Autor: Eduardo Alcaraz</p>
<p class="date">Created: 2025-10-23 jue 13:18</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
