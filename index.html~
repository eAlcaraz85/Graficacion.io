<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">
<head>
<!-- 2025-12-01 lun 13:25 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Apuntes Graficaci√≥n</title>
<meta name="author" content="Eduardo Alcaraz" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="src/readtheorg_theme/css/readtheorg.css"/>
<script type="text/javascript" src="src/lib/js/jquery.min.js"></script>
<script type="text/javascript" src="src/lib/js/bootstrap.min.js"></script>
<script type="text/javascript" src="src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="src/readtheorg_theme/js/readtheorg.js"></script>
<style> #content{max-width:1800px;}</style>
<style>pre.src {background-color: #303030; color: #e5e5e5;}</style>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Apuntes Graficaci√≥n</h1>
<div id="table-of-contents" role="doc-toc">
<h2>&Iacute;ndice</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orge00a907">Manual de Instalaci√≥n de Git</a>
<ul>
<li><a href="#orga4756c8">Instalaci√≥n en Windows</a></li>
<li><a href="#org05e6fbe">Instalaci√≥n en macOS</a>
<ul>
<li><a href="#orgedd54d4">M√©todo recomendado: usando Homebrew</a></li>
<li><a href="#org001ac40">M√©todo alternativo: paquete descargado</a></li>
</ul>
</li>
<li><a href="#org3f36845">Instalaci√≥n en Linux (Distribuciones basadas en Debian/Ubuntu)</a></li>
<li><a href="#org72b0791">Configuraci√≥n b√°sica de Git</a></li>
<li><a href="#org2cd7ee0">Actualizaci√≥n de Git</a></li>
<li><a href="#orgbd24b4b">Configurar Llave SSH con GitHub</a>
<ul>
<li><a href="#org73a9767">1. Verificar si ya tienes una llave SSH</a></li>
<li><a href="#orgfee289c">2. Generar una nueva llave SSH</a></li>
<li><a href="#org124d873">3. A√±adir la llave SSH al agente SSH</a></li>
<li><a href="#org9eaafae">4. Copiar la llave SSH p√∫blica</a></li>
<li><a href="#org24a0bb0">5. A√±adir la llave SSH a GitHub</a></li>
<li><a href="#orgb5e7517">6. Probar la conexi√≥n SSH con GitHub</a></li>
<li><a href="#org9071be8">7. Usar la conexi√≥n SSH en repositorios de GitHub</a></li>
</ul>
</li>
<li><a href="#orgab4d3d8">Configurar Llave SSH con GitHub en Windows</a>
<ul>
<li><a href="#orgc73cab3">1. Abrir Git Bash</a></li>
<li><a href="#org87b05bc">2. Verificar si ya tienes una llave SSH</a></li>
<li><a href="#orgda11dba">3. Generar una nueva llave SSH</a></li>
<li><a href="#orge412482">4. A√±adir la llave SSH al agente SSH</a></li>
<li><a href="#org48c5caa">5. Copiar la llave SSH p√∫blica</a></li>
<li><a href="#org2215ebd">6. A√±adir la llave SSH a GitHub</a></li>
<li><a href="#org1e07933">7. Probar la conexi√≥n SSH con GitHub</a></li>
<li><a href="#org333c012">8. Usar la conexi√≥n SSH en repositorios de GitHub</a></li>
</ul>
</li>
<li><a href="#org902cd89">Manual de Git en Windows</a>
<ul>
<li><a href="#org39c1df8">1. Instalar Git en Windows</a></li>
<li><a href="#orgcd9ffcd">2. Configurar Git</a></li>
<li><a href="#org7de9f42">3. Clonar un repositorio</a></li>
<li><a href="#orgce5b3af">4. Comandos b√°sicos de Git</a></li>
<li><a href="#org4ff1c49">5. Actualizar el repositorio local</a></li>
<li><a href="#org17c6587">6. Crear y cambiar de ramas (branches)</a></li>
<li><a href="#orgdbd1cbf">7. Ver historial de commits</a></li>
<li><a href="#org82d29c9">8. Configurar una llave SSH</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org7f6eb76">Manual de Instalaci√≥n de Python en Windows</a>
<ul>
<li><a href="#orgb45e631">Paso 1: Descarga de Python</a></li>
<li><a href="#org431a048">Paso 2: Ejecutar el instalador</a></li>
<li><a href="#org150f8d4">Paso 3: Verificaci√≥n de la instalaci√≥n</a></li>
<li><a href="#org89875d7">Paso 4: Instalar pip y otros paquetes</a></li>
<li><a href="#orgf3fd065">Paso 5: Configuraci√≥n del entorno de desarrollo</a></li>
<li><a href="#orgbeec668">Paso 6: Actualizaci√≥n de Python (opcional)</a></li>
</ul>
</li>
<li><a href="#org11a89ed">Entornos Virtuales en Python</a>
<ul>
<li><a href="#orga91bce4">¬øQu√© es un Entorno Virtual?</a></li>
<li><a href="#orgb2442fe">Preparaci√≥n: Instalaci√≥n de Python y Visual Studio Code</a></li>
<li><a href="#orgd1af1ed">Crear un Entorno Virtual</a></li>
<li><a href="#org7664f49">Activar el Entorno Virtual</a></li>
<li><a href="#org3dcd48a">Configurar el Entorno Virtual en Visual Studio Code</a></li>
<li><a href="#org6cae7aa">Instalar Paquetes en el Entorno Virtual</a></li>
<li><a href="#orgcab44c8">Administrar Paquetes</a></li>
<li><a href="#org6f4d70a">Desactivar el Entorno Virtual</a></li>
<li><a href="#orga73eaec">Eliminar el Entorno Virtual</a></li>
<li><a href="#org35a37a1">Consejos Adicionales para VS Code</a></li>
</ul>
</li>
<li><a href="#org4774592">Entornos virtuales en Python (Windows + VS Code)</a>
<ul>
<li><a href="#org7ada116">1. ¬øQu√© es un entorno virtual?</a></li>
<li><a href="#orgeb6e0d1">2. Requisitos previos</a></li>
<li><a href="#orgd234f45">3. Crear un entorno virtual</a></li>
<li><a href="#orgb10814d">4. Activar el entorno virtual</a></li>
<li><a href="#orgf0c10e7">5. Problema com√∫n: PowerShell bloquea Activate.ps1</a></li>
<li><a href="#org2ec244d">6. Desactivar el entorno virtual</a></li>
<li><a href="#org4af8a6c">7. Instalar paquetes dentro del entorno</a></li>
<li><a href="#orga604a5c">8. Integrar el entorno en VS Code</a></li>
<li><a href="#orge68e509">9. Configuraci√≥n manual en settings.json</a></li>
<li><a href="#orgad2666d">10. Diferencias entre los scripts de activaci√≥n</a></li>
<li><a href="#org6f252bb">11. Buenas pr√°cticas</a></li>
<li><a href="#org7ba6718">12. Ejemplo de flujo completo</a></li>
</ul>
</li>
<li><a href="#org72f1bf0">Introducci√≥n a la Graficaci√≥n por computadora</a>
<ul>
<li><a href="#orgf0e2e60">Graficaci√≥n por Computadora</a>
<ul>
<li><a href="#org2f88cbd">Objetivos de la Graficaci√≥n por Computadora</a></li>
<li><a href="#org326e65b">√Åreas de estudio en Graficaci√≥n por Computadora</a></li>
<li><a href="#orgcebae8c">Aplicaciones de la Graficaci√≥n por Computadora</a></li>
<li><a href="#org8230c8c">Temas principales en Graficaci√≥n por Computadora</a></li>
</ul>
</li>
<li><a href="#org7bbe159">¬øQu√© es una imagen? (definici√≥n formal)</a>
<ul>
<li><a href="#org2f4e06e">Imagen continua, muestreo y cuantizaci√≥n</a></li>
<li><a href="#orgbd63a63">Representaci√≥n matricial y tensores</a></li>
<li><a href="#org6ecf70c">Transformaciones de intensidad (p√≠xel a p√≠xel)</a></li>
<li><a href="#org0306be4">Color: modelos y conversiones</a></li>
<li><a href="#orga2e1ccd">Filtrado espacial (convoluci√≥n) y operadores diferenciales</a></li>
<li><a href="#orgf85930c">Dominio de la frecuencia (DFT 2D)</a></li>
<li><a href="#org87769a7">Transformada discreta de Fourier 2D</a></li>
<li><a href="#orgb6dc880">Formaci√≥n de imagen (modelo pinhole simplificado)</a></li>
<li><a href="#org903f6dd">Iluminaci√≥n lambertiana (intensidad difusa)</a></li>
<li><a href="#org39b5dbe">Estad√≠stica b√°sica de intensidades (√∫til para normalizaci√≥n)</a></li>
</ul>
</li>
<li><a href="#orgd285399">Modelos de Color: RGB, CMY, HSV y HSL</a></li>
<li><a href="#orgdd3aca4">Introducci√≥n</a></li>
<li><a href="#orgc4198ce">Modelo de Color RGB (Red, Green, Blue)</a></li>
<li><a href="#org9e4e1d5">Definici√≥n</a></li>
<li><a href="#org8927208">Funcionamiento de la Mezcla Aditiva</a></li>
<li><a href="#org927bb30">Espacio de Color RGB</a></li>
<li><a href="#org3c53704">Conversi√≥n a otros modelos de color</a></li>
<li><a href="#org60d2221">Aplicaciones del Modelo RGB</a></li>
<li><a href="#orgd1b4a69">Limitaciones del Modelo RGB</a></li>
<li><a href="#orgb64842e">Modelo CMY (Cyan, Magenta, Yellow)</a></li>
<li><a href="#orgce78cb0">Modelo HSV (Hue, Saturation, Value)</a>
<ul>
<li><a href="#org782f986">HSV opencv</a></li>
<li><a href="#orgc7b70c6">Tutorial: Umbrales en el Modelo de Color HSV</a></li>
<li><a href="#orge4f8638">Definici√≥n de los Par√°metros del Modelo HSV</a></li>
<li><a href="#org3a22d4e">Detectar un color en el espacio HSV</a></li>
<li><a href="#orgb76806d">Explicaci√≥n de los Par√°metros:</a></li>
<li><a href="#org685d8fc">Ajustes de los Umbrales</a></li>
<li><a href="#org395568e">Ejemplo visual: Rango de tonos para detectar verde</a></li>
<li><a href="#org1412b80">Uso de <code>cv2.inRange</code></a></li>
</ul>
</li>
<li><a href="#org9bde746">Modelo HSL (Hue, Saturation, Lightness)</a></li>
<li><a href="#org3daee88">Funci√≥n Bitwise opencv</a>
<ul>
<li><a href="#orga282be2">Tutorial: Operaciones Bitwise en OpenCV</a></li>
</ul>
</li>
<li><a href="#org645e124">Definici√≥n: Operaci√≥n Bit a Bit</a>
<ul>
<li><a href="#org48f7f51">Principales operaciones bit a bit</a></li>
</ul>
</li>
<li><a href="#orgc954ed7">Operadores Puntuales</a>
<ul>
<li><a href="#org9fdcac6">Definici√≥n</a></li>
<li><a href="#org595ec1b">Caracter√≠sticas</a></li>
<li><a href="#org5bea099">Tipos de Operadores Puntuales</a></li>
<li><a href="#orgcfaa096">Aplicaciones de Operadores Puntuales</a></li>
</ul>
</li>
<li><a href="#orgc4863b1">Explicaci√≥n detallada de los Momentos</a>
<ul>
<li><a href="#orgeec78dc">Momentos espaciales</a></li>
<li><a href="#org8f6ae57">Momentos centrales (mu)</a></li>
<li><a href="#org5a436ff">Momentos normalizados (nu)</a></li>
<li><a href="#org7867743">Hu Moments</a></li>
<li><a href="#orgb74cb34">Resumen gr√°fico</a></li>
</ul>
</li>
<li><a href="#orge31d26a">C√°lculo de los momentos espaciales (m00)</a>
<ul>
<li><a href="#orgb2a8c50">Ejemplo espec√≠fico de m00</a></li>
<li><a href="#org7eb5ce9">Ejemplo en c√≥digo</a></li>
</ul>
</li>
<li><a href="#orgd21b9df">C√°lculo exacto del centroide con momentos</a>
<ul>
<li><a href="#org3b91040">F√≥rmulas del centroide</a></li>
<li><a href="#org54b5602">Ejemplo manual</a></li>
<li><a href="#orgd61b34d">Ejemplo en OpenCV</a></li>
</ul>
</li>
<li><a href="#orgd1351cf">Comparaci√≥n entre Centroide (momentos) y Bounding Box (extremos)</a>
<ul>
<li><a href="#org0a51304">C√≥digo de ejemplo en Python</a></li>
<li><a href="#org511c28b">Interpretaci√≥n</a></li>
<li><a href="#org5c92bf5">Conclusi√≥n</a></li>
</ul>
</li>
<li><a href="#orgaf854f9">Proceso de Multiplicaci√≥n de una Matriz de Transformaci√≥n por una Coordenada de P√≠xel</a>
<ul>
<li><a href="#org8c23f41">1. Representaci√≥n de las coordenadas en forma homog√©nea</a></li>
<li><a href="#org01de00b">2. Definici√≥n de la matriz de transformaci√≥n</a></li>
<li><a href="#orgc63c0a8">3. Multiplicaci√≥n de la matriz por las coordenadas</a></li>
<li><a href="#org618e8c2">4. Resultado final</a></li>
<li><a href="#orge48c8c3">Ejemplo concreto: Rotaci√≥n</a></li>
<li><a href="#orgde00655">Resumen del proceso</a></li>
</ul>
</li>
<li><a href="#orgad63c6c">Transformaciones Geom√©tricas en Im√°genes</a>
<ul>
<li><a href="#org96ab84f">1. Traslaci√≥n (Translation)</a></li>
<li><a href="#org3bcd0d9">2. Rotaci√≥n (Rotation)</a></li>
<li><a href="#orgac93bf9">3. Escalado (Scalin</a></li>
<li><a href="#org4880d43">4. Cizallamiento (Shearing)</a></li>
<li><a href="#org4b3c9bd">5. Reflexi√≥n (Reflection)</a></li>
<li><a href="#org72224cc">6. Transformaci√≥n Af√≠n (Affine Transformation)</a></li>
<li><a href="#orgea86949">7. Transformaci√≥n Proyectiva (Homograf√≠a)</a></li>
<li><a href="#org5a4892c">Aplicaciones</a></li>
</ul>
</li>
<li><a href="#orge70f5bf">Landmarks</a>
<ul>
<li><a href="#org63a8584">Fundamentos de los Landmarks</a></li>
<li><a href="#orga9b8559">Aplicaciones de los Landmarks</a></li>
<li><a href="#org62bf141">M√©todos de Detecci√≥n de Landmarks</a></li>
</ul>
</li>
<li><a href="#org73835a4">Detecci√≥n de Manos con MediaPipe en Python</a>
<ul>
<li><a href="#orga3094aa">Introducci√≥n</a></li>
<li><a href="#org482f469">Instalaci√≥n de Dependencias</a></li>
<li><a href="#org8812382">C√≥digo para Detecci√≥n de Manos en Tiempo Real</a></li>
<li><a href="#orgec2df3e">Explicaci√≥n del C√≥digo</a></li>
<li><a href="#org698d568">Mejoras Posibles</a></li>
<li><a href="#orgb6d92b8">Indice de dedos en mediapipe</a></li>
<li><a href="#org42f9389">Medipipe Reconocimiento de letras</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org6de0a08">Actividades</a></li>
<li><a href="#org9b6fa90">Programaci√≥n</a>
<ul>
<li><a href="#org4ed2bd1">Programas Unidad 1</a>
<ul>
<li><a href="#org4d60d43">Creaci√≥n de una Imagen</a></li>
<li><a href="#org6896ca0">Cargar Imagen</a></li>
<li><a href="#org9812e1b">Split y Merge Imagen</a></li>
<li><a href="#org5e5d730">Ejemplo de Operador Puntual en Im√°genes</a></li>
<li><a href="#org00b9373">Cargar v√≠deo Opencv</a></li>
<li><a href="#org99f3184">Conteo</a></li>
</ul>
</li>
<li><a href="#orgd640b7f">Ejemplos de Transformaciones Geom√©tricas en Modo Raw en Python</a>
<ul>
<li><a href="#org2b0c044">1. Traslaci√≥n</a></li>
<li><a href="#orgc0d7088">2. Rotaci√≥n (alrededor del centro de la imagen)</a></li>
<li><a href="#orgde0a9c8">3. Escalado</a></li>
<li><a href="#orgdf17480">4. Cizallamiento (Shearing)</a></li>
<li><a href="#org78dd479">5. Reflexi√≥n (Reflection)</a></li>
</ul>
</li>
<li><a href="#org48a89c8">Ejemplos de Transformaciones Geom√©tricas en Python usando OpenCV</a>
<ul>
<li><a href="#org4a9fa07">1. Traslaci√≥n</a></li>
<li><a href="#org8ba0820">2. Rotaci√≥n (alrededor del centro de la imagen)</a></li>
<li><a href="#orgee00238">3. Escalado</a></li>
<li><a href="#org726b4c4">4. Cizallamiento (Shearing)</a></li>
<li><a href="#orgc78d6ad">5. Reflexi√≥n (Reflection)</a></li>
</ul>
</li>
<li><a href="#orgc869a3a">Primitivas de Dibujo</a></li>
<li><a href="#org1a36796">Parametricas</a></li>
<li><a href="#orgb5d74bb">Segmentaci√≥n de color mediante el modelo de color HSV</a>
<ul>
<li><a href="#orgbc746ba">Dibujo utilizando seguimiento por color</a></li>
</ul>
</li>
<li><a href="#orga95bcbe">Capa de Harry Potter</a></li>
<li><a href="#org3dc7a68">Efecto Gris np.where</a>
<ul>
<li><a href="#org059a819">Sintaxis b√°sica de np.where:</a></li>
<li><a href="#org075fa85">Aplicaci√≥n en procesamiento de im√°genes:</a></li>
</ul>
</li>
<li><a href="#orgbe65cd2">Flujo optico</a></li>
<li><a href="#orgde8e362">Ejemplo de clasificaci√≥n utilizando Haarcascades</a></li>
<li><a href="#orgd03f70d">OpenGL</a></li>
<li><a href="#org0177f6f">Descripci√≥n de la Proyecci√≥n Isom√©trica</a>
<ul>
<li><a href="#org336acd0">Ejemplo de Proyecci√≥n Isom√©trica en OpenCV</a></li>
</ul>
</li>
<li><a href="#orgb8c3b66">Opengl Ejemplo</a></li>
</ul>
</li>
<li><a href="#org2b56657">Introducci√≥n a OpenGL</a>
<ul>
<li><a href="#orgfcb8afa">Caracter√≠sticas de OpenGL</a></li>
<li><a href="#org84dbf4f">Primeros pasos en OpenGL</a>
<ul>
<li><a href="#org04228e7">Configuraci√≥n del Entorno</a></li>
<li><a href="#org1c00e7c">Estructura b√°sica de un programa OpenGL</a></li>
</ul>
</li>
<li><a href="#org10f4273">Sistema de Coordenadas en OpenGL</a>
<ul>
<li><a href="#orge2f107c">Coordenadas del Objeto</a></li>
<li><a href="#orga521ee1">Coordenadas del Mundo</a></li>
<li><a href="#org42b3fb9">Coordenadas de Vista</a></li>
<li><a href="#org02b1ee8">Coordenadas de Recorte</a></li>
<li><a href="#org761a785">Coordenadas Normalizadas del Dispositivo (NDC)</a></li>
<li><a href="#org1fcb733">Coordenadas de Pantalla</a></li>
</ul>
</li>
<li><a href="#orgb1e46d0">Primitivas de Dibujo en OpenGL</a>
<ul>
<li><a href="#org75460d4">C√≥digo en Python con OpenGL y GLUT</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org7fa1f86">Primitivas 2D de OpenGL</a>
<ul>
<li><a href="#orge108682">draw<sub>points</sub>()</a></li>
<li><a href="#org506ccf9">draw<sub>lines</sub>()</a></li>
<li><a href="#org5309fe5">draw<sub>line</sub><sub>strip</sub>()</a></li>
<li><a href="#org949bce5">draw<sub>line</sub><sub>loop</sub>()</a></li>
<li><a href="#org4e54446">draw<sub>triangles</sub>()</a></li>
<li><a href="#org87d6114">draw<sub>triangle</sub><sub>strip</sub>()</a></li>
<li><a href="#orgabe6e82">draw<sub>triangle</sub><sub>fan</sub>()</a></li>
<li><a href="#orgc8698c9">draw<sub>quads</sub>()</a></li>
<li><a href="#org55fadc3">draw<sub>quad</sub><sub>strip</sub>()</a></li>
<li><a href="#orgb5bfcd0">draw<sub>polygon</sub>()</a></li>
<li><a href="#org907ebdf">draw<sub>all</sub><sub>primitives</sub><sub>grid</sub>()</a></li>
</ul>
</li>
<li><a href="#org3dc0bc7">Figuras 3D de OpenGL</a>
<ul>
<li><a href="#org3bbbddd">Funciones de Figuras GLU (OpenGL Utility Library)</a>
<ul>
<li><a href="#orgd319440">draw<sub>sphere</sub>()</a></li>
<li><a href="#org1cab22f">draw<sub>cone</sub>()</a></li>
<li><a href="#org2a3b685">draw<sub>cylinder</sub>()</a></li>
<li><a href="#org3310520">draw<sub>disk</sub>()</a></li>
<li><a href="#orga870728">draw<sub>partial</sub><sub>disk</sub>()</a></li>
<li><a href="#org3c927da">gluNewQuadric() y gluDeleteQuadric()</a></li>
</ul>
</li>
<li><a href="#orgefbc742">Funciones de Figuras GLUT (OpenGL Utility Toolkit)</a>
<ul>
<li><a href="#org8f9f72c">draw<sub>cube</sub>()</a></li>
<li><a href="#orgf80c821">draw<sub>torus</sub>()</a></li>
<li><a href="#org7af6a70">draw<sub>teapot</sub>()</a></li>
<li><a href="#org7eeeddd">draw<sub>dodecahedron</sub>()</a></li>
<li><a href="#orgeaab710">draw<sub>octahedron</sub>()</a></li>
<li><a href="#org532b190">draw<sub>tetrahedron</sub>()</a></li>
<li><a href="#orgaf1c00b">draw<sub>icosahedron</sub>()</a></li>
</ul>
</li>
<li><a href="#org800d4d4">Funciones Auxiliares</a>
<ul>
<li><a href="#orgca60330">setup<sub>lighting</sub>()</a></li>
<li><a href="#orgb0ab1f3">draw<sub>all</sub><sub>3d</sub><sub>shapes</sub>()</a></li>
</ul>
</li>
<li><a href="#org269536c">Funciones Comunes de OpenGL</a>
<ul>
<li><a href="#org93b6a69">Transformaciones</a></li>
<li><a href="#org9137dd8">Viewport y Proyecci√≥n</a></li>
<li><a href="#org86b2aaf">Renderizado</a></li>
<li><a href="#org70f665a">Configuraci√≥n</a></li>
</ul>
</li>
<li><a href="#org31f60db">Funciones de GLFW</a>
<ul>
<li><a href="#orgce4d32c">glfw.init()</a></li>
<li><a href="#orge207401">glfw.create<sub>window</sub>(width, height, title, monitor, share)</a></li>
<li><a href="#org9a882d1">glfw.make<sub>context</sub><sub>current</sub>(window)</a></li>
<li><a href="#orge9146a8">glfw.window<sub>should</sub><sub>close</sub>(window)</a></li>
<li><a href="#orgbf517ea">glfw.swap<sub>buffers</sub>(window)</a></li>
<li><a href="#orgdba7522">glfw.poll<sub>events</sub>()</a></li>
<li><a href="#orgcbf64e0">glfw.terminate()</a></li>
<li><a href="#orgec58911">glfw.get<sub>window</sub><sub>size</sub>(window)</a></li>
</ul>
</li>
<li><a href="#orgec5ae2d">Funciones de GLU</a>
<ul>
<li><a href="#orge7cbc82">gluPerspective(fovy, aspect, zNear, zFar)</a></li>
<li><a href="#org87ae668">gluLookAt(eyeX, eyeY, eyeZ, centerX, centerY, centerZ, upX, upY, upZ)</a></li>
<li><a href="#orga694f89">glOrtho(left, right, bottom, top, nearVal, farVal)</a></li>
</ul>
</li>
<li><a href="#org086b0d7">S√≥lidos Plat√≥nicos en OpenGL</a></li>
<li><a href="#org430e2a3">Pipeline de Renderizado OpenGL</a></li>
<li><a href="#orgd9479d0">Tutorial de gluPerspective en OpenGL</a>
<ul>
<li><a href="#org506e31e">¬øQu√© es gluPerspective?</a></li>
<li><a href="#org332b5a8">Sintaxis</a></li>
<li><a href="#org6422170">Ejemplo B√°sico de Uso de gluPerspective</a></li>
</ul>
</li>
<li><a href="#orgf554724">Objetos de Glut</a></li>
<li><a href="#orga0ac924">Transformaciones en OpenGL</a>
<ul>
<li><a href="#org8f0a5d9">Traslaci√≥n</a></li>
<li><a href="#orgeb0d408">Rotaci√≥n</a></li>
<li><a href="#org1ee11f0">Escalado</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org0a5eebd">Introducci√≥n a la Iluminaci√≥n en OpenGL</a></li>
<li><a href="#org11c00e8">Conceptos Fundamentales</a>
<ul>
<li><a href="#orgc197517">Componentes de la Luz</a>
<ul>
<li><a href="#orge909a8f">Luz Ambiente (Ambient)</a></li>
<li><a href="#org18d8012">Luz Difusa (Diffuse)</a></li>
<li><a href="#orgbd26cbd">Luz Especular (Specular)</a></li>
</ul>
</li>
<li><a href="#org6cf734c">F√≥rmula de Iluminaci√≥n</a></li>
</ul>
</li>
<li><a href="#org975b3f2">Tipos de Luces</a>
<ul>
<li><a href="#org23cfd7c">Luz Posicional (Point Light)</a>
<ul>
<li><a href="#org361fd54">Descripci√≥n</a></li>
<li><a href="#org1db967e">Caracter√≠sticas</a></li>
<li><a href="#org8083a1d">C√≥digo</a></li>
<li><a href="#orgb56c9d1">Visualizaci√≥n</a></li>
<li><a href="#orgaf16e3b">Casos de uso</a></li>
</ul>
</li>
<li><a href="#org20aee4d">Luz Direccional (Directional Light)</a>
<ul>
<li><a href="#org4b53dd2">Descripci√≥n</a></li>
<li><a href="#orgdcad3bf">Caracter√≠sticas</a></li>
<li><a href="#org9858dd3">C√≥digo</a></li>
<li><a href="#org510a198">Visualizaci√≥n</a></li>
<li><a href="#org76707b5">Casos de uso</a></li>
</ul>
</li>
<li><a href="#orgb87e3f4">Spotlight (Luz C√≥nica)</a>
<ul>
<li><a href="#orgb6c17b1">Descripci√≥n</a></li>
<li><a href="#orgafb8592">Caracter√≠sticas</a></li>
<li><a href="#org287069c">Par√°metros</a></li>
<li><a href="#org86855b7">C√≥digo</a></li>
<li><a href="#org63b125b">Visualizaci√≥n</a></li>
<li><a href="#org04984b6">Efecto del Exponent</a></li>
<li><a href="#org48858eb">Casos de uso</a></li>
</ul>
</li>
<li><a href="#orgbdd3c58">Atenuaci√≥n de Luz</a>
<ul>
<li><a href="#org93b36a4">Descripci√≥n</a></li>
<li><a href="#org0cc5fa1">F√≥rmula</a></li>
<li><a href="#org1d4dc3d">C√≥digo</a></li>
<li><a href="#orgca64cc8">Comparaci√≥n</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgfdee5d1">Configuraciones Avanzadas</a>
<ul>
<li><a href="#org2a05b12">Sistema de 3 Puntos (Three-Point Lighting)</a>
<ul>
<li><a href="#org38f8174">Key Light (Luz Principal)</a></li>
<li><a href="#org453846d">Fill Light (Luz de Relleno)</a></li>
<li><a href="#org917bebd">Rim Light (Luz de Contorno)</a></li>
<li><a href="#orgb214e56">Diagrama</a></li>
</ul>
</li>
<li><a href="#orgde7dd8c">Luces de Colores</a>
<ul>
<li><a href="#org00f622c">Teor√≠a del Color</a></li>
<li><a href="#orgce5e938">Ejemplo Art√≠stico</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org747c689">Configuraci√≥n de Materiales</a>
<ul>
<li><a href="#orgbe31955">Propiedades del Material</a>
<ul>
<li><a href="#orgc37d574">Material Ambiente</a></li>
<li><a href="#org9f4da30">Material Difuso</a></li>
<li><a href="#org184dd0b">Material Especular</a></li>
<li><a href="#orgabb20df">Shininess (Brillo)</a></li>
</ul>
</li>
<li><a href="#org82df98b">Ejemplos de Materiales</a>
<ul>
<li><a href="#org493d577">Pl√°stico</a></li>
<li><a href="#org3728a41">Metal</a></li>
<li><a href="#org60dc757">Goma</a></li>
</ul>
</li>
<li><a href="#org1c177e6">GL<sub>COLOR</sub><sub>MATERIAL</sub></a></li>
</ul>
</li>
<li><a href="#org29b4e77">Funciones Principales de OpenGL</a>
<ul>
<li><a href="#org80ec468">Activaci√≥n del Sistema</a></li>
<li><a href="#org49653eb">Configuraci√≥n de Luces</a>
<ul>
<li><a href="#org410d4b8">Par√°metros Disponibles</a></li>
</ul>
</li>
<li><a href="#org37c8bcf">Configuraci√≥n de Materiales</a>
<ul>
<li><a href="#orgaddf4f6">Caras</a></li>
</ul>
</li>
<li><a href="#orga757ded">Modelo de Sombreado</a></li>
</ul>
</li>
<li><a href="#org5a79326">Diferencia entre Mover Objeto vs Mover C√°mara</a>
<ul>
<li><a href="#org0d3a4a5">Moviendo el OBJETO (tu c√≥digo actual)</a>
<ul>
<li><a href="#org26dbfa4">Diagrama</a></li>
</ul>
</li>
<li><a href="#orgbdae608">Moviendo la C√ÅMARA (objeto fijo)</a>
<ul>
<li><a href="#org8d06493">Diagrama</a></li>
</ul>
</li>
<li><a href="#orgb878352">C√≥digo Completo de Ejemplo</a></li>
<li><a href="#orga5392d0">Resumen</a></li>
</ul>
</li>
<li><a href="#orgf350ead">Consejos y Buenas Pr√°cticas</a>
<ul>
<li><a href="#org711cee6">Orden de Operaciones</a></li>
<li><a href="#org846d823">Optimizaci√≥n</a></li>
<li><a href="#org1e03431">Depuraci√≥n</a>
<ul>
<li><a href="#org1c3628d">Ver posiciones de luces</a></li>
<li><a href="#orgd9f8801">Verificar normales</a></li>
</ul>
</li>
<li><a href="#orgd736d70">Problemas Comunes</a>
<ul>
<li><a href="#org9a9067b">Objeto completamente negro</a></li>
<li><a href="#orgc7592d1">Objeto muy oscuro</a></li>
<li><a href="#org298cf96">Sin brillos especulares</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org78c3cfb">Ejemplos Completos</a>
<ul>
<li><a href="#org64508ff">Escena Simple con Una Luz</a></li>
<li><a href="#orgc092059">Escena con Iluminaci√≥n Profesional</a></li>
</ul>
</li>
<li><a href="#org2d38ed1">Referencias</a>
<ul>
<li><a href="#org126efc5">Documentaci√≥n Oficial</a></li>
<li><a href="#org05a88d7">Libros</a></li>
<li><a href="#orgcaa2fd7">Tutoriales Online</a></li>
</ul>
</li>
<li><a href="#org10443a7">Ap√©ndice: Tabla de Referencia R√°pida</a>
<ul>
<li><a href="#orgbf6d46f">Funciones Esenciales</a></li>
<li><a href="#orgb5b8893">Valores T√≠picos</a>
<ul>
<li><a href="#org1a9c453">Luz B√°sica</a></li>
<li><a href="#org1dd3b65">Material B√°sico</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org6270585">Figuras</a>
<ul>
<li><a href="#org0cbea40">Sombras y Efectos Avanzados</a></li>
<li><a href="#org63fa463">OpenGL Moderno: Shaders y el Pipeline Gr√°fico</a>
<ul>
<li><a href="#org0251b07">Vertex Shader</a></li>
<li><a href="#org753eecf">Fragment Shader</a></li>
<li><a href="#org6b9ad1f">Geometry Shader</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org15ade2d">gluLookAt</a>
<ul>
<li><a href="#org86eafeb">Concepto visual de la c√°mara virtual</a></li>
<li><a href="#org522a038">Par√°metros de gluLookAt explicados visualmente</a></li>
<li><a href="#org22ebf63">Funcionamiento matem√°tico interno</a></li>
<li><a href="#org773c248">Ejemplo b√°sico completo</a></li>
<li><a href="#org1a1b767">C√°mara orbital (muy usado en animaci√≥n)</a></li>
<li><a href="#org51b63f5">C√°mara en primera persona (FPS)</a></li>
<li><a href="#orgff33be3">C√°mara en tercera persona (estilo "behind the character")</a></li>
<li><a href="#orgafb6f4a">Casos especiales y errores comunes</a></li>
<li><a href="#org90cd7fa">Relaci√≥n entre gluLookAt y matrices modernas</a></li>
<li><a href="#org7c3ca2f">Ejercicio 1: Crear una c√°mara que siga un objeto</a></li>
<li><a href="#orgc09c2c2">Ejercicio 2: Implementar una c√°mara que siempre mire un punto m√≥vil</a></li>
<li><a href="#org3dcd3e1">Ejercicio 3: Crear tres vistas diferentes</a></li>
</ul>
</li>
<li><a href="#org972e635">Exploraci√≥n de C√°mara con gluLookAt (PyOpenGL/GLFW)</a>
<ul>
<li><a href="#orgdf17ac7">Objetivo</a>
<ul>
<li><a href="#org1be9ff4">C√≥digo Base Relevante</a></li>
</ul>
</li>
<li><a href="#org2a2d34d">2.  Actividad 1: Cambio de Posici√≥n (<b>Eye</b>)</a></li>
<li><a href="#org77b6083">Actividad 2: Cambio de Punto de Inter√©s (<b>Center</b>)</a></li>
<li><a href="#org654e253">4. Actividad 3: Cambio de Orientaci√≥n (<b>Up</b>)</a></li>
<li><a href="#orgb2785ee">5. üöÄ Desaf√≠o de Combinaci√≥n: Vista del Autom√≥vil</a>
<ul>
<li><a href="#orgeaf6027"><b><b>Eye:</b></b> (0, 1, 18) - Muy bajo (1), centrado en X (0), y muy atr√°s (18).</a></li>
<li><a href="#org40386a1"><b><b>Center:</b></b> (0, 1, 0) - Mira hacia el centro de la escena, manteniendo la misma altura (1).</a></li>
<li><a href="#orgc096561"><b><b>Up:</b></b> (0.5, 1, 0) - Una ligera inclinaci√≥n.</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org5a978e9">Proyecto Enero Junio Final 2025</a></li>
<li><a href="#orgb626e0a">Proyectos Finales Agosto Diciembre 2025</a>
<ul>
<li><a href="#orgcf7371a">Pizarra Virtual: Seguimiento por Color y Primitivas</a></li>
</ul>
</li>
<li><a href="#org7e8b1aa">Respuestas Examen.</a>
<ul>
<li><a href="#orgc035d38">1) ¬øQu√© funci√≥n del c√≥digo se encarga de construir geometr√≠a 3D mediante tiras de cuadril√°teros?</a></li>
<li><a href="#orgc65321d">2) ¬øQu√© instrucci√≥n activa la evaluaci√≥n de profundidad en OpenGL?</a></li>
<li><a href="#org637b202">3) ¬øQu√© funci√≥n define la posici√≥n y orientaci√≥n de la c√°mara?</a></li>
<li><a href="#org80fed5e">4) ¬øQu√© variable controla la velocidad del movimiento de la c√°mara?</a></li>
<li><a href="#org2a17421">5) ¬øQu√© callback actualiza el estado de las teclas presionadas?</a></li>
<li><a href="#orgebbd8b0">6) ¬øQu√© hace glPushMatrix y glPopMatrix en el c√≥digo?</a></li>
<li><a href="#org698b5dd">7) ¬øQu√© eje se modifica cuando usas W y S?</a></li>
<li><a href="#orgf702566">8) ¬øQu√© color corresponde al iris (parte negra) en draw<sub>eye</sub>?</a></li>
<li><a href="#org7c7dc84">9) ¬øQu√© par√°metro de gluPerspective controla cu√°nto "zoom" tiene la c√°mara?</a></li>
<li><a href="#orge7a73cd">10) ¬øCu√°l es el prop√≥sito de glfw.swap<sub>buffers</sub>(window)?</a></li>
<li><a href="#orgb78e790">11) Explica en tus palabras c√≥mo funciona process<sub>input</sub> para mover la c√°mara.</a></li>
<li><a href="#org7e11fed">12) ¬øPor qu√© es necesario llamar glLoadIdentity antes de gluLookAt?</a></li>
<li><a href="#org7ebce39">13) En draw<sub>sphere</sub>, ¬øpara qu√© sirve glNormal3f?</a></li>
<li><a href="#org1f18179">14) Explica brevemente qu√© hace el ciclo principal (game loop) en main.</a></li>
<li><a href="#org3208065">15) ¬øQu√© diferencia hay entre glTranslatef y gluLookAt para mover la escena?</a></li>
<li><a href="#org5712282">16) ¬øQu√© pasar√≠a si eliminaras glEnable(GL<sub>COLOR</sub><sub>MATERIAL</sub>)?</a></li>
<li><a href="#org01cb006">17) ¬øPor qu√© draw<sub>eye</sub> tiene varias esferas con diferentes glTranslatef?</a></li>
<li><a href="#org13879c2">18) ¬øPor qu√© se usa GL<sub>QUAD</sub><sub>STRIP</sub> en lugar de GL<sub>TRIANGLES</sub> en la esfera?</a></li>
<li><a href="#org1e57cc8">19) ¬øQu√© ocurre si no llamas glfw.poll<sub>events</sub>() dentro del loop?</a></li>
<li><a href="#org1777120">20) ¬øCu√°l es el prop√≥sito de glClear(GL<sub>COLOR</sub><sub>BUFFER</sub><sub>BIT</sub> | GL<sub>DEPTH</sub><sub>BUFFER</sub><sub>BIT</sub>)?</a></li>
</ul>
</li>
<li><a href="#org9ed0b58">Introducci√≥n a las Texturas en OpenGL</a>
<ul>
<li><a href="#orgaea9879">Agregar variaciones visuales: patrones, sombras, ruido.</a>
<ul>
<li><a href="#org5f553c5">2. Voltear la imagen verticalmente</a></li>
<li><a href="#orgc578412">3. Convertir la imagen en bytes</a></li>
<li><a href="#orge6a51b0">4. Ajustar alineaci√≥n de lectura: <code>glPixelStorei(GL_UNPACK_ALIGNMENT, 1)</code></a></li>
<li><a href="#org160bea5">5. Crear la textura en GPU</a></li>
<li><a href="#org82acee2">6. Configurar par√°metros de la textura</a></li>
<li><a href="#orgb9a9b22">7. Enviar la textura a GPU</a></li>
<li><a href="#orgae734ad">8. Generar Mipmaps</a></li>
<li><a href="#org2221629">9. Desbindeo</a></li>
</ul>
</li>
<li><a href="#org662792a">Resumen visual completo</a></li>
</ul>
</li>
</ul>
</div>
</div>



<div id="outline-container-orge00a907" class="outline-2">
<h2 id="orge00a907">Manual de Instalaci√≥n de Git</h2>
<div class="outline-text-2" id="text-orge00a907">
</div>
<div id="outline-container-orga4756c8" class="outline-3">
<h3 id="orga4756c8">Instalaci√≥n en Windows</h3>
<div class="outline-text-3" id="text-orga4756c8">
<ul class="org-ul">
<li>Descarga el instalador desde [<a href="https://git-scm.com/">https://git-scm.com/</a>].</li>
</ul>



<ul class="org-ul">
<li>Haz clic en el bot√≥n ‚ÄúDownload for Windows‚Äù.
<ul class="org-ul">
<li>Ejecuta el archivo descargado (.exe).</li>

<li>Configuraci√≥n de las opciones recomendadas durante la instalaci√≥n:
<ul class="org-ul">
<li>Seleccionar el editor por defecto (por ejemplo, Vim o Notepad++).</li>
<li>Usar Git desde la l√≠nea de comandos y aplicaciones de terceros (opci√≥n recomendada).</li>
<li>Opciones de formato de fin de l√≠nea: selecciona la opci√≥n predeterminada para Windows.</li>
</ul></li>

<li>Completa la instalaci√≥n.</li>
<li>Verifica la instalaci√≥n abriendo Git Bash o Command Prompt y ejecutando:</li>
</ul></li>
</ul>
<div class="org-src-container">
<pre class="src src-bash">git --version
</pre>
</div>
</div>
</div>

<div id="outline-container-org05e6fbe" class="outline-3">
<h3 id="org05e6fbe">Instalaci√≥n en macOS</h3>
<div class="outline-text-3" id="text-org05e6fbe">
</div>
<div id="outline-container-orgedd54d4" class="outline-4">
<h4 id="orgedd54d4">M√©todo recomendado: usando Homebrew</h4>
<div class="outline-text-4" id="text-orgedd54d4">
<ul class="org-ul">
<li>Si tienes Homebrew instalado, abre la terminal y ejecuta:</li>
</ul>
<div class="org-src-container">
<pre class="src src-bash">brew install git
</pre>
</div>
</div>
</div>

<div id="outline-container-org001ac40" class="outline-4">
<h4 id="org001ac40">M√©todo alternativo: paquete descargado</h4>
<div class="outline-text-4" id="text-org001ac40">
<ul class="org-ul">
<li>Descarga el instalador desde [<a href="https://git-scm.com/">https://git-scm.com/</a>].</li>
<li>Ejecuta el paquete descargado (.dmg).</li>
<li>Sigue las instrucciones de instalaci√≥n.</li>

<li><p>
Verifica la instalaci√≥n abriendo la terminal y ejecutando:
</p>
<div class="org-src-container">
<pre class="src src-bash">     git --version
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org3f36845" class="outline-3">
<h3 id="org3f36845">Instalaci√≥n en Linux (Distribuciones basadas en Debian/Ubuntu)</h3>
<div class="outline-text-3" id="text-org3f36845">
<ul class="org-ul">
<li><p>
Abre la terminal y ejecuta:
</p>
<div class="org-src-container">
<pre class="src src-bash">     sudo apt update
     sudo apt install git
</pre>
</div></li>

<li><p>
Verifica la instalaci√≥n ejecutando:
</p>
<div class="org-src-container">
<pre class="src src-bash">     git --version
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org72b0791" class="outline-3">
<h3 id="org72b0791">Configuraci√≥n b√°sica de Git</h3>
<div class="outline-text-3" id="text-org72b0791">
<ul class="org-ul">
<li><p>
Configura tu nombre de usuario:
</p>
<div class="org-src-container">
<pre class="src src-bash">     git config --global user.name <span style="color: #8b2252;">"Tu Nombre"</span>
</pre>
</div></li>

<li><p>
Configura tu correo electr√≥nico:
</p>
<div class="org-src-container">
<pre class="src src-bash">     git config --global user.email <span style="color: #8b2252;">"tuemail@ejemplo.com"</span>
</pre>
</div></li>

<li><p>
Verifica la configuraci√≥n:
</p>
<div class="org-src-container">
<pre class="src src-bash">     git config --list
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org2cd7ee0" class="outline-3">
<h3 id="org2cd7ee0">Actualizaci√≥n de Git</h3>
<div class="outline-text-3" id="text-org2cd7ee0">
<ul class="org-ul">
<li><b>Windows</b>: Ejecuta el instalador m√°s reciente desde el sitio oficial.</li>
<li><p>
<b>macOS</b>: Ejecuta:
</p>
<div class="org-src-container">
<pre class="src src-bash">     brew upgrade git
</pre>
</div></li>
<li><p>
<b>Linux</b>: Ejecuta:
</p>
<div class="org-src-container">
<pre class="src src-bash">     sudo apt update &amp;&amp; sudo apt upgrade git
</pre>
</div></li>
</ul>
</div>
</div>



<div id="outline-container-orgbd24b4b" class="outline-3">
<h3 id="orgbd24b4b">Configurar Llave SSH con GitHub</h3>
<div class="outline-text-3" id="text-orgbd24b4b">
</div>
<div id="outline-container-org73a9767" class="outline-4">
<h4 id="org73a9767">1. Verificar si ya tienes una llave SSH</h4>
<div class="outline-text-4" id="text-org73a9767">
<ul class="org-ul">
<li><p>
Abre la terminal y ejecuta el siguiente comando para verificar si ya tienes llaves SSH generadas:
</p>
<div class="org-src-container">
<pre class="src src-bash">     ls -al ~/.ssh
</pre>
</div></li>

<li>Si ves archivos como `id<sub>rsa</sub>` o `id<sub>ed25519</sub>`, ya tienes llaves SSH. Si no, contin√∫a con el siguiente paso.</li>
</ul>
</div>
</div>

<div id="outline-container-orgfee289c" class="outline-4">
<h4 id="orgfee289c">2. Generar una nueva llave SSH</h4>
<div class="outline-text-4" id="text-orgfee289c">
<ul class="org-ul">
<li><p>
Si no tienes una llave SSH, genera una nueva con el siguiente comando (puedes cambiar `ed25519` por `rsa` si lo prefieres):
</p>
<div class="org-src-container">
<pre class="src src-bash">     ssh-keygen -t ed25519 -C <span style="color: #8b2252;">"tuemail@ejemplo.com"</span>
</pre>
</div></li>

<li>Cuando se te pregunte por la ubicaci√≥n del archivo, presiona `Enter` para usar la ubicaci√≥n predeterminada (`~/.ssh/id<sub>ed25519</sub>`).</li>
<li>Puedes agregar una contrase√±a para proteger tu llave, pero tambi√©n puedes dejarlo en blanco.</li>
</ul>
</div>
</div>

<div id="outline-container-org124d873" class="outline-4">
<h4 id="org124d873">3. A√±adir la llave SSH al agente SSH</h4>
<div class="outline-text-4" id="text-org124d873">
<ul class="org-ul">
<li><p>
Para a√±adir tu nueva llave SSH al agente, aseg√∫rate de que est√© en ejecuci√≥n:
</p>
<div class="org-src-container">
<pre class="src src-bash">     <span style="color: #483d8b;">eval</span> <span style="color: #8b2252;">"$(ssh-agent -s)"</span>
</pre>
</div></li>

<li><p>
A√±ade la llave SSH al agente:
</p>
<div class="org-src-container">
<pre class="src src-bash">     ssh-add ~/.ssh/id_ed25519
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org9eaafae" class="outline-4">
<h4 id="org9eaafae">4. Copiar la llave SSH p√∫blica</h4>
<div class="outline-text-4" id="text-org9eaafae">
<ul class="org-ul">
<li><p>
Copia el contenido de tu llave p√∫blica para a√±adirla a GitHub:
</p>
<div class="org-src-container">
<pre class="src src-bash">     cat ~/.ssh/id_ed25519.pub
</pre>
</div></li>

<li>Copia el texto que aparece en la terminal (comienza con `ssh-ed25519` o `ssh-rsa`).</li>
</ul>
</div>
</div>

<div id="outline-container-org24a0bb0" class="outline-4">
<h4 id="org24a0bb0">5. A√±adir la llave SSH a GitHub</h4>
<div class="outline-text-4" id="text-org24a0bb0">
<ul class="org-ul">
<li>Inicia sesi√≥n en tu cuenta de GitHub.</li>
<li>Ve a la secci√≥n de <b>Settings</b> (Configuraci√≥n).</li>
<li>En el men√∫ lateral izquierdo, selecciona <b><b>SSH and GPG keys</b></b>.</li>
<li>Haz clic en <b>New SSH key</b>.</li>
<li>Introduce un t√≠tulo para identificar la llave (por ejemplo, "Mi computadora personal") y pega la llave p√∫blica copiada en el campo correspondiente.</li>
<li>Haz clic en <b>Add SSH key</b>.</li>
</ul>
</div>
</div>

<div id="outline-container-orgb5e7517" class="outline-4">
<h4 id="orgb5e7517">6. Probar la conexi√≥n SSH con GitHub</h4>
<div class="outline-text-4" id="text-orgb5e7517">
<ul class="org-ul">
<li><p>
Para verificar que todo est√° configurado correctamente, ejecuta el siguiente comando:
</p>
<div class="org-src-container">
<pre class="src src-bash">     ssh -T git@github.com
</pre>
</div></li>

<li>Si es la primera vez que te conectas, ver√°s una advertencia preguntando si deseas continuar. Escribe `yes`.</li>
<li><p>
Si la conexi√≥n es exitosa, ver√°s un mensaje similar a:
</p>
<blockquote>
<p>
Hi username! You've successfully authenticated, but GitHub does not provide shell access.
</p>
</blockquote></li>
</ul>
</div>
</div>

<div id="outline-container-org9071be8" class="outline-4">
<h4 id="org9071be8">7. Usar la conexi√≥n SSH en repositorios de GitHub</h4>
<div class="outline-text-4" id="text-org9071be8">
<ul class="org-ul">
<li><p>
Para clonar un repositorio usando SSH, utiliza la URL SSH del repositorio:
</p>
<div class="org-src-container">
<pre class="src src-bash">     git clone git@github.com:usuario/repo.git
</pre>
</div></li>
</ul>
</div>
</div>
</div>



<div id="outline-container-orgab4d3d8" class="outline-3">
<h3 id="orgab4d3d8">Configurar Llave SSH con GitHub en Windows</h3>
<div class="outline-text-3" id="text-orgab4d3d8">
<ol class="org-ol">
<li>Git Bash: En Windows, utilizas Git Bash como terminal para ejecutar los comandos, en lugar de la terminal est√°ndar de Linux o macOS.</li>

<li>Ruta de las llaves: En Git Bash, las rutas siguen el formato Unix (<i>c/Users/tu<sub>usuario</sub></i>.ssh/ en lugar de C:\Users\tu<sub>usuario\.ssh</sub>).</li>
</ol>
</div>



<div id="outline-container-orgc73cab3" class="outline-4">
<h4 id="orgc73cab3">1. Abrir Git Bash</h4>
<div class="outline-text-4" id="text-orgc73cab3">
<ul class="org-ul">
<li>Abre <b><b>Git Bash</b></b> (es la terminal que se instala junto con Git en Windows).</li>
</ul>
</div>
</div>

<div id="outline-container-org87b05bc" class="outline-4">
<h4 id="org87b05bc">2. Verificar si ya tienes una llave SSH</h4>
<div class="outline-text-4" id="text-org87b05bc">
<ul class="org-ul">
<li><p>
En la terminal de Git Bash, ejecuta el siguiente comando para ver si ya tienes llaves SSH generadas:
</p>
<div class="org-src-container">
<pre class="src src-bash">     ls -al ~/.ssh
</pre>
</div></li>

<li>Si ves archivos como `id<sub>rsa</sub>` o `id<sub>ed25519</sub>`, ya tienes llaves SSH. Si no, contin√∫a con el siguiente paso.</li>
</ul>
</div>
</div>

<div id="outline-container-orgda11dba" class="outline-4">
<h4 id="orgda11dba">3. Generar una nueva llave SSH</h4>
<div class="outline-text-4" id="text-orgda11dba">
<ul class="org-ul">
<li><p>
Si no tienes una llave SSH, genera una nueva con el siguiente comando:
</p>
<div class="org-src-container">
<pre class="src src-bash">     ssh-keygen -t ed25519 -C <span style="color: #8b2252;">"tuemail@ejemplo.com"</span>
</pre>
</div></li>

<li>Cuando se te pregunte por la ubicaci√≥n del archivo, presiona `Enter` para usar la ubicaci√≥n predeterminada (`/c/Users/tu<sub>usuario</sub>/.ssh/id<sub>ed25519</sub>`).</li>
<li>Puedes agregar una contrase√±a para proteger tu llave, pero tambi√©n puedes dejar el campo vac√≠o si no deseas protegerla con una contrase√±a.</li>
</ul>
</div>
</div>

<div id="outline-container-orge412482" class="outline-4">
<h4 id="orge412482">4. A√±adir la llave SSH al agente SSH</h4>
<div class="outline-text-4" id="text-orge412482">
<ul class="org-ul">
<li><p>
Aseg√∫rate de que el agente SSH est√© en ejecuci√≥n. En Git Bash, ejecuta:
</p>
<div class="org-src-container">
<pre class="src src-bash">     <span style="color: #483d8b;">eval</span> <span style="color: #8b2252;">"$(ssh-agent -s)"</span>
</pre>
</div></li>

<li><p>
A√±ade tu nueva llave SSH al agente:
</p>
<div class="org-src-container">
<pre class="src src-bash">     ssh-add ~/.ssh/id_ed25519
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org48c5caa" class="outline-4">
<h4 id="org48c5caa">5. Copiar la llave SSH p√∫blica</h4>
<div class="outline-text-4" id="text-org48c5caa">
<ul class="org-ul">
<li><p>
Para a√±adir la llave SSH a GitHub, necesitas copiar tu llave p√∫blica. Ejecuta el siguiente comando en Git Bash:
</p>
<div class="org-src-container">
<pre class="src src-bash">     cat ~/.ssh/id_ed25519.pub
</pre>
</div></li>

<li>Copia el texto que aparece en la terminal, que comenzar√° con `ssh-ed25519` o `ssh-rsa`.</li>
</ul>
</div>
</div>

<div id="outline-container-org2215ebd" class="outline-4">
<h4 id="org2215ebd">6. A√±adir la llave SSH a GitHub</h4>
<div class="outline-text-4" id="text-org2215ebd">
<ul class="org-ul">
<li>Abre tu navegador web e inicia sesi√≥n en GitHub.</li>
<li>Ve a la secci√≥n de <b>Settings</b> (Configuraci√≥n).</li>
<li>En el men√∫ lateral izquierdo, selecciona <b><b>SSH and GPG keys</b></b>.</li>
<li>Haz clic en <b>New SSH key</b>.</li>
<li>Ponle un t√≠tulo descriptivo (como "Mi computadora con Windows") y pega la llave p√∫blica copiada en el campo correspondiente.</li>
<li>Haz clic en <b>Add SSH key</b>.</li>
</ul>
</div>
</div>

<div id="outline-container-org1e07933" class="outline-4">
<h4 id="org1e07933">7. Probar la conexi√≥n SSH con GitHub</h4>
<div class="outline-text-4" id="text-org1e07933">
<ul class="org-ul">
<li><p>
Para asegurarte de que todo est√° correctamente configurado, prueba la conexi√≥n con GitHub desde Git Bash:
</p>
<div class="org-src-container">
<pre class="src src-bash">     ssh -T git@github.com
</pre>
</div></li>

<li>Si es la primera vez que te conectas, te pedir√° confirmar la conexi√≥n escribiendo `yes`.</li>
<li><p>
Si todo est√° bien, deber√≠as ver un mensaje como:
</p>
<blockquote>
<p>
Hi username! You've successfully authenticated, but GitHub does not provide shell access.
</p>
</blockquote></li>
</ul>
</div>
</div>

<div id="outline-container-org333c012" class="outline-4">
<h4 id="org333c012">8. Usar la conexi√≥n SSH en repositorios de GitHub</h4>
<div class="outline-text-4" id="text-org333c012">
<ul class="org-ul">
<li><p>
Para clonar un repositorio usando la URL SSH, ejecuta:
</p>
<div class="org-src-container">
<pre class="src src-bash">     git clone git@github.com:usuario/repo.git
</pre>
</div></li>
</ul>
</div>
</div>
</div>




<div id="outline-container-org902cd89" class="outline-3">
<h3 id="org902cd89">Manual de Git en Windows</h3>
<div class="outline-text-3" id="text-org902cd89">
</div>
<div id="outline-container-org39c1df8" class="outline-4">
<h4 id="org39c1df8">1. Instalar Git en Windows</h4>
<div class="outline-text-4" id="text-org39c1df8">
<ul class="org-ul">
<li>Visita [<a href="https://git-scm.com/">https://git-scm.com/</a>](<a href="https://git-scm.com/">https://git-scm.com/</a>) y descarga el instalador de Git para Windows.</li>
<li>Ejecuta el archivo descargado (.exe).</li>
<li>Durante la instalaci√≥n, selecciona las opciones predeterminadas recomendadas.</li>
<li>Abre <b>Git Bash</b> al finalizar la instalaci√≥n.</li>
</ul>
</div>
</div>

<div id="outline-container-orgcd9ffcd" class="outline-4">
<h4 id="orgcd9ffcd">2. Configurar Git</h4>
<div class="outline-text-4" id="text-orgcd9ffcd">
<ul class="org-ul">
<li>Abre <b>Git Bash</b> y ejecuta los siguientes comandos para configurar tu identidad:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git config --global user.name <span style="color: #8b2252;">"Tu Nombre"</span>
   git config --global user.email <span style="color: #8b2252;">"tuemail@ejemplo.com"</span>
</pre>
</div>

<ul class="org-ul">
<li>Para verificar la configuraci√≥n:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git config --list
</pre>
</div>
</div>
</div>

<div id="outline-container-org7de9f42" class="outline-4">
<h4 id="org7de9f42">3. Clonar un repositorio</h4>
<div class="outline-text-4" id="text-org7de9f42">
<ul class="org-ul">
<li>Para clonar un repositorio desde GitHub, usa el siguiente comando:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git clone https://github.com/usuario/repo.git
</pre>
</div>

<p>
Esto descargar√° el repositorio a tu computadora.
</p>
</div>
</div>

<div id="outline-container-orgce5b3af" class="outline-4">
<h4 id="orgce5b3af">4. Comandos b√°sicos de Git</h4>
<div class="outline-text-4" id="text-orgce5b3af">
<ul class="org-ul">
<li><b>Verificar el estado del repositorio</b>:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git status
</pre>
</div>

<ul class="org-ul">
<li><b>A√±adir archivos al √°rea de preparaci√≥n (staging)</b>:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git add nombre_de_archivo
</pre>
</div>

<ul class="org-ul">
<li>Para a√±adir todos los archivos modificados:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git add .
</pre>
</div>

<ul class="org-ul">
<li><b>Hacer un commit</b> (guardar los cambios localmente):</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git commit -m <span style="color: #8b2252;">"Mensaje de commit"</span>
</pre>
</div>

<ul class="org-ul">
<li><b>Enviar los cambios al repositorio remoto</b>:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git push
</pre>
</div>
</div>
</div>

<div id="outline-container-org4ff1c49" class="outline-4">
<h4 id="org4ff1c49">5. Actualizar el repositorio local</h4>
<div class="outline-text-4" id="text-org4ff1c49">
<ul class="org-ul">
<li>Para obtener los √∫ltimos cambios del repositorio remoto:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git pull
</pre>
</div>
</div>
</div>

<div id="outline-container-org17c6587" class="outline-4">
<h4 id="org17c6587">6. Crear y cambiar de ramas (branches)</h4>
<div class="outline-text-4" id="text-org17c6587">
<ul class="org-ul">
<li><b>Crear una nueva rama</b>:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git branch nombre_de_la_rama
</pre>
</div>

<ul class="org-ul">
<li><b>Cambiar a una rama existente</b>:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git checkout nombre_de_la_rama
</pre>
</div>

<ul class="org-ul">
<li><b>Crear y cambiar a una nueva rama</b>:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git checkout -b nombre_de_la_rama
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdbd1cbf" class="outline-4">
<h4 id="orgdbd1cbf">7. Ver historial de commits</h4>
<div class="outline-text-4" id="text-orgdbd1cbf">
<ul class="org-ul">
<li>Para ver el historial de cambios del repositorio:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git log
</pre>
</div>

<ul class="org-ul">
<li>Para un historial m√°s compacto:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   git log --oneline
</pre>
</div>
</div>
</div>

<div id="outline-container-org82d29c9" class="outline-4">
<h4 id="org82d29c9">8. Configurar una llave SSH</h4>
<div class="outline-text-4" id="text-org82d29c9">
<ul class="org-ul">
<li><b>Generar una llave SSH</b>:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   ssh-keygen -t ed25519 -C <span style="color: #8b2252;">"tuemail@ejemplo.com"</span>
</pre>
</div>

<ul class="org-ul">
<li><b>A√±adir la llave al agente SSH</b>:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   <span style="color: #483d8b;">eval</span> <span style="color: #8b2252;">"$(ssh-agent -s)"</span>
   ssh-add ~/.ssh/id_ed25519
</pre>
</div>

<ul class="org-ul">
<li><b>Copiar la llave p√∫blica</b>:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">   cat ~/.ssh/id_ed25519.pub
</pre>
</div>

<ul class="org-ul">
<li>A√±√°dela a tu cuenta de GitHub en <b>Settings &gt; SSH and GPG keys</b>.</li>
</ul>
</div>
</div>
</div>
</div>


<div id="outline-container-org7f6eb76" class="outline-2">
<h2 id="org7f6eb76">Manual de Instalaci√≥n de Python en Windows</h2>
<div class="outline-text-2" id="text-org7f6eb76">
</div>
<div id="outline-container-orgb45e631" class="outline-3">
<h3 id="orgb45e631">Paso 1: Descarga de Python</h3>
<div class="outline-text-3" id="text-orgb45e631">
<ol class="org-ol">
<li>Abre el navegador web y visita el sitio: <a href="https://www.python.org">https://www.python.org</a>.</li>
<li>Ve a la pesta√±a "Downloads" y selecciona la versi√≥n m√°s reciente para Windows.</li>
<li>Haz clic en el bot√≥n que dice "Download Python (versi√≥n actual)" para descargar el instalador de Python.</li>
</ol>
</div>
</div>

<div id="outline-container-org431a048" class="outline-3">
<h3 id="org431a048">Paso 2: Ejecutar el instalador</h3>
<div class="outline-text-3" id="text-org431a048">
<ol class="org-ol">
<li>Ejecuta el archivo descargado (.exe).</li>
<li>Aseg√∫rate de marcar la opci√≥n <code>Add Python to PATH</code> antes de proceder con la instalaci√≥n.</li>
<li>Haz clic en <code>Install Now</code> para instalar con la configuraci√≥n predeterminada.</li>
<li>Espera a que finalice el proceso de instalaci√≥n y verifica el mensaje de √©xito.</li>
</ol>
</div>
</div>

<div id="outline-container-org150f8d4" class="outline-3">
<h3 id="org150f8d4">Paso 3: Verificaci√≥n de la instalaci√≥n</h3>
<div class="outline-text-3" id="text-org150f8d4">
<ol class="org-ol">
<li>Abre la l√≠nea de comandos (cmd) escribiendo "cmd" en el men√∫ de inicio.</li>
<li><p>
Verifica que Python se instal√≥ correctamente ejecutando el siguiente comando:
</p>
<div class="org-src-container">
<pre class="src src-bash">      python --version
</pre>
</div></li>
<li><p>
Abre el int√©rprete de Python escribiendo <code>python</code> en la l√≠nea de comandos:
</p>
<div class="org-src-container">
<pre class="src src-bash">      python
</pre>
</div>
<p>
Si todo est√° bien, ver√°s el prompt interactivo de Python (tres s√≠mbolos <code>&gt;&gt;&gt;</code>).
</p></li>
<li>Para salir del int√©rprete, escribe <code>exit()</code> o presiona <code>Ctrl + Z</code> seguido de <code>Enter</code>.</li>
</ol>
</div>
</div>

<div id="outline-container-org89875d7" class="outline-3">
<h3 id="org89875d7">Paso 4: Instalar pip y otros paquetes</h3>
<div class="outline-text-3" id="text-org89875d7">
<ol class="org-ol">
<li><p>
Verifica si pip est√° instalado escribiendo en la l√≠nea de comandos:
</p>
<div class="org-src-container">
<pre class="src src-bash">      pip --version
</pre>
</div></li>
<li><p>
Si necesitas instalar paquetes, usa pip con el siguiente comando:
</p>
<div class="org-src-container">
<pre class="src src-bash">      pip install nombre_paquete
</pre>
</div></li>
</ol>
</div>
</div>

<div id="outline-container-orgf3fd065" class="outline-3">
<h3 id="orgf3fd065">Paso 5: Configuraci√≥n del entorno de desarrollo</h3>
<div class="outline-text-3" id="text-orgf3fd065">
<ol class="org-ol">
<li>Instala un editor de c√≥digo como:
<ul class="org-ul">
<li><a href="https://code.visualstudio.com">Visual Studio Code</a></li>
<li><a href="https://www.jetbrains.com/pycharm/">PyCharm</a></li>
</ul></li>
<li>Configura el editor instalando las extensiones de Python. En Visual Studio Code, busca la extensi√≥n "Python" en el panel de extensiones.</li>
</ol>
</div>
</div>

<div id="outline-container-orgbeec668" class="outline-3">
<h3 id="orgbeec668">Paso 6: Actualizaci√≥n de Python (opcional)</h3>
<div class="outline-text-3" id="text-orgbeec668">
<ul class="org-ul">
<li>Para actualizar Python a una nueva versi√≥n en el futuro, descarga la √∫ltima versi√≥n desde <a href="https://www.python.org/downloads/">python.org</a> y sigue los pasos de instalaci√≥n.</li>
</ul>
</div>
</div>
</div>



<div id="outline-container-org11a89ed" class="outline-2">
<h2 id="org11a89ed">Entornos Virtuales en Python</h2>
<div class="outline-text-2" id="text-org11a89ed">
</div>
<div id="outline-container-orga91bce4" class="outline-3">
<h3 id="orga91bce4">¬øQu√© es un Entorno Virtual?</h3>
<div class="outline-text-3" id="text-orga91bce4">
<p>
Un <b>entorno virtual</b> es una herramienta que permite crear un espacio
aislado para instalar dependencias espec√≠ficas de un proyecto en
Python. Esto evita conflictos entre paquetes de diferentes proyectos.
</p>
</div>
</div>

<div id="outline-container-orgb2442fe" class="outline-3">
<h3 id="orgb2442fe">Preparaci√≥n: Instalaci√≥n de Python y Visual Studio Code</h3>
<div class="outline-text-3" id="text-orgb2442fe">
<ol class="org-ol">
<li><p>
Aseg√∫rate de tener Python instalado en tu sistema. Puedes verificarlo con:
</p>
<div class="org-src-container">
<pre class="src src-sh">   python --version
</pre>
</div></li>
<li>Descarga e instala [Visual Studio Code](<a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a>).</li>
<li>Instala la extensi√≥n de <b>Python</b> en VS Code para habilitar caracter√≠sticas avanzadas, como la detecci√≥n de entornos virtuales, depuraci√≥n, y autocompletado.</li>
</ol>
</div>
</div>

<div id="outline-container-orgd1af1ed" class="outline-3">
<h3 id="orgd1af1ed">Crear un Entorno Virtual</h3>
<div class="outline-text-3" id="text-orgd1af1ed">
<p>
Para crear un entorno virtual en la carpeta de tu proyecto:
</p>

<ol class="org-ol">
<li>Abre la terminal integrada en VS Code (men√∫ <b>Terminal &gt; New Terminal</b>).</li>
<li><p>
Usa el siguiente comando para crear el entorno virtual:
</p>
<div class="org-src-container">
<pre class="src src-sh">   python -m venv nombre_entorno
</pre>
</div>
<ul class="org-ul">
<li>Sustituye <b>nombre<sub>entorno</sub></b> con el nombre que quieras para el entorno virtual, como `env` o `venv`.</li>
</ul></li>
</ol>
</div>
</div>

<div id="outline-container-org7664f49" class="outline-3">
<h3 id="org7664f49">Activar el Entorno Virtual</h3>
<div class="outline-text-3" id="text-org7664f49">
<p>
Para activar el entorno virtual en la terminal de VS Code:
</p>

<ul class="org-ul">
<li><p>
En Linux/macOS:
</p>
<div class="org-src-container">
<pre class="src src-sh">  <span style="color: #483d8b;">source</span> nombre_entorno/bin/activate
</pre>
</div></li>

<li><p>
En Windows:
</p>
<div class="org-src-container">
<pre class="src src-sh">  .\nombre_entorno\Scripts\activate
</pre>
</div></li>
</ul>

<p>
Cuando el entorno est√© activado, ver√°s el nombre del entorno en la terminal.
</p>
</div>
</div>

<div id="outline-container-org3dcd48a" class="outline-3">
<h3 id="org3dcd48a">Configurar el Entorno Virtual en Visual Studio Code</h3>
<div class="outline-text-3" id="text-org3dcd48a">
<p>
Para que VS Code use el entorno virtual para ejecutar el c√≥digo y detectar dependencias:
</p>

<ol class="org-ol">
<li>Presiona `Ctrl+Shift+P` (o `Cmd+Shift+P` en macOS) para abrir la <b>Command Palette</b>.</li>
<li>Busca y selecciona `Python: Select Interpreter`.</li>
<li>En la lista de int√©rpretes, selecciona el que corresponde a tu
entorno virtual (deber√≠a tener el nombre del entorno que creaste).</li>
</ol>
</div>
</div>

<div id="outline-container-org6cae7aa" class="outline-3">
<h3 id="org6cae7aa">Instalar Paquetes en el Entorno Virtual</h3>
<div class="outline-text-3" id="text-org6cae7aa">
<p>
Con el entorno activado en la terminal de VS Code, puedes instalar paquetes con `pip`:
</p>

<div class="org-src-container">
<pre class="src src-sh">pip install nombre_paquete
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcab44c8" class="outline-3">
<h3 id="orgcab44c8">Administrar Paquetes</h3>
<div class="outline-text-3" id="text-orgcab44c8">
<p>
Para ver los paquetes instalados en el entorno virtual:
</p>

<div class="org-src-container">
<pre class="src src-sh">pip list
</pre>
</div>

<p>
Tambi√©n puedes usar el archivo <b>requirements.txt</b> para gestionar dependencias del proyecto. Para crearlo:
</p>

<ol class="org-ol">
<li><p>
Ejecuta:
</p>
<div class="org-src-container">
<pre class="src src-sh">   pip freeze &gt; requirements.txt
</pre>
</div></li>

<li><p>
Para instalar todas las dependencias listadas en <b>requirements.txt</b> en otro entorno, usa:
</p>
<div class="org-src-container">
<pre class="src src-sh">   pip install -r requirements.txt
</pre>
</div></li>
</ol>
</div>
</div>

<div id="outline-container-org6f4d70a" class="outline-3">
<h3 id="org6f4d70a">Desactivar el Entorno Virtual</h3>
<div class="outline-text-3" id="text-org6f4d70a">
<p>
Para desactivar el entorno virtual en la terminal, ejecuta:
</p>

<div class="org-src-container">
<pre class="src src-sh">deactivate
</pre>
</div>
</div>
</div>

<div id="outline-container-orga73eaec" class="outline-3">
<h3 id="orga73eaec">Eliminar el Entorno Virtual</h3>
<div class="outline-text-3" id="text-orga73eaec">
<p>
Si deseas eliminar el entorno virtual, puedes simplemente borrar la carpeta:
</p>

<div class="org-src-container">
<pre class="src src-sh">rm -rf nombre_entorno
</pre>
</div>
</div>
</div>


<div id="outline-container-org35a37a1" class="outline-3">
<h3 id="org35a37a1">Consejos Adicionales para VS Code</h3>
<div class="outline-text-3" id="text-org35a37a1">
<ul class="org-ul">
<li><p>
<b><b>Terminal autom√°tica</b></b>: Cuando creas y activas un entorno en VS Code, puedes configurar el archivo `.vscode/settings.json` para que VS Code lo active autom√°ticamente en cada terminal nueva:
</p>
<div class="org-src-container">
<pre class="src src-json">  {
    "python.venvPath": "${workspaceFolder}/nombre_entorno",
    "python.defaultInterpreterPath": "${workspaceFolder}/nombre_entorno/bin/python"
  }
</pre>
</div></li>
</ul>
</div>
</div>
</div>







<div id="outline-container-org4774592" class="outline-2">
<h2 id="org4774592">Entornos virtuales en Python (Windows + VS Code)</h2>
<div class="outline-text-2" id="text-org4774592">
</div>
<div id="outline-container-org7ada116" class="outline-3">
<h3 id="org7ada116">1. ¬øQu√© es un entorno virtual?</h3>
<div class="outline-text-3" id="text-org7ada116">
<p>
Un entorno virtual (venv) es un espacio aislado para instalar librer√≠as
sin afectar el Python del sistema ni otros proyectos.
</p>

<p>
Cada proyecto debe tener su propio venv para evitar conflictos.
</p>
</div>
</div>

<div id="outline-container-orgeb6e0d1" class="outline-3">
<h3 id="orgeb6e0d1">2. Requisitos previos</h3>
<div class="outline-text-3" id="text-orgeb6e0d1">
<ul class="org-ul">
<li>Tener Python instalado (&gt;= 3.6 recomendado).</li>
<li><p>
Verificar en la terminal (CMD o PowerShell):
</p>

<div class="org-src-container">
<pre class="src src-powershell">  python --version
  pip --version
</pre>
</div></li>
</ul>

<p>
Si no aparecen, aseg√∫rate de que Python est√© en el PATH de Windows.
</p>
</div>
</div>

<div id="outline-container-orgd234f45" class="outline-3">
<h3 id="orgd234f45">3. Crear un entorno virtual</h3>
<div class="outline-text-3" id="text-orgd234f45">
<p>
Dentro de la carpeta de tu proyecto, ejecuta:
</p>

<div class="org-src-container">
<pre class="src src-powershell">python -m venv venv
</pre>
</div>

<p>
Esto crear√° una carpeta llamada <code>venv/</code>.  
Dentro estar√°n los binarios y scripts de activaci√≥n.
</p>
</div>
</div>

<div id="outline-container-orgb10814d" class="outline-3">
<h3 id="orgb10814d">4. Activar el entorno virtual</h3>
<div class="outline-text-3" id="text-orgb10814d">
<p>
Seg√∫n la terminal que uses en Windows:
</p>

<ul class="org-ul">
<li><p>
CMD:
</p>
<div class="org-src-container">
<pre class="src src-cmd">  venv\Scripts\activate.bat
</pre>
</div></li>

<li><p>
PowerShell:
</p>
<div class="org-src-container">
<pre class="src src-powershell">  .\venv\Scripts\Activate.ps1
</pre>
</div></li>

<li><p>
Git Bash (si lo usas):
</p>
<div class="org-src-container">
<pre class="src src-sh">  <span style="color: #483d8b;">source</span> venv/Scripts/activate
</pre>
</div></li>
</ul>

<p>
Cuando est√° activo ver√°s algo como:
<code>(venv) C:\Users\TuUsuario\proyecto&gt;</code>
</p>
</div>
</div>

<div id="outline-container-orgf0c10e7" class="outline-3">
<h3 id="orgf0c10e7">5. Problema com√∫n: PowerShell bloquea Activate.ps1</h3>
<div class="outline-text-3" id="text-orgf0c10e7">
<p>
Por seguridad, PowerShell no permite ejecutar scripts .ps1.
</p>

<p>
Ver√°s un error como:
</p>
<pre class="example" id="orge4c3f0d">
Execution Policy restricts running scripts
</pre>

<p>
Para solucionarlo (solo una vez):
</p>

<ol class="org-ol">
<li>Abre PowerShell como Administrador.</li>
<li><p>
Ejecuta:
</p>
<div class="org-src-container">
<pre class="src src-powershell">   Set-ExecutionPolicy -Scope CurrentUser -ExecutionPolicy RemoteSigned
</pre>
</div></li>
</ol>

<p>
Esto permite ejecutar scripts locales como Activate.ps1.
</p>
</div>
</div>

<div id="outline-container-org2ec244d" class="outline-3">
<h3 id="org2ec244d">6. Desactivar el entorno virtual</h3>
<div class="outline-text-3" id="text-org2ec244d">
<p>
Para salir del entorno:
</p>
<div class="org-src-container">
<pre class="src src-powershell">deactivate
</pre>
</div>
</div>
</div>

<div id="outline-container-org4af8a6c" class="outline-3">
<h3 id="org4af8a6c">7. Instalar paquetes dentro del entorno</h3>
<div class="outline-text-3" id="text-org4af8a6c">
<p>
Ejemplo:
</p>
<div class="org-src-container">
<pre class="src src-powershell">pip install requests
</pre>
</div>

<p>
Guardar dependencias en un archivo:
</p>
<div class="org-src-container">
<pre class="src src-powershell">pip freeze &gt; requirements.txt
</pre>
</div>

<p>
Instalarlas en otro entorno:
</p>
<div class="org-src-container">
<pre class="src src-powershell">pip install -r requirements.txt
</pre>
</div>
</div>
</div>

<div id="outline-container-orga604a5c" class="outline-3">
<h3 id="orga604a5c">8. Integrar el entorno en VS Code</h3>
<div class="outline-text-3" id="text-orga604a5c">
<ol class="org-ol">
<li>Instalar la extensi√≥n <b><b>Python (Microsoft)</b></b>.</li>
<li>Abrir la carpeta del proyecto en VS Code.</li>
<li><code>Ctrl+Shift+P</code> ‚Üí escribir "Python: Select Interpreter".
Si no aparece, configurarlo manualmente (ver abajo).</li>
<li>Seleccionar el int√©rprete de <code>venv\Scripts\python.exe</code>.</li>
</ol>
</div>
</div>

<div id="outline-container-orge68e509" class="outline-3">
<h3 id="orge68e509">9. Configuraci√≥n manual en settings.json</h3>
<div class="outline-text-3" id="text-orge68e509">
<p>
Si VS Code no detecta el int√©rprete, forzar la ruta en
<code>/.vscode/settings.json</code>:
</p>

<div class="org-src-container">
<pre class="src src-json">{
    "python.defaultInterpreterPath": "C:\\Users\\TuUsuario\\proyecto\\venv\\Scripts\\python.exe",
    "python.terminal.activateEnvironment": true
}
</pre>
</div>
</div>
</div>

<div id="outline-container-orgad2666d" class="outline-3">
<h3 id="orgad2666d">10. Diferencias entre los scripts de activaci√≥n</h3>
<div class="outline-text-3" id="text-orgad2666d">
<p>
Dentro de <code>venv\Scripts</code> ver√°s varios archivos:
</p>

<ul class="org-ul">
<li><code>activate.bat</code> ‚Üí Para CMD.</li>
<li><code>Activate.ps1</code> ‚Üí Para PowerShell.</li>
<li><code>activate</code> (sin extensi√≥n) ‚Üí Para Git Bash / WSL.</li>
<li><code>deactivate.bat</code> ‚Üí Desactiva el entorno en CMD.</li>
</ul>

<p>
Debes usar el que corresponda a tu terminal actual.
</p>
</div>
</div>

<div id="outline-container-org6f252bb" class="outline-3">
<h3 id="org6f252bb">11. Buenas pr√°cticas</h3>
<div class="outline-text-3" id="text-org6f252bb">
<ul class="org-ul">
<li>Un venv por proyecto.</li>
<li>Incluir <code>venv/</code> en el .gitignore si usas Git.</li>
<li>Siempre usar requirements.txt para compartir dependencias.</li>
<li>Activar el entorno desde la terminal integrada de VS Code.</li>
</ul>
</div>
</div>

<div id="outline-container-org7ba6718" class="outline-3">
<h3 id="org7ba6718">12. Ejemplo de flujo completo</h3>
<div class="outline-text-3" id="text-org7ba6718">
<ol class="org-ol">
<li><p>
Crear proyecto:
</p>
<div class="org-src-container">
<pre class="src src-powershell">   mkdir mi_proyecto
   cd mi_proyecto
   python -m venv venv
</pre>
</div></li>

<li><p>
Activar entorno:
</p>
<div class="org-src-container">
<pre class="src src-powershell">   .\venv\Scripts\Activate.ps1
</pre>
</div></li>

<li><p>
Instalar dependencias:
</p>
<div class="org-src-container">
<pre class="src src-powershell">   pip install requests flask
   pip freeze &gt; requirements.txt
</pre>
</div></li>

<li><p>
Configurar VS Code en <code>.vscode/settings.json</code>:
</p>
<div class="org-src-container">
<pre class="src src-json">   {
       "python.defaultInterpreterPath": "${workspaceFolder}\\.venv\\Scripts\\python.exe",
       "python.analysis.extraPaths": ["${workspaceFolder}"],
       "python.terminal.activateEnvironment": true
   }
</pre>
</div></li>

<li><p>
Probar en VS Code:
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #f2f2f2;"> </span>  <span style="color: #a020f0;">import</span> requests
<span style="background-color: #f2f2f2;"> </span>  <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Hola desde el venv!"</span><span style="color: #707183;">)</span>
</pre>
</div></li>
</ol>
</div>
</div>
</div>






<div id="outline-container-org72f1bf0" class="outline-2">
<h2 id="org72f1bf0">Introducci√≥n a la Graficaci√≥n por computadora</h2>
<div class="outline-text-2" id="text-org72f1bf0">
</div>
<div id="outline-container-orgf0e2e60" class="outline-3">
<h3 id="orgf0e2e60">Graficaci√≥n por Computadora</h3>
<div class="outline-text-3" id="text-orgf0e2e60">
<p>
La  Graficaci√≥n por Computadora (o simplemente Graficaci√≥n)
se enfoca en el estudio y aplicaci√≥n de t√©cnicas, algoritmos y
herramientas para la generaci√≥n y manipulaci√≥n de im√°genes digitales
mediante el uso de computadoras. Es una rama de la inform√°tica que
combina conceptos de matem√°ticas, f√≠sica y programaci√≥n para crear
im√°genes, animaciones y efectos visuales. A continuaci√≥n, te describo
los aspectos clave de esta disciplina:
</p>
</div>

<div id="outline-container-org2f88cbd" class="outline-4">
<h4 id="org2f88cbd">Objetivos de la Graficaci√≥n por Computadora</h4>
<div class="outline-text-4" id="text-org2f88cbd">
<ol class="org-ol">
<li><b>Generaci√≥n de im√°genes</b>: Crear im√°genes digitales a partir de descripciones matem√°ticas y geom√©tricas de objetos, en 2D y 3D.</li>
<li><b>Modelado de objetos</b>: Crear representaciones matem√°ticas de objetos y escenas usando t√©cnicas como pol√≠gonos, mallas y curvas.</li>
<li><b>Renderizado</b>: Convertir representaciones matem√°ticas en im√°genes visuales, simulando iluminaci√≥n, sombras y texturas.</li>
<li><b>Transformaciones geom√©tricas</b>: Aplicar traslaciones, rotaciones, escalados y proyecciones a objetos en sistemas de coordenadas 2D y 3D.</li>
<li><b>Iluminaci√≥n y sombreado</b>: Simular c√≥mo la luz interact√∫a con los objetos para crear efectos realistas.</li>
<li><b>Animaci√≥n</b>: Generar secuencias de im√°genes que cambian a lo largo del tiempo, incluyendo movimientos y simulaciones f√≠sicas.</li>
<li><b>Texturizado</b>: Aplicar im√°genes (texturas) sobre superficies para dar detalles visuales sin aumentar la complejidad geom√©trica.</li>
<li><b>Interacci√≥n gr√°fica</b>: Estudiar t√©cnicas para interactuar con im√°genes o modelos gr√°ficos, como interfaces gr√°ficas, realidad aumentada o virtual.</li>
</ol>
</div>
</div>

<div id="outline-container-org326e65b" class="outline-4">
<h4 id="org326e65b">√Åreas de estudio en Graficaci√≥n por Computadora</h4>
<div class="outline-text-4" id="text-org326e65b">
<ol class="org-ol">
<li><b>Matem√°ticas</b>: Uso de geometr√≠a y √°lgebra lineal para realizar transformaciones geom√©tricas y modelar objetos.</li>
<li><b>Programaci√≥n</b>: Conocimiento de lenguajes como C++, Python, GLSL y HLSL para implementar algoritmos gr√°ficos.</li>
<li><b>Algoritmos gr√°ficos</b>: Estudio de algoritmos como el trazado de rayos (ray tracing), rasterizaci√≥n y z-buffering.</li>
<li><b>Herramientas gr√°ficas</b>: Uso de APIs como OpenGL, DirectX o Vulkan para crear gr√°ficos y animaciones.</li>
<li><b>F√≠sica aplicada</b>: Simulaci√≥n de fen√≥menos f√≠sicos como gravedad y movimiento para generar gr√°ficos realistas.</li>
</ol>
</div>
</div>

<div id="outline-container-orgcebae8c" class="outline-4">
<h4 id="orgcebae8c">Aplicaciones de la Graficaci√≥n por Computadora</h4>
<div class="outline-text-4" id="text-orgcebae8c">
<ul class="org-ul">
<li><b>Videojuegos</b>: Creaci√≥n de ambientes, personajes y efectos visuales.</li>
<li><b>Cine y efectos visuales</b>: Creaci√≥n de efectos especiales y animaci√≥n por computadora.</li>
<li><b>Dise√±o industrial y arquitect√≥nico</b>: Modelado y visualizaci√≥n de prototipos y estructuras.</li>
<li><b>Simulaciones</b>: Uso en medicina, aeron√°utica y otras industrias para crear simulaciones realistas.</li>
<li><b>Realidad virtual y aumentada</b>: Generaci√≥n de entornos interactivos virtuales.</li>
</ul>
</div>
</div>

<div id="outline-container-org8230c8c" class="outline-4">
<h4 id="org8230c8c">Temas principales en Graficaci√≥n por Computadora</h4>
<div class="outline-text-4" id="text-org8230c8c">
<ul class="org-ul">
<li><b>Modelado 2D y 3D</b></li>
<li><b>Algoritmos de rasterizaci√≥n</b></li>
<li><b>Transformaciones y proyecciones</b></li>
<li><b>Renderizado y sombreado</b></li>
<li><b>Texturizado</b></li>
<li><b>Iluminaci√≥n global y local</b></li>
<li><b>T√©cnicas de animaci√≥n</b></li>
<li><b>Programaci√≥n de shaders</b></li>
<li><b>Interacci√≥n gr√°fica y dise√±o de interfaces</b></li>
</ul>
</div>
</div>
</div>



<div id="outline-container-org7bbe159" class="outline-3">
<h3 id="org7bbe159">¬øQu√© es una imagen? (definici√≥n formal)</h3>
<div class="outline-text-3" id="text-org7bbe159">
<p>
Una <b>imagen digital</b> puede verse como una funci√≥n discreta bidimensional:
\[
I : D \subset \mathbb{Z}^2 \to \mathbb{R}^k
\]
donde \(D=\{0,\dots,M-1\}\times\{0,\dots,N-1\}\) es la malla de p√≠xeles y \(k\) es el n√∫mero de canales:
</p>
<ul class="org-ul">
<li>Escala de grises: \(k=1\), \(I(x,y)\in[0,L-1]\).</li>
<li>Color RGB: \(k=3\), \(I(x,y)=(R,G,B)\), con cada canal en \([0,L-1]\).</li>
</ul>
</div>

<div id="outline-container-org2f4e06e" class="outline-4">
<h4 id="org2f4e06e">Imagen continua, muestreo y cuantizaci√≥n</h4>
<div class="outline-text-4" id="text-org2f4e06e">
<ul class="org-ul">
<li><b>Modelo continuo</b>: \(f:\mathbb{R}^2\to\mathbb{R}\).</li>
<li><b>Muestreo espacial</b> (pasos \(T_x,T_y\)):</li>
</ul>
<p>
\[
I[m,n]=f(mT_x,nT_y),\quad m,n\in\mathbb{Z}.
\]
</p>
<ul class="org-ul">
<li><b>Cuantizaci√≥n</b> (niveles \(L\)):</li>
</ul>
<p>
\[
Q(I)=\operatorname{round}\!\left(\frac{L-1}{I_{\max}-I_{\min}}(I-I_{\min})\right).
\]
</p>
<ul class="org-ul">
<li><b>Criterio de Nyquist</b> (no aliasing): la frecuencia de muestreo debe ser al menos el doble de la frecuencia espacial m√°xima del contenido.</li>
</ul>
</div>
</div>

<div id="outline-container-orgbd63a63" class="outline-4">
<h4 id="orgbd63a63">Representaci√≥n matricial y tensores</h4>
<div class="outline-text-4" id="text-orgbd63a63">
<p>
Una imagen gris \(M\times N\) es una matriz:
\[
I=\big[I(m,n)\big]_{m=0..M-1,\;n=0..N-1}.
\]
Una imagen RGB es un tensor \(M\times N\times 3\) o, equivalentemente, tres matrices \(R,G,B\).
</p>
</div>
</div>

<div id="outline-container-org6ecf70c" class="outline-4">
<h4 id="org6ecf70c">Transformaciones de intensidad (p√≠xel a p√≠xel)</h4>
<div class="outline-text-4" id="text-org6ecf70c">
<ul class="org-ul">
<li><b>Brillo</b>:</li>
</ul>
<p>
\[
I'(x,y)=I(x,y)+\beta.
\]
</p>
<ul class="org-ul">
<li><b>Contraste lineal</b>:</li>
</ul>
<p>
\[
I'(x,y)=\alpha\,I(x,y)+\beta.
\]
</p>
<ul class="org-ul">
<li><b>Clampeo</b> (saturaci√≥n a \([0,L-1]\)):</li>
</ul>
<p>
\[
I''(x,y)=\min(\max(I'(x,y),0),L-1).
\]
</p>
</div>
</div>

<div id="outline-container-org0306be4" class="outline-4">
<h4 id="org0306be4">Color: modelos y conversiones</h4>
<div class="outline-text-4" id="text-org0306be4">
</div>
<ul class="org-ul">
<li><a id="org8ca1de9"></a>De RGB a escala de grises (luminancia aproximada)<br />
<div class="outline-text-5" id="text-org8ca1de9">
<p>
\[
Y \approx 0.2126\,R + 0.7152\,G + 0.0722\,B.
\]
</p>
</div>
</li>
<li><a id="orga15409a"></a>Transformaci√≥n lineal gen√©rica<br />
<div class="outline-text-5" id="text-orga15409a">
<p>
\[
</p>
\begin{bmatrix} C_1\\ C_2\\ C_3\end{bmatrix}
<p>
=
\mathbf{M}
</p>
\begin{bmatrix} R\\ G\\ B\end{bmatrix}
<ul class="org-ul">
<li></li>
</ul>
<p>
\mathbf{b},
\]
con \(\mathbf{M}\in\mathbb{R}^{3\times 3}\), \(\mathbf{b}\in\mathbb{R}^3\). (Ej.: RGB‚ÜîYCbCr, RGB‚ÜîXYZ.)
</p>
</div>
</li>

<li><a id="orge9c3fcd"></a>Geometr√≠a de im√°genes (transformaciones espaciales)<br />
<div class="outline-text-5" id="text-orge9c3fcd">
<p>
Una transformaci√≥n geom√©trica mueve coordenadas:
\[
(x',y')=T(x,y).
\]
</p>
</div>
</li>
<li><a id="org8f7e66c"></a>Afin (matriz \(2\times2\) + traslaci√≥n)<br />
<div class="outline-text-5" id="text-org8f7e66c">
<p>
\[
</p>
\begin{bmatrix}x'\\y'\end{bmatrix}
<p>
=
\underbrace{\begin{bmatrix}a&amp;b\\c&amp;d\end{bmatrix}}<sub>\text{rotaci√≥n+escala+cisalla}</sub>
</p>
\begin{bmatrix}x\\y\end{bmatrix}
<ul class="org-ul">
<li></li>
</ul>
<p>
\begin{bmatrix}t<sub>x\\t</sub><sub>y\end</sub>{bmatrix}.
\]
</p>
</div>
</li>
<li><a id="org5e96edd"></a>Homograf√≠a (proyectiva) con coordenadas homog√©neas<br />
<div class="outline-text-5" id="text-org5e96edd">
<p>
\[
\lambda\begin{bmatrix}x'\\y'\\1\end{bmatrix}
=
\mathbf{H}
\begin{bmatrix}x\\y\\1\end{bmatrix},\quad \mathbf{H}\in\mathbb{R}^{3\times3}.
\]
</p>
</div>
</li>
<li><a id="org6e08d98"></a>Interpolaci√≥n (para muestrear \(I\) en coordenadas no enteras)<br />
<div class="outline-text-5" id="text-org6e08d98">
<ul class="org-ul">
<li><b>Vecino m√°s cercano</b>: \(I'(x',y')=I(\operatorname{round}(x),\operatorname{round}(y))\).</li>
<li><b>Bilineal</b>:</li>
</ul>
<p>
\[
I'(x',y')
= \sum_{i\in\{0,1\}}\sum_{j\in\{0,1\}} w_{ij}\, I(\lfloor x\rfloor+i,\lfloor y\rfloor+j),
\]
con pesos \(w_{ij}\) que dependen de las distancias fraccionales.
</p>
<ul class="org-ul">
<li><b>Bic√∫bica</b>: combinaci√≥n c√∫bica 1D por filas y columnas.</li>
</ul>
</div>
</li>
</ul>
</div>

<div id="outline-container-orga2e1ccd" class="outline-4">
<h4 id="orga2e1ccd">Filtrado espacial (convoluci√≥n) y operadores diferenciales</h4>
<div class="outline-text-4" id="text-orga2e1ccd">
</div>
<ul class="org-ul">
<li><a id="org1ff2f11"></a>Convoluci√≥n discreta 2D<br />
<div class="outline-text-5" id="text-org1ff2f11">
<p>
\[
(I * h)(x,y) = \sum_{u}\sum_{v} I(x-u,y-v)\,h(u,v).
\]
</p>
</div>
</li>
<li><a id="org9ec6ebc"></a>Nucleos frecuentes (ejemplos)<br />
<div class="outline-text-5" id="text-org9ec6ebc">
<ul class="org-ul">
<li><b>Media (blur) \(3\times3\)</b>:</li>
</ul>
<p>
\[
h=\frac{1}{9}\begin{bmatrix}1&1&1\\1&1&1\\1&1&1\end{bmatrix}.
\]
</p>
<ul class="org-ul">
<li><b>Gaussiano</b> (continua):</li>
</ul>
<p>
\[
G_\sigma(x,y)=\frac{1}{2\pi\sigma^2}\exp\!\left(-\frac{x^2+y^2}{2\sigma^2}\right).
\]
</p>
<ul class="org-ul">
<li><b>Sobel (gradiente)</b>:</li>
</ul>
<p>
\[
S_x=\begin{bmatrix}-1&0&1\\-2&0&2\\-1&0&1\end{bmatrix},\quad
S_y=\begin{bmatrix}-1&-2&-1\\0&0&0\\1&2&1\end{bmatrix}.
\]
</p>
</div>
</li>
<li><a id="org6c78512"></a>Magnitud y direcci√≥n del gradiente<br />
<div class="outline-text-5" id="text-org6c78512">
<p>
\[
\nabla I = (I_x,I_y),\quad
\|\nabla I\| = \sqrt{I_x^2+I_y^2},\quad
\theta=\operatorname{atan2}(I_y,I_x).
\]
</p>
</div>
</li>
<li><a id="orga321b43"></a>Laplaciano (detector de bordes)<br />
<div class="outline-text-5" id="text-orga321b43">
<p>
\[
\nabla^2 I \approx
\begin{bmatrix}0&1&0\\1&-4&1\\0&1&0\end{bmatrix} * I
\quad\text{o}\quad
\begin{bmatrix}1&1&1\\1&-8&1\\1&1&1\end{bmatrix} * I.
\]
</p>
</div>
</li>
<li><a id="orge834a41"></a>LoG (Laplaciano de Gauss) ‚Äî <b>suaviza y deriva</b><br />
<div class="outline-text-5" id="text-orge834a41">
<p>
\[
\text{LoG}_\sigma = \nabla^2(G_\sigma * I) = (\nabla^2 G_\sigma) * I.
\]
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-orgf85930c" class="outline-4">
<h4 id="orgf85930c">Dominio de la frecuencia (DFT 2D)</h4>
</div>
<div id="outline-container-org87769a7" class="outline-4">
<h4 id="org87769a7">Transformada discreta de Fourier 2D</h4>
<div class="outline-text-4" id="text-org87769a7">
<p>
\[
F(u,v)=\sum_{x=0}^{M-1}\sum_{y=0}^{N-1}
I(x,y)\,e^{-j2\pi\left(\frac{ux}{M}+\frac{vy}{N}\right)}.
\]
</p>
</div>
<ul class="org-ul">
<li><a id="orgd5421a5"></a>Inversa<br />
<div class="outline-text-5" id="text-orgd5421a5">
<p>
\[
I(x,y)=\frac{1}{MN}\sum_{u=0}^{M-1}\sum_{v=0}^{N-1}
F(u,v)\,e^{+j2\pi\left(\frac{ux}{M}+\frac{vy}{N}\right)}.
\]
</p>
</div>
</li>
<li><a id="org639e092"></a>Relaci√≥n con convoluci√≥n<br />
<div class="outline-text-5" id="text-org639e092">
<p>
\[
\mathcal{F}\{I*h\} = \mathcal{F}\{I\}\cdot \mathcal{F}\{h\}.
\]
Filtros paso-bajo/alto pueden definirse multiplicando en frecuencia.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-orgb6dc880" class="outline-4">
<h4 id="orgb6dc880">Formaci√≥n de imagen (modelo pinhole simplificado)</h4>
<div class="outline-text-4" id="text-orgb6dc880">
</div>
<ul class="org-ul">
<li><a id="orgd2ff672"></a>Proyecci√≥n perspectiva<br />
<div class="outline-text-5" id="text-orgd2ff672">
<p>
\[
&lambda;
</p>
\begin{bmatrix}x\\y\\1\end{bmatrix}
<p>
=n
\mathbf{K}\,[\,\mathbf{R}\mid\mathbf{t}\,]
\begin{bmatrix}X\\Y\\Z\\1\end{bmatrix},
\quad
\mathbf{K}=
\begin{bmatrix}f<sub>x</sub>&amp;0&amp;c<sub>x\\0</sub>&amp;f<sub>y</sub>&amp;c<sub>y\\0</sub>&amp;0&amp;1\end{bmatrix}.
\]
\( (X,Y,Z) \) son coordenadas 3D; \( (x,y) \) coordenadas de imagen;
\(\mathbf{K}\) = par√°metros intr√≠nsecos; \(\mathbf{R},\mathbf{t}\) = pose de la c√°mara.
</p>
</div>
</li>
</ul>
</div>
<div id="outline-container-org903f6dd" class="outline-4">
<h4 id="org903f6dd">Iluminaci√≥n lambertiana (intensidad difusa)</h4>
<div class="outline-text-4" id="text-org903f6dd">
<p>
\[
I \propto \rho\,(\mathbf{n}\cdot\mathbf{l}),
\]
albedo \(\rho\), normal \(\mathbf{n}\), direcci√≥n de luz \(\mathbf{l}\).
</p>
</div>
</div>

<div id="outline-container-org39b5dbe" class="outline-4">
<h4 id="org39b5dbe">Estad√≠stica b√°sica de intensidades (√∫til para normalizaci√≥n)</h4>
<div class="outline-text-4" id="text-org39b5dbe">
<ul class="org-ul">
<li><b>Media</b>:</li>
</ul>
<p>
\[
\mu=\frac{1}{MN}\sum_{x,y} I(x,y).
\]
</p>
<ul class="org-ul">
<li><b>Varianza</b>:</li>
</ul>
<p>
\[
\sigma^2=\frac{1}{MN}\sum_{x,y}\big(I(x,y)-\mu\big)^2.
\]
</p>
<ul class="org-ul">
<li><b>Normalizaci√≥n z</b>:</li>
</ul>
<p>
\[
I'(x,y)=\frac{I(x,y)-\mu}{\sigma}.
\]
</p>
</div>
</div>
</div>


<div id="outline-container-orgd285399" class="outline-3">
<h3 id="orgd285399">Modelos de Color: RGB, CMY, HSV y HSL</h3>
</div>

<div id="outline-container-orgdd3aca4" class="outline-3">
<h3 id="orgdd3aca4">Introducci√≥n</h3>
<div class="outline-text-3" id="text-orgdd3aca4">
<p>
Los <b>modelos de color</b> son representaciones matem√°ticas que describen
c√≥mo los colores pueden representarse en diversas formas utilizando
valores num√©ricos. Estos modelos son esenciales en gr√°ficos por
computadora, procesamiento de im√°genes y en la percepci√≥n del color. A
continuaci√≥n, se detallan los modelos m√°s comunes: RGB, CMY, HSV y
HSL.
</p>
</div>
</div>

<div id="outline-container-orgc4198ce" class="outline-3">
<h3 id="orgc4198ce">Modelo de Color RGB (Red, Green, Blue)</h3>
</div>

<div id="outline-container-org9e4e1d5" class="outline-3">
<h3 id="org9e4e1d5">Definici√≥n</h3>
<div class="outline-text-3" id="text-org9e4e1d5">
<p>
El modelo de color <b>RGB</b> (Rojo, Verde, Azul) es un modelo de mezcla
aditiva, que se utiliza principalmente en dispositivos que emiten luz,
como pantallas, c√°maras digitales y proyectores. Los tres colores
primarios (Rojo, Verde y Azul) se combinan de diferentes maneras para
crear una amplia gama de colores.
</p>
</div>
</div>

<div id="outline-container-org8927208" class="outline-3">
<h3 id="org8927208">Funcionamiento de la Mezcla Aditiva</h3>
<div class="outline-text-3" id="text-org8927208">
<p>
En el modelo RGB, los colores se generan mediante la combinaci√≥n de
luz. Cuanto m√°s intensa es la luz en cada canal (rojo, verde o azul),
m√°s claro es el color resultante. Cuando todas las intensidades est√°n
al m√°ximo, el color resultante es blanco; cuando todas las
intensidades est√°n al m√≠nimo, el resultado es negro.
</p>

<ul class="org-ul">
<li><b>F√≥rmula para la mezcla aditiva</b>:
\[
  \text{Color} = R \cdot \mathbf{r} + G \cdot \mathbf{g} + B \cdot \mathbf{b}
  \]
donde:
<ul class="org-ul">
<li>\(R\), \(G\) y \(B\) son las intensidades de los canales rojo, verde y azul, respectivamente.</li>
<li>\( \mathbf{r} \), \( \mathbf{g} \) y \( \mathbf{b} \) son los vectores unitarios que representan los colores primarios.</li>
</ul></li>

<li><b>Ejemplo</b>:
<ul class="org-ul">
<li>Si \( R = 255 \), \( G = 0 \), \( B = 0 \), obtenemos un color rojo puro.</li>
<li>Si \( R = 0 \), \( G = 255 \), \( B = 0 \), obtenemos un color verde puro.</li>
<li>Si \( R = 255 \), \( G = 255 \), \( B = 0 \), obtenemos el color amarillo.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org927bb30" class="outline-3">
<h3 id="org927bb30">Espacio de Color RGB</h3>
<div class="outline-text-3" id="text-org927bb30">
<p>
El espacio de color <b>RGB</b> puede representarse como un cubo tridimensional, donde:
</p>
<ul class="org-ul">
<li>El eje X corresponde al canal rojo (\(R\)),</li>
<li>El eje Y al canal verde (\(G\)),</li>
<li>Y el eje Z al canal azul (\(B\)).</li>
</ul>

<p>
Cada v√©rtice del cubo representa un color primario o la combinaci√≥n de ellos, como se muestra a continuaci√≥n:
</p>
<ul class="org-ul">
<li>\( (0, 0, 0) \): Negro (ausencia de luz).</li>
<li>\( (255, 0, 0) \): Rojo.</li>
<li>\( (0, 255, 0) \): Verde.</li>
<li>\( (0, 0, 255) \): Azul.</li>
<li>\( (255, 255, 255) \): Blanco (m√°xima intensidad en todos los canales).</li>
<li>\( (255, 255, 0) \): Amarillo (combinaci√≥n de rojo y verde).</li>
</ul>

<p>
Este espacio de color es √∫til para representar los colores generados en dispositivos electr√≥nicos, ya que estos emiten luz en diferentes combinaciones de rojo, verde y azul.
</p>
</div>
</div>

<div id="outline-container-org3c53704" class="outline-3">
<h3 id="org3c53704">Conversi√≥n a otros modelos de color</h3>
<div class="outline-text-3" id="text-org3c53704">
<p>
El modelo RGB puede convertirse a otros espacios de color como <b>CMY</b>, <b>HSV</b> o <b>HSL</b>. A continuaci√≥n se muestra la conversi√≥n b√°sica de RGB a CMY:
</p>

<ul class="org-ul">
<li><b>Conversi√≥n de RGB a CMY</b>:
\[
  C = 1 - \left( \frac{R}{255} \right), \quad M = 1 - \left( \frac{G}{255} \right), \quad Y = 1 - \left( \frac{B}{255} \right)
  \]
donde \(R\), \(G\), y \(B\) son las intensidades de los canales en el rango de [0, 255].</li>
</ul>
</div>
</div>

<div id="outline-container-org60d2221" class="outline-3">
<h3 id="org60d2221">Aplicaciones del Modelo RGB</h3>
<div class="outline-text-3" id="text-org60d2221">
<p>
El modelo de color RGB se usa ampliamente en:
</p>
<ul class="org-ul">
<li><b>Monitores y pantallas</b>: Dispositivos como televisores, monitores de computadora y pantallas de tel√©fonos m√≥viles utilizan p√≠xeles que emiten luz en diferentes intensidades de rojo, verde y azul para representar im√°genes.</li>
<li><b>C√°maras digitales</b>: Los sensores de las c√°maras capturan la luz en estos tres canales para generar im√°genes en color.</li>
<li><b>Gr√°ficos por computadora</b>: El modelo RGB es esencial en software de edici√≥n de im√°genes, renderizado 3D y creaci√≥n de gr√°ficos visuales.</li>
</ul>
</div>
</div>

<div id="outline-container-orgd1b4a69" class="outline-3">
<h3 id="orgd1b4a69">Limitaciones del Modelo RGB</h3>
<div class="outline-text-3" id="text-orgd1b4a69">
<p>
Aunque el modelo RGB es excelente para dispositivos que emiten luz, tiene algunas limitaciones:
</p>
<ul class="org-ul">
<li>No es intuitivo para el ser humano al ajustar el brillo o la saturaci√≥n de un color, ya que requiere manipular los tres canales de manera independiente.</li>
<li>El modelo RGB no es el m√°s adecuado para tareas de impresi√≥n, ya que en impresiones se usan modelos basados en la mezcla sustractiva de colores, como CMY o CMYK.</li>
</ul>
</div>
</div>





<div id="outline-container-orgb64842e" class="outline-3">
<h3 id="orgb64842e">Modelo CMY (Cyan, Magenta, Yellow)</h3>
<div class="outline-text-3" id="text-orgb64842e">
<p>
El modelo <b>CMY</b> es un modelo de mezcla sustractiva que utiliza los colores cian, magenta y amarillo. Es el modelo base para la impresi√≥n en color.
</p>

<ul class="org-ul">
<li><b>Caracter√≠sticas</b>:
<ul class="org-ul">
<li>Cada color se describe en t√©rminos de cu√°nto absorbe (resta) de la luz blanca que incide.</li>
</ul></li>

<li><b>Mezcla sustractiva</b>:
<ul class="org-ul">
<li><p>
La relaci√≥n entre CMY y RGB es:
\[
	\text{C} = 1 - \left( \frac{R}{L} \right), \quad \text{M} = 1 - \left( \frac{G}{L} \right), \quad \text{Y} = 1 - \left( \frac{B}{L} \right)
	\]
</p>

<p>
donde \( L \) es el valor m√°ximo de intensidad (por ejemplo, 255).
</p></li>
</ul></li>

<li><b>Conversi√≥n de RGB a CMY</b>:
<ul class="org-ul">
<li><p>
Si los valores RGB est√°n normalizados entre 0 y 1:
</p>

<p>
\[
    \text{C} = 1 - R, \quad \text{M} = 1 - G, \quad \text{Y} = 1 - B
    \]
</p></li>
</ul></li>

<li><b>Aplicaciones</b>:
<ul class="org-ul">
<li>Utilizado en la impresi√≥n de im√°genes en color, como impresoras de inyecci√≥n de tinta y offset.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgce78cb0" class="outline-3">
<h3 id="orgce78cb0">Modelo HSV (Hue, Saturation, Value)</h3>
<div class="outline-text-3" id="text-orgce78cb0">
<p>
El modelo <b>HSV</b> es una representaci√≥n m√°s intuitiva del color basada en la percepci√≥n humana, donde el matiz, la saturaci√≥n y el valor describen un color.
</p>

<ul class="org-ul">
<li><b>Caracter√≠sticas</b>:
<ul class="org-ul">
<li><b>Matiz (Hue, H)</b>: Representa el √°ngulo en el c√≠rculo crom√°tico, en grados [0¬∞, 360¬∞).</li>
<li><b>Saturaci√≥n (S)</b>: Indica la pureza del color, rango de [0,1].</li>
<li><b>Valor (V)</b>: Define el brillo del color, rango de [0,1].</li>
</ul></li>

<li><b>Conversi√≥n de RGB a HSV</b>:
<ul class="org-ul">
<li><p>
Primero, normalizar los valores RGB entre 0 y 1:
\[
    R' = \frac{R}{L}, \quad G' = \frac{G}{L}, \quad B' = \frac{B}{L}
    \]
</p>

<p>
donde \( L \) es el valor m√°ximo de intensidad (por ejemplo, 255).
</p></li>

<li>Calcular el valor m√°ximo y m√≠nimo:
\[
    C_{\max} = \max(R', G', B'), \quad C_{\min} = \min(R', G', B')
    \]</li>

<li>Diferencia:
\[
    \Delta = C_{\max} - C_{\min}
    \]</li>

<li><b>C√°lculo del Matiz (H)</b>:
\[
    \text{Si } \Delta = 0 \Rightarrow H = 0 \\
    \text{Si } C_{\max} = R' \Rightarrow H = 60^\circ \times \left( \frac{G' - B'}{\Delta} \mod 6 \right) \\
    \text{Si } C_{\max} = G' \Rightarrow H = 60^\circ \times \left( \frac{B' - R'}{\Delta} + 2 \right) \\
    \text{Si } C_{\max} = B' \Rightarrow H = 60^\circ \times \left( \frac{R' - G'}{\Delta} + 4 \right)
    \]</li>

<li><b>C√°lculo de la Saturaci√≥n (S)</b>:
\[
    \text{Si } C_{\max} = 0 \Rightarrow S = 0 \\
    \text{Si no} \Rightarrow S = \frac{\Delta}{C_{\max}}
    \]</li>

<li><b>C√°lculo del Valor (V)</b>:
\[
	V = C_{\max}
    \]</li>
</ul></li>

<li><b>Aplicaciones</b>:
<ul class="org-ul">
<li>Edici√≥n de im√°genes, interfaces de selecci√≥n de color y en procesamiento de video.</li>
</ul></li>

<li><b>Ejemplo</b>:
<ul class="org-ul">
<li>Convertir RGB (255, 255, 0) a HSV:
<ul class="org-ul">
<li>Normalizar:
\[
      R' = 1, \quad G' = 1, \quad B' = 0
      \]</li>
<li>\( C_{\max} = 1 \), \( C_{\min} = 0 \), \( \Delta = 1 \)</li>
<li>Calcular H:
\[
      H = 60^\circ \times \left( \frac{G' - B'}{\Delta} \mod 6 \right) = 60^\circ \times (1 \mod 6) = 60^\circ
      \]</li>
<li>Calcular S:
\[
      S = \frac{\Delta}{C_{\max}} = \frac{1}{1} = 1
      \]</li>
<li>Calcular V:
\[
      V = C_{\max} = 1
      \]</li>
<li><b>Resultado</b>: H = 60¬∞, S = 1, V = 1 (Color amarillo)</li>
</ul></li>
</ul></li>
</ul>
</div>

<div id="outline-container-org782f986" class="outline-4">
<h4 id="org782f986">HSV opencv</h4>
</div>

<div id="outline-container-orgc7b70c6" class="outline-4">
<h4 id="orgc7b70c6">Tutorial: Umbrales en el Modelo de Color HSV</h4>
<div class="outline-text-4" id="text-orgc7b70c6">
<p>
El espacio de color <b>HSV</b> (Hue, Saturation, Value) se utiliza para la segmentaci√≥n de colores en OpenCV. A continuaci√≥n, explicaremos los tres par√°metros principales y c√≥mo definir umbrales para detectar colores.
</p>
</div>
</div>

<div id="outline-container-orge4f8638" class="outline-4">
<h4 id="orge4f8638">Definici√≥n de los Par√°metros del Modelo HSV</h4>
<div class="outline-text-4" id="text-orge4f8638">
<ul class="org-ul">
<li><b>Hue (H)</b>: Tono o color b√°sico (rojo, verde, azul, etc.). En OpenCV va de 0 a 179.</li>
<li><b>Saturation (S)</b>: Intensidad del color. Va de 0 a 255.</li>
<li><b>Value (V)</b>: Brillo del color. Va de 0 a 255.</li>
</ul>
</div>
</div>

<div id="outline-container-org3a22d4e" class="outline-4">
<h4 id="org3a22d4e">Detectar un color en el espacio HSV</h4>
<div class="outline-text-4" id="text-org3a22d4e">
<p>
Puedes definir un rango de color utilizando los valores de Hue, Saturation y Value para segmentar colores espec√≠ficos en una imagen.
</p>
</div>

<ul class="org-ul">
<li><a id="org3f70cde"></a>C√≥digo en Python para detectar un color (Verde)<br />
<div class="outline-text-5" id="text-org3f70cde">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Leer la imagen</span>
<span style="color: #a0522d;">img</span> = cv2.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'imagen.jpg'</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir la imagen al espacio de color HSV</span>
<span style="color: #a0522d;">hsv</span> = cv2.cvtColor<span style="color: #707183;">(</span>img, cv2.COLOR_BGR2HSV<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el rango inferior y superior para detectar verde</span>
<span style="color: #a0522d;">lower_green</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>35, 100, 100<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Hue, Saturaci&#243;n, Brillo m&#237;nimos</span>
<span style="color: #a0522d;">upper_green</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>85, 255, 255<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Hue, Saturaci&#243;n, Brillo m&#225;ximos</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una m&#225;scara que solo incluya los p&#237;xeles dentro del rango</span>
<span style="color: #a0522d;">mask</span> = cv2.inRange<span style="color: #707183;">(</span>hsv, lower_green, upper_green<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la m&#225;scara a la imagen original</span>
<span style="color: #a0522d;">result</span> = cv2.bitwise_and<span style="color: #707183;">(</span>img, img, mask=mask<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la imagen con el color detectado</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Imagen Original"</span>, img<span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Color Detectado"</span>, result<span style="color: #707183;">)</span>
cv2.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>
</ul>
</div>

<div id="outline-container-orgb76806d" class="outline-4">
<h4 id="orgb76806d">Explicaci√≥n de los Par√°metros:</h4>
<div class="outline-text-4" id="text-orgb76806d">
<ul class="org-ul">
<li><b>lower<sub>green</sub> = np.array([35, 100, 100])</b>:
<ul class="org-ul">
<li>El valor m√≠nimo del tono es 35, correspondiente a un verde.</li>
<li>La saturaci√≥n m√≠nima es 100 para evitar colores desaturados.</li>
<li>El valor m√≠nimo de brillo es 100 para evitar colores muy oscuros.</li>
</ul></li>

<li><b>upper<sub>green</sub> = np.array([85, 255, 255])</b>:
<ul class="org-ul">
<li>El valor m√°ximo del tono es 85, cubriendo tonos verdes claros y oscuros.</li>
<li>La saturaci√≥n m√°xima es 255 para incluir verdes vibrantes.</li>
<li>El valor m√°ximo de brillo es 255 para incluir colores brillantes.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org685d8fc" class="outline-4">
<h4 id="org685d8fc">Ajustes de los Umbrales</h4>
<div class="outline-text-4" id="text-org685d8fc">
<p>
Dependiendo de las condiciones de luz y el color exacto que deseas detectar, puedes ajustar los valores de Hue, Saturaci√≥n y Brillo:
</p>

<ul class="org-ul">
<li><b><b>Hue (H)</b></b>: Ajusta el rango para detectar tonos espec√≠ficos del color.</li>
<li><b><b>Saturation (S)</b></b>: Ajusta para incluir colores m√°s o menos saturados.</li>
<li><b><b>Value (V)</b></b>: Ajusta para incluir colores m√°s claros o m√°s oscuros.</li>
</ul>
</div>
</div>

<div id="outline-container-org395568e" class="outline-4">
<h4 id="org395568e">Ejemplo visual: Rango de tonos para detectar verde</h4>
<div class="outline-text-4" id="text-org395568e">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Color</th>
<th scope="col" class="org-right">Hue (H)</th>
<th scope="col" class="org-right">Saturaci√≥n (S)</th>
<th scope="col" class="org-right">Brillo (V)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Verde claro</td>
<td class="org-right">35</td>
<td class="org-right">100</td>
<td class="org-right">100</td>
</tr>

<tr>
<td class="org-left">Verde oscuro</td>
<td class="org-right">85</td>
<td class="org-right">255</td>
<td class="org-right">255</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org1412b80" class="outline-4">
<h4 id="org1412b80">Uso de <code>cv2.inRange</code></h4>
<div class="outline-text-4" id="text-org1412b80">
<p>
La funci√≥n <code>cv2.inRange()</code> crea una m√°scara binaria donde los p√≠xeles dentro del rango son blancos (255) y los fuera del rango son negros (0).
</p>
</div>
</div>
</div>




<div id="outline-container-org9bde746" class="outline-3">
<h3 id="org9bde746">Modelo HSL (Hue, Saturation, Lightness)</h3>
<div class="outline-text-3" id="text-org9bde746">
<p>
El modelo <b>HSL</b> es similar al modelo HSV, pero en lugar de "valor" utiliza el t√©rmino <b>luminosidad (Lightness)</b>, que representa la cantidad de luz que refleja un color.
</p>

<ul class="org-ul">
<li><b>Caracter√≠sticas</b>:
<ul class="org-ul">
<li><b>Matiz (Hue, H)</b>: Mismo que en HSV.</li>
<li><b>Saturaci√≥n (S)</b>: Diferente definici√≥n que en HSV.</li>
<li><b>Luminosidad (L)</b>: Rango de [0,1], donde 0 es negro, 0.5 es el color puro, y 1 es blanco.</li>
</ul></li>

<li><b>Conversi√≥n de RGB a HSL</b>:
<ul class="org-ul">
<li>Normalizar RGB:
\[
    R' = \frac{R}{L}, \quad G' = \frac{G}{L}, \quad B' = \frac{B}{L}
    \]</li>

<li>Calcular \( C_{\max} \) y \( C_{\min} \), y \( \Delta \) como en HSV.</li>

<li><b><b>C√°lculo de la Luminosidad (L)</b></b>:
\[
    L = \frac{C_{\max} + C_{\min}}{2}
    \]</li>

<li><b>C√°lculo de la Saturaci√≥n (S)</b>:
\[
    \text{Si } \Delta = 0 \Rightarrow S = 0 \\
    \text{Si } L \leq 0.5 \Rightarrow S = \frac{\Delta}{C_{\max} + C_{\min}} \\
    \text{Si } L > 0.5 \Rightarrow S = \frac{\Delta}{2 - (C_{\max} + C_{\min})}
    \]</li>

<li><b>C√°lculo del Matiz (H)</b>:
<ul class="org-ul">
<li>Igual que en HSV.</li>
</ul></li>
</ul></li>

<li><b>Aplicaciones</b>:
<ul class="org-ul">
<li>Herramientas de dise√±o gr√°fico y edici√≥n de im√°genes, donde se necesita un control preciso sobre la luz y el color.</li>
</ul></li>

<li><b>Ejemplo</b>:
<ul class="org-ul">
<li>Convertir RGB (255, 0, 0) a HSL:
<ul class="org-ul">
<li>Normalizar:
\[
      R' = 1, \quad G' = 0, \quad B' = 0
      \]</li>
<li>\( C_{\max} = 1 \), \( C_{\min} = 0 \), \( \Delta = 1 \)</li>
<li>Calcular L:
\[
      L = \frac{1 + 0}{2} = 0.5
      \]</li>
<li>Calcular S:
\[
      S = \frac{\Delta}{C_{\max} + C_{\min}} = \frac{1}{1 + 0} = 1
      \]</li>
<li>Calcular H:
\[
      H = 60^\circ \times \left( \frac{G' - B'}{\Delta} \mod 6 \right) = 0^\circ
      \]</li>
<li><b><b>Resultado</b></b>: H = 0¬∞, S = 1, L = 0.5 (Color rojo puro)</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>



<div id="outline-container-org3daee88" class="outline-3">
<h3 id="org3daee88">Funci√≥n Bitwise opencv</h3>
<div class="outline-text-3" id="text-org3daee88">
</div>
<div id="outline-container-orga282be2" class="outline-4">
<h4 id="orga282be2">Tutorial: Operaciones Bitwise en OpenCV</h4>
<div class="outline-text-4" id="text-orga282be2">
<p>
Las operaciones bitwise en OpenCV son √∫tiles para realizar
manipulaciones de im√°genes como la creaci√≥n de m√°scaras, la
combinaci√≥n de im√°genes, o efectos visuales.
</p>
</div>


<ul class="org-ul">
<li><a id="org0eaa301"></a>1. Operaci√≥n <code>cv2.bitwise_and</code><br />
<div class="outline-text-5" id="text-org0eaa301">
<p>
Esta operaci√≥n realiza una operaci√≥n AND bit a bit sobre los p√≠xeles
correspondientes de dos im√°genes. Devuelve una imagen donde un p√≠xel
ser√° 1 si ambos p√≠xeles en las im√°genes de entrada son 1.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear dos im&#225;genes en negro</span>
<span style="color: #a0522d;">img1</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>300, 300<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>
img2 = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>300, 300<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un rect&#225;ngulo blanco en img1</span>
cv2.rectangle<span style="color: #707183;">(</span>img1, <span style="color: #7388d6;">(</span>50, 50<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>250, 250<span style="color: #7388d6;">)</span>, 255, -1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un c&#237;rculo blanco en img2</span>
cv2.circle<span style="color: #707183;">(</span>img2, <span style="color: #7388d6;">(</span>150, 150<span style="color: #7388d6;">)</span>, 100, 255, -1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la operaci&#243;n bitwise AND</span>
result = cv2.bitwise_and<span style="color: #707183;">(</span>img1, img2<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar las im&#225;genes</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"img1"</span>, img1<span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"img2"</span>, img2<span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"AND Result"</span>, result<span style="color: #707183;">)</span>
cv2.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>

<li><a id="org2ef6415"></a>2. Operaci√≥n <code>cv2.bitwise_or</code><br />
<div class="outline-text-5" id="text-org2ef6415">
<p>
Realiza una operaci√≥n OR bit a bit entre los p√≠xeles de dos im√°genes. El resultado ser√° 1 si al menos uno de los p√≠xeles correspondientes es 1.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear dos im&#225;genes en negro</span>
<span style="color: #a0522d;">img1</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>300, 300<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>
img2 = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>300, 300<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un rect&#225;ngulo blanco en img1</span>
cv2.rectangle<span style="color: #707183;">(</span>img1, <span style="color: #7388d6;">(</span>50, 50<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>250, 250<span style="color: #7388d6;">)</span>, 255, -1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un c&#237;rculo blanco en img2</span>
cv2.circle<span style="color: #707183;">(</span>img2, <span style="color: #7388d6;">(</span>150, 150<span style="color: #7388d6;">)</span>, 100, 255, -1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la operaci&#243;n bitwise OR</span>
result = cv2.bitwise_or<span style="color: #707183;">(</span>img1, img2<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar las im&#225;genes</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"img1"</span>, img1<span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"img2"</span>, img2<span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"OR Result"</span>, result<span style="color: #707183;">)</span>
cv2.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>

<li><a id="org8c74b27"></a>3. Operaci√≥n <code>cv2.bitwise_xor</code><br />
<div class="outline-text-5" id="text-org8c74b27">
<p>
La operaci√≥n XOR devuelve una imagen donde un p√≠xel ser√° 1 si exactamente uno de los p√≠xeles correspondientes en las im√°genes de entrada es 1.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear dos im&#225;genes en negro</span>
<span style="color: #a0522d;">img1</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>300, 300<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>
img2 = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>300, 300<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un rect&#225;ngulo blanco en img1</span>
cv2.rectangle<span style="color: #707183;">(</span>img1, <span style="color: #7388d6;">(</span>50, 50<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>250, 250<span style="color: #7388d6;">)</span>, 255, -1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un c&#237;rculo blanco en img2</span>
cv2.circle<span style="color: #707183;">(</span>img2, <span style="color: #7388d6;">(</span>150, 150<span style="color: #7388d6;">)</span>, 100, 255, -1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la operaci&#243;n bitwise XOR</span>
result = cv2.bitwise_xor<span style="color: #707183;">(</span>img1, img2<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar las im&#225;genes</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"img1"</span>, img1<span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"img2"</span>, img2<span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"XOR Result"</span>, result<span style="color: #707183;">)</span>
cv2.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>

<li><a id="org2238331"></a>4. Operaci√≥n <code>cv2.bitwise_not</code><br />
<div class="outline-text-5" id="text-org2238331">
<p>
La operaci√≥n NOT invierte los colores de la imagen. Los p√≠xeles blancos se convierten en negros y viceversa.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una imagen en negro</span>
<span style="color: #a0522d;">img</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>300, 300<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un rect&#225;ngulo blanco</span>
cv2.rectangle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>50, 50<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>250, 250<span style="color: #7388d6;">)</span>, 255, -1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la operaci&#243;n bitwise NOT</span>
result = cv2.bitwise_not<span style="color: #707183;">(</span>img<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar las im&#225;genes</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Original"</span>, img<span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"NOT Result"</span>, result<span style="color: #707183;">)</span>
cv2.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>

<li><a id="org5d1c47b"></a>Ejemplo pr√°ctico: Enmascarar una regi√≥n de inter√©s (ROI)<br />
<div class="outline-text-5" id="text-org5d1c47b">
<p>
Aqu√≠ aplicamos operaciones bitwise para enmascarar y combinar una imagen.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen principal</span>
<span style="color: #a0522d;">img1</span> = cv2.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'imagen_principal.jpg'</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen que queremos enmascarar</span>
<span style="color: #a0522d;">img2</span> = cv2.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'logo.png'</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener las dimensiones de la segunda imagen (logo)</span>
<span style="color: #a0522d;">rows</span>, <span style="color: #a0522d;">cols</span>, <span style="color: #a0522d;">channels</span> = img2.shape

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir la regi&#243;n de inter&#233;s (ROI) en la imagen principal</span>
<span style="color: #a0522d;">roi</span> = img1<span style="color: #707183;">[</span>0:rows, 0:cols<span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir la imagen del logo a escala de grises</span>
<span style="color: #a0522d;">img2gray</span> = cv2.cvtColor<span style="color: #707183;">(</span>img2, cv2.COLOR_BGR2GRAY<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una m&#225;scara binaria a partir de la imagen en escala de grises</span>
<span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">mask</span> = cv2.threshold<span style="color: #707183;">(</span>img2gray, 10, 255, cv2.THRESH_BINARY<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Invertir la m&#225;scara</span>
<span style="color: #a0522d;">mask_inv</span> = cv2.bitwise_not<span style="color: #707183;">(</span>mask<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Hacer visible el fondo de la imagen principal en la regi&#243;n del logo</span>
<span style="color: #a0522d;">img1_bg</span> = cv2.bitwise_and<span style="color: #707183;">(</span>roi, roi, mask=mask_inv<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Extraer el logo</span>
img2_fg = cv2.bitwise_and<span style="color: #707183;">(</span>img2, img2, mask=mask<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Combinar el fondo y el logo</span>
dst = cv2.add<span style="color: #707183;">(</span>img1_bg, img2_fg<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Colocar la imagen combinada en la imagen principal</span>
img1<span style="color: #707183;">[</span>0:rows, 0:cols<span style="color: #707183;">]</span> = dst

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen final</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Resultado"</span>, img1<span style="color: #707183;">)</span>
cv2.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>
</ul>
</div>
</div>


<div id="outline-container-org645e124" class="outline-3">
<h3 id="org645e124">Definici√≥n: Operaci√≥n Bit a Bit</h3>
<div class="outline-text-3" id="text-org645e124">
<p>
Una <b><b>operaci√≥n bit a bit</b></b> (en ingl√©s, <b>bitwise operation</b>) es una operaci√≥n que se realiza directamente sobre los bits de los operandos. Las operaciones se ejecutan sobre los bits correspondientes de los n√∫meros en formato binario.
</p>
</div>

<div id="outline-container-org48f7f51" class="outline-4">
<h4 id="org48f7f51">Principales operaciones bit a bit</h4>
<div class="outline-text-4" id="text-org48f7f51">
</div>
<ul class="org-ul">
<li><a id="org088b49c"></a>1. AND bit a bit (<code>&amp;</code>)<br />
<div class="outline-text-5" id="text-org088b49c">
<p>
Devuelve `1` si ambos bits en la misma posici√≥n son `1`, de lo contrario devuelve `0`.
</p>

<pre class="example" id="org142c5f2">
A = 1010 (10 en decimal)
B = 1100 (12 en decimal)
Resultado: 1000 (8 en decimal)
</pre>
</div>
</li>

<li><a id="orgd422476"></a>2. OR bit a bit (<code>|</code>)<br />
<div class="outline-text-5" id="text-orgd422476">
<p>
Devuelve `1` si al menos uno de los bits en la misma posici√≥n es `1`, de lo contrario devuelve `0`.
</p>

<pre class="example" id="org259edc9">
A = 1010 (10 en decimal)
B = 1100 (12 en decimal)
Resultado: 1110 (14 en decimal)
</pre>
</div>
</li>

<li><a id="orgaefa567"></a>3. XOR bit a bit (<code>^</code>)<br />
<div class="outline-text-5" id="text-orgaefa567">
<p>
Devuelve `1` si los bits en la misma posici√≥n son diferentes, y `0` si son iguales.
</p>

<pre class="example" id="org85f6760">
A = 1010 (10 en decimal)
B = 1100 (12 en decimal)
Resultado: 0110 (6 en decimal)
</pre>
</div>
</li>

<li><a id="org5a0332c"></a>4. NOT bit a bit (~~)<br />
<div class="outline-text-5" id="text-org5a0332c">
<p>
Invierte los bits de un n√∫mero: convierte los `0` en `1` y los `1` en `0`. En sistemas de complemento a dos, esto tambi√©n implica cambiar el signo de un n√∫mero entero.
</p>

<pre class="example" id="orgc135d54">
A = 1010 (10 en decimal)
Resultado: 0101 (-11 en decimal, si estamos usando complemento a dos)
</pre>
</div>
</li>

<li><a id="org105254d"></a>5. Desplazamiento a la izquierda (<code>&lt;&lt;</code>)<br />
<div class="outline-text-5" id="text-org105254d">
<p>
Desplaza todos los bits del n√∫mero hacia la izquierda por un n√∫mero espec√≠fico de posiciones. Los bits desplazados fuera del l√≠mite se descartan y se rellenan con ceros en el extremo derecho.
</p>

<pre class="example" id="orgebfff2b">
A = 0001 (1 en decimal)
A &lt;&lt; 2 = 0100 (4 en decimal)
</pre>
</div>
</li>

<li><a id="org7d9b2a5"></a>6. Desplazamiento a la derecha (<code>&gt;&gt;</code>)<br />
<div class="outline-text-5" id="text-org7d9b2a5">
<p>
Desplaza todos los bits del n√∫mero hacia la derecha por un n√∫mero espec√≠fico de posiciones. Los bits desplazados fuera del l√≠mite se descartan y el bit m√°s significativo depende del signo del n√∫mero.
</p>

<pre class="example" id="org04e942b">
A = 1000 (8 en decimal)
A &gt;&gt; 2 = 0010 (2 en decimal)
</pre>
</div>
</li>

<li><a id="org3cb58fd"></a>Aplicaciones de las operaciones bit a bit<br />
<div class="outline-text-5" id="text-org3cb58fd">
<ul class="org-ul">
<li><b><b>M√°scaras de bits</b></b>: Las operaciones bit a bit se usan para aplicar m√°scaras que seleccionan o modifican partes espec√≠ficas de un n√∫mero o secuencia binaria.</li>
<li><b><b>Manipulaci√≥n de im√°genes</b></b>: En procesamiento de im√°genes, las operaciones bit a bit son √∫tiles para combinar y modificar p√≠xeles en OpenCV.</li>
<li><b><b>Optimizaci√≥n de algoritmos</b></b>: Las operaciones bit a bit permiten optimizar c√°lculos en sistemas de bajo nivel o con restricciones de recursos.</li>
</ul>
</div>
</li>
</ul>
</div>
</div>



<div id="outline-container-orgc954ed7" class="outline-3">
<h3 id="orgc954ed7">Operadores Puntuales</h3>
<div class="outline-text-3" id="text-orgc954ed7">
</div>
<div id="outline-container-org9fdcac6" class="outline-4">
<h4 id="org9fdcac6">Definici√≥n</h4>
<div class="outline-text-4" id="text-org9fdcac6">
<p>
Los <b>operadores puntuales</b> son una clase de transformaciones aplicadas
en el procesamiento digital de im√°genes que operan sobre cada p√≠xel de
manera independiente. Esto significa que el valor de salida de un
p√≠xel depende √∫nicamente del valor de ese mismo p√≠xel en la imagen de
entrada, sin considerar los valores de los p√≠xeles vecinos.
</p>
</div>
</div>

<div id="outline-container-org595ec1b" class="outline-4">
<h4 id="org595ec1b">Caracter√≠sticas</h4>
<div class="outline-text-4" id="text-org595ec1b">
<ol class="org-ol">
<li><b>Independencia espacial</b>: Los operadores puntuales solo modifican
cada p√≠xel basado en su valor original, sin tener en cuenta su
entorno.</li>
<li><b>Simplicidad computacional</b>: Dado que no se necesita informaci√≥n de
los p√≠xeles vecinos, estas operaciones suelen ser m√°s r√°pidas y
eficientes.</li>
<li><b>Aplicaci√≥n en tiempo real</b>: Su bajo costo computacional los hace
adecuados para aplicaciones de procesamiento de im√°genes en tiempo
real.</li>
</ol>
</div>
</div>

<div id="outline-container-org5bea099" class="outline-4">
<h4 id="org5bea099">Tipos de Operadores Puntuales</h4>
<div class="outline-text-4" id="text-org5bea099">
</div>
<ul class="org-ul">
<li><a id="org3d4f0f7"></a>Operador de Identidad<br />
<div class="outline-text-5" id="text-org3d4f0f7">
<ul class="org-ul">
<li>No altera la imagen. Cada p√≠xel de la imagen de salida tiene el
mismo valor que el p√≠xel correspondiente en la imagen de entrada.</li>
<li>F√≥rmula: \( g(x, y) = f(x, y) \), donde \( f(x, y) \) es el valor del p√≠xel original y \( g(x, y) \) es el valor del p√≠xel modificado.</li>
</ul>
</div>
</li>

<li><a id="orga75e22f"></a>Negativo de la Imagen<br />
<div class="outline-text-5" id="text-orga75e22f">
<ul class="org-ul">
<li>Este operador invierte los valores de los p√≠xeles de una imagen, produciendo su negativo.</li>
<li>F√≥rmula: \( g(x, y) = L - 1 - f(x, y) \), donde \( L \) es el valor m√°ximo posible en la imagen (por ejemplo, 255 en im√°genes de 8 bits).</li>
<li>Uso: Se utiliza en t√©cnicas como la extracci√≥n de detalles o cuando es necesario invertir una imagen para un an√°lisis.</li>
</ul>
</div>
</li>

<li><a id="orgda0381f"></a>Umbralizaci√≥n (Thresholding)<br />
<div class="outline-text-5" id="text-orgda0381f">
<ul class="org-ul">
<li>Convierte la imagen a una versi√≥n binaria, donde los p√≠xeles con valores por encima de un umbral se establecen en un valor (generalmente blanco), y los que est√°n por debajo se establecen en otro (generalmente negro).</li>
<li>F√≥rmula: 
\[
     g(x, y) =
     0, & \text{si } f(x, y) \leq T \\
     L, & \text{si } f(x, y) > T
     \]</li>
<li>Uso: Se utiliza para segmentaci√≥n de im√°genes y procesamiento de im√°genes en blanco y negro.</li>
</ul>
</div>
</li>

<li><a id="org0b4c250"></a>Correcci√≥n Gamma<br />
<div class="outline-text-5" id="text-org0b4c250">
<ul class="org-ul">
<li>Ajusta los valores de intensidad de los p√≠xeles para modificar el brillo o contraste de la imagen.</li>
<li>F√≥rmula: \( g(x, y) = c \cdot f(x, y)^\gamma \), donde \( c \) es una constante de escala, y \( \gamma \) es el factor de correcci√≥n.</li>
<li>Uso: Corrige la distorsi√≥n de brillo en pantallas o para obtener una mejor representaci√≥n visual.</li>
</ul>
</div>
</li>

<li><a id="org9d6e35a"></a>Transformaciones Logar√≠tmicas<br />
<div class="outline-text-5" id="text-org9d6e35a">
<ul class="org-ul">
<li>Aumentan los detalles en regiones oscuras de la imagen al expandir los valores de intensidad bajos.</li>
<li>F√≥rmula: \( g(x, y) = c \cdot \log(1 + f(x, y)) \), donde \( c \) es una constante.</li>
<li>Uso: Mejora la visualizaci√≥n de im√°genes con una alta gama din√°mica (HDR), como im√°genes astron√≥micas.</li>
</ul>
</div>
</li>

<li><a id="org71c4a4b"></a>Correcci√≥n Lineal o Estiramiento de Contraste<br />
<div class="outline-text-5" id="text-org71c4a4b">
<ul class="org-ul">
<li>Expande los valores de intensidad en una imagen para cubrir un rango m√°s amplio, aumentando el contraste.</li>
<li>F√≥rmula:
\[
     g(x, y) = \frac{f(x, y) - f_{\min}}{f_{\max} - f_{\min}} \cdot (L - 1)
     \]</li>
<li>Uso: Aumenta el contraste en im√°genes con poca variaci√≥n de intensidad.</li>
</ul>
</div>
</li>

<li><a id="org3a8b23c"></a>Transformaciones de Potencia (Raise to Power Transform)<br />
<div class="outline-text-5" id="text-org3a8b23c">
<ul class="org-ul">
<li>Eleva cada valor de p√≠xel a una potencia \( n \), lo que permite ajustar el brillo y contraste de una imagen.</li>
<li>F√≥rmula: \( g(x, y) = c \cdot f(x, y)^n \).</li>
</ul>
</div>
</li>
</ul>
</div>

<div id="outline-container-orgcfaa096" class="outline-4">
<h4 id="orgcfaa096">Aplicaciones de Operadores Puntuales</h4>
<div class="outline-text-4" id="text-orgcfaa096">
<ul class="org-ul">
<li><b>Correcci√≥n de im√°genes</b>: Mejoran el brillo, contraste, y otros aspectos visuales de una imagen.</li>
<li><b>Segmentaci√≥n</b>: La umbralizaci√≥n es com√∫nmente usada para separar objetos de fondo en una imagen.</li>
<li><b>An√°lisis m√©dico</b>: Se utiliza para mejorar la visualizaci√≥n de im√°genes de rayos X, resonancias magn√©ticas o ultrasonidos.</li>
<li><b>Procesamiento en tiempo real</b>: Los operadores puntuales son √∫tiles en sistemas que requieren una r√°pida respuesta, como c√°maras de vigilancia o sistemas de visi√≥n artificial.</li>
</ul>

<p>
En resumen, los <b>operadores puntuales</b> son una herramienta fundamental en el procesamiento de im√°genes que permiten realizar transformaciones sencillas pero efectivas, mejorando la calidad visual o prepar√°ndolas para an√°lisis posteriores.
</p>
</div>
</div>
</div>



<div id="outline-container-orgc4863b1" class="outline-3">
<h3 id="orgc4863b1">Explicaci√≥n detallada de los Momentos</h3>
<div class="outline-text-3" id="text-orgc4863b1">
<p>
Los <b><b>momentos</b></b> son valores estad√≠sticos calculados a partir de los p√≠xeles de un objeto.
Se utilizan para describir:
</p>
<ul class="org-ul">
<li>El √°rea.</li>
<li>La posici√≥n.</li>
<li>La orientaci√≥n.</li>
<li>La forma.</li>
</ul>

<p>
OpenCV devuelve un diccionario con varios tipos de momentos:
</p>
</div>

<div id="outline-container-orgeec78dc" class="outline-4">
<h4 id="orgeec78dc">Momentos espaciales</h4>
<div class="outline-text-4" id="text-orgeec78dc">
<p>
Son los b√°sicos, dependen de la posici√≥n en la imagen.
</p>

<ul class="org-ul">
<li>m00 ‚Üí √Årea del objeto.  
Es equivalente a la suma de todos los p√≠xeles blancos dentro del contorno.</li>

<li>m10 y m01 ‚Üí Primer momento en x y en y.  
Se usan para calcular el <b><b>centroide</b></b> (punto medio) de la figura:
\[
  cx = \frac{m10}{m00}, \quad cy = \frac{m01}{m00}
  \]</li>

<li>m20, m02, m11 ‚Üí Segundo orden de los momentos espaciales.  
Describen c√≥mo est√° distribuida la masa del objeto respecto a los ejes.</li>
</ul>
</div>
</div>

<div id="outline-container-org8f6ae57" class="outline-4">
<h4 id="org8f6ae57">Momentos centrales (mu)</h4>
<div class="outline-text-4" id="text-org8f6ae57">
<p>
Los momentos centrales se calculan respecto al centroide, y por lo tanto son <b><b>invariantes a la traslaci√≥n</b></b> (no importa d√≥nde est√© el objeto en la imagen).
</p>

<ul class="org-ul">
<li>mu20, mu02 ‚Üí Relacionados con la dispersi√≥n horizontal y vertical.  
Sirven para calcular la <b><b>orientaci√≥n y elongaci√≥n</b></b> del objeto.</li>

<li>mu11 ‚Üí Describe la correlaci√≥n entre los ejes x e y.  
Si es cero, indica que la figura est√° alineada con los ejes.</li>
</ul>
</div>
</div>

<div id="outline-container-org5a436ff" class="outline-4">
<h4 id="org5a436ff">Momentos normalizados (nu)</h4>
<div class="outline-text-4" id="text-org5a436ff">
<p>
Se obtienen dividiendo los momentos centrales por una potencia de m00.  
Esto hace que sean <b><b>invariantes a la escala</b></b> (el tama√±o del objeto no afecta).
</p>
</div>
</div>

<div id="outline-container-org7867743" class="outline-4">
<h4 id="org7867743">Hu Moments</h4>
<div class="outline-text-4" id="text-org7867743">
<p>
Los <b><b>Hu Moments</b></b> (siete en total) son combinaciones matem√°ticas de los momentos normalizados.  
Sus propiedades:
</p>
<ul class="org-ul">
<li>Invariantes a <b><b>traslaci√≥n</b></b> (no importa la posici√≥n).</li>
<li>Invariantes a <b><b>escala</b></b> (no importa el tama√±o).</li>
<li>Invariantes a <b><b>rotaci√≥n</b></b> (no importa la orientaci√≥n).</li>
<li>Incluso algunos son invariantes a simetr√≠a espejo.</li>
</ul>

<p>
Se usan en reconocimiento de patrones.  
Ejemplo: distinguir entre un c√≠rculo y un tri√°ngulo, aunque est√©n en posiciones diferentes y con tama√±os distintos.
</p>
</div>
</div>

<div id="outline-container-orgb74cb34" class="outline-4">
<h4 id="orgb74cb34">Resumen gr√°fico</h4>
<div class="outline-text-4" id="text-orgb74cb34">
<ol class="org-ol">
<li>m00 ‚Üí √°rea.</li>
<li>(m10, m01) ‚Üí centroide.</li>
<li>(mu20, mu11, mu02) ‚Üí forma y orientaci√≥n.</li>
<li>Hu Moments ‚Üí descripci√≥n √∫nica de la figura, √∫til para comparar.</li>
</ol>
</div>
</div>
</div>



<div id="outline-container-orge31d26a" class="outline-3">
<h3 id="orge31d26a">C√°lculo de los momentos espaciales (m00)</h3>
<div class="outline-text-3" id="text-orge31d26a">
<p>
Los <b><b>momentos espaciales</b></b> se definen como:
</p>

<p>
\[
m_{ij} = \sum_x \sum_y x^i \, y^j \, f(x,y)
\]
</p>

<p>
donde:
</p>
<ul class="org-ul">
<li>\(x, y\) ‚Üí coordenadas de los p√≠xeles.</li>
<li>\(i, j\) ‚Üí orden del momento.</li>
<li>\(f(x,y)\) ‚Üí valor del p√≠xel (en im√°genes binarias es 1 para blanco y 0 para negro).</li>
</ul>
</div>

<div id="outline-container-orgb2a8c50" class="outline-4">
<h4 id="orgb2a8c50">Ejemplo espec√≠fico de m00</h4>
<div class="outline-text-4" id="text-orgb2a8c50">
<p>
Si \(i = 0\) y \(j = 0\):
</p>

<p>
\[
m_{00} = \sum_x \sum_y f(x,y)
\]
</p>

<p>
Esto significa que <b><b>m00 es simplemente la suma de todos los p√≠xeles blancos dentro del contorno</b></b>.  
En una imagen binaria (0 y 255), normalmente se normaliza para que los p√≠xeles valgan 1 en blanco.  
Por lo tanto:
</p>

<ul class="org-ul">
<li>Si un objeto ocupa 500 p√≠xeles ‚Üí \(m00 = 500\).</li>
<li>Es equivalente al <b><b>√°rea</b></b> del contorno.</li>
</ul>
</div>
</div>

<div id="outline-container-org7eb5ce9" class="outline-4">
<h4 id="org7eb5ce9">Ejemplo en c√≥digo</h4>
<div class="outline-text-4" id="text-org7eb5ce9">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una imagen negra con un c&#237;rculo blanco</span>
<span style="color: #a0522d;">img</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>200,200<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>
cv2.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>100,100<span style="color: #7388d6;">)</span>, 40, 255, -1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular contornos</span>
<span style="color: #a0522d;">contours</span>, <span style="color: #a0522d;">_</span> = cv2.findContours<span style="color: #707183;">(</span>img, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Momentos del primer contorno</span>
M = cv2.moments<span style="color: #707183;">(</span>contours<span style="color: #7388d6;">[</span>0<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"m00 (&#225;rea):"</span>, M<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m00"</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"&#193;rea con cv2.contourArea:"</span>, cv2.contourArea<span style="color: #7388d6;">(</span>contours<span style="color: #909183;">[</span>0<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>

<p>
La salida mostrar√° que `m00` y el √°rea calculada con `cv2.contourArea()` son pr√°cticamente iguales.
</p>
</div>
</div>
</div>





<div id="outline-container-orgd21b9df" class="outline-3">
<h3 id="orgd21b9df">C√°lculo exacto del centroide con momentos</h3>
<div class="outline-text-3" id="text-orgd21b9df">
<p>
La f√≥rmula general para los momentos espaciales es:
</p>

<p>
\[
m_{ij} = \sum_x \sum_y x^i \, y^j \, f(x,y)
\]
</p>

<p>
donde:
</p>
<ul class="org-ul">
<li>\(f(x,y)\) = valor del p√≠xel en la posici√≥n \((x,y)\).</li>
<li>En im√°genes binarias, \(f(x,y) = 1\) si el p√≠xel pertenece al objeto, y \(0\) en caso contrario.</li>
</ul>
</div>

<div id="outline-container-org3b91040" class="outline-4">
<h4 id="org3b91040">F√≥rmulas del centroide</h4>
<div class="outline-text-4" id="text-org3b91040">
<p>
El centroide \((c_x, c_y)\) se obtiene como:
</p>

<p>
\[
c_x = \frac{m_{10}}{m_{00}}, \quad c_y = \frac{m_{01}}{m_{00}}
\]
</p>

<p>
donde:
</p>
<ul class="org-ul">
<li>\(m_{00}\) = √°rea (n√∫mero de p√≠xeles del objeto).</li>
<li>\(m_{10} = \sum_x \sum_y x \cdot f(x,y)\)</li>
<li>\(m_{01} = \sum_x \sum_y y \cdot f(x,y)\)</li>
</ul>

<p>
Es decir:
</p>
<ul class="org-ul">
<li>\(m_{10}\) acumula la <b><b>suma de las coordenadas x de todos los p√≠xeles</b></b> del objeto.</li>
<li>\(m_{01}\) acumula la <b><b>suma de las coordenadas y de todos los p√≠xeles</b></b> del objeto.</li>
</ul>

<p>
Cuando divides por \(m_{00}\) (√°rea), lo que obtienes es el <b><b>promedio de las coordenadas x e y</b></b>, que corresponde al centro de masa.
</p>
</div>
</div>

<div id="outline-container-org54b5602" class="outline-4">
<h4 id="org54b5602">Ejemplo manual</h4>
<div class="outline-text-4" id="text-org54b5602">
<p>
Supongamos un objeto con 4 p√≠xeles en coordenadas:
</p>
<ul class="org-ul">
<li>(1,1), (1,2), (2,1), (2,2)</li>
</ul>

<p>
C√°lculos:
</p>
<ul class="org-ul">
<li>\(m_{00} = 4\)  (4 p√≠xeles en total).</li>
<li>\(m_{10} = 1+1+2+2 = 6\).</li>
<li>\(m_{01} = 1+2+1+2 = 6\).</li>
</ul>

<p>
Centroide:
\[
c_x = \frac{6}{4} = 1.5, \quad c_y = \frac{6}{4} = 1.5
\]
</p>
</div>
</div>

<div id="outline-container-orgd61b34d" class="outline-4">
<h4 id="orgd61b34d">Ejemplo en OpenCV</h4>
<div class="outline-text-4" id="text-orgd61b34d">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Imagen negra con un rect&#225;ngulo blanco</span>
<span style="color: #a0522d;">img</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>200,200<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>
cv2.rectangle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>50,50<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>150,150<span style="color: #7388d6;">)</span>, 255, -1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Contornos</span>
<span style="color: #a0522d;">contours</span>, <span style="color: #a0522d;">_</span> = cv2.findContours<span style="color: #707183;">(</span>img, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Momentos</span>
M = cv2.moments<span style="color: #707183;">(</span>contours<span style="color: #7388d6;">[</span>0<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Centroide</span>
cx = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>M<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m10"</span><span style="color: #7388d6;">]</span> / M<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m00"</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
cy = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>M<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m01"</span><span style="color: #7388d6;">]</span> / M<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m00"</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Centroide exacto:"</span>, <span style="color: #7388d6;">(</span>cx, cy<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>

<p>
Si corres este c√≥digo, el centroide saldr√° en <b><b>(100,100)</b></b>, que es justo el centro geom√©trico del rect√°ngulo.
</p>
</div>
</div>
</div>





<div id="outline-container-orgd1351cf" class="outline-3">
<h3 id="orgd1351cf">Comparaci√≥n entre Centroide (momentos) y Bounding Box (extremos)</h3>
<div class="outline-text-3" id="text-orgd1351cf">
<p>
Existen dos t√©cnicas principales para calcular el "centro" de un objeto en visi√≥n
por computadora:
</p>

<ol class="org-ol">
<li><b><b>Centroide (momentos)</b></b>:  
Calcula el centro de masa de todos los p√≠xeles.  
F√≥rmula:
\[
   c_x = \frac{m_{10}}{m_{00}}, \quad c_y = \frac{m_{01}}{m_{00}}
   \]</li>

<li><b><b>Centro geom√©trico del bounding box (extremos)</b></b>:  
Calcula el punto medio entre el borde m√°s lejano a la izquierda/derecha y el
m√°s alto/bajo.  
F√≥rmula:
\[
   c_x = \frac{x_{\min} + x_{\max}}{2}, \quad c_y = \frac{y_{\min} + y_{\max}}{2}
   \]</li>
</ol>
</div>

<div id="outline-container-org0a51304" class="outline-4">
<h4 id="org0a51304">C√≥digo de ejemplo en Python</h4>
<div class="outline-text-4" id="text-org0a51304">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear imagen negra con dos manchas de diferente tama&#241;o</span>
<span style="color: #a0522d;">img</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>300,300<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>
cv2.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>80,150<span style="color: #7388d6;">)</span>, 40, 255, -1<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mancha grande</span>
cv2.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>200,150<span style="color: #7388d6;">)</span>, 20, 255, -1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mancha peque&#241;a</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener contornos</span>
<span style="color: #a0522d;">contours</span>, <span style="color: #a0522d;">_</span> = cv2.findContours<span style="color: #707183;">(</span>img, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE<span style="color: #707183;">)</span>
c = <span style="color: #483d8b;">max</span><span style="color: #707183;">(</span>contours, key=cv2.contourArea<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Tomamos el mayor contorno</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">================================</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Centroide con momentos</span>
M = cv2.moments<span style="color: #707183;">(</span>c<span style="color: #707183;">)</span>
cx_m = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>M<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m10"</span><span style="color: #7388d6;">]</span> / M<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m00"</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
cy_m = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>M<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m01"</span><span style="color: #7388d6;">]</span> / M<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m00"</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">================================</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Centro geom&#233;trico con bounding box</span>
x, y, w, h = cv2.boundingRect<span style="color: #707183;">(</span>c<span style="color: #707183;">)</span>
cx_b = x + w//2
cy_b = y + h//2

<span style="color: #b22222;"># </span><span style="color: #b22222;">================================</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar resultados</span>
img_color = cv2.cvtColor<span style="color: #707183;">(</span>img, cv2.COLOR_GRAY2BGR<span style="color: #707183;">)</span>
cv2.drawContours<span style="color: #707183;">(</span>img_color, <span style="color: #7388d6;">[</span>c<span style="color: #7388d6;">]</span>, -1, <span style="color: #7388d6;">(</span>0,255,0<span style="color: #7388d6;">)</span>, 2<span style="color: #707183;">)</span>           <span style="color: #b22222;"># </span><span style="color: #b22222;">Contorno en verde</span>
cv2.circle<span style="color: #707183;">(</span>img_color, <span style="color: #7388d6;">(</span>cx_m, cy_m<span style="color: #7388d6;">)</span>, 5, <span style="color: #7388d6;">(</span>0,0,255<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>        <span style="color: #b22222;"># </span><span style="color: #b22222;">Centroide en rojo</span>
cv2.circle<span style="color: #707183;">(</span>img_color, <span style="color: #7388d6;">(</span>cx_b, cy_b<span style="color: #7388d6;">)</span>, 5, <span style="color: #7388d6;">(</span>255,0,0<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>        <span style="color: #b22222;"># </span><span style="color: #b22222;">Bounding box en azul</span>
cv2.rectangle<span style="color: #707183;">(</span>img_color, <span style="color: #7388d6;">(</span>x,y<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>x+w,y+h<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>255,255,0<span style="color: #7388d6;">)</span>, 2<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Caja delimitadora</span>

cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Centroide (rojo) vs BoundingBox (azul)"</span>, img_color<span style="color: #707183;">)</span>
cv2.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Centroide (momentos):"</span>, <span style="color: #7388d6;">(</span>cx_m, cy_m<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Centro bounding box:"</span>, <span style="color: #7388d6;">(</span>cx_b, cy_b<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org511c28b" class="outline-4">
<h4 id="org511c28b">Interpretaci√≥n</h4>
<div class="outline-text-4" id="text-org511c28b">
<ul class="org-ul">
<li>El <b><b>centroide (rojo)</b></b> se desplazar√° hacia la mancha m√°s grande porque
representa el promedio ponderado de todos los p√≠xeles.</li>
<li>El <b><b>centro del bounding box (azul)</b></b> estar√° justo en el medio de los extremos
del objeto, sin importar qu√© mancha sea m√°s grande.</li>
</ul>
</div>
</div>

<div id="outline-container-org5c92bf5" class="outline-4">
<h4 id="org5c92bf5">Conclusi√≥n</h4>
<div class="outline-text-4" id="text-org5c92bf5">
<ul class="org-ul">
<li>El <b><b>centroide</b></b> es m√°s preciso para an√°lisis de formas y seguimiento.</li>
<li>El <b><b>bounding box</b></b> es m√°s r√°pido y se usa en detecci√≥n de objetos.</li>
</ul>
</div>
</div>
</div>






<div id="outline-container-orgaf854f9" class="outline-3">
<h3 id="orgaf854f9">Proceso de Multiplicaci√≥n de una Matriz de Transformaci√≥n por una Coordenada de P√≠xel</h3>
<div class="outline-text-3" id="text-orgaf854f9">
<p>
Cuando aplicamos una transformaci√≥n geom√©trica a una imagen, multiplicamos las coordenadas de cada p√≠xel por una <b>matriz de transformaci√≥n</b>. Este proceso se desglosa paso a paso de la siguiente manera.
</p>
</div>

<div id="outline-container-org8c23f41" class="outline-4">
<h4 id="org8c23f41">1. Representaci√≥n de las coordenadas en forma homog√©nea</h4>
<div class="outline-text-4" id="text-org8c23f41">
<p>
Las coordenadas \((x, y)\) de un p√≠xel se convierten a <b>coordenadas
homog√©neas</b> para que las traslaciones puedan representarse mediante
multiplicaciones de matrices. Un p√≠xel en coordenadas homog√©neas es:
\[
</p>
\begin{pmatrix}
x \\
y \\
1
\end{pmatrix}
<p>
\]
</p>
</div>
</div>

<div id="outline-container-org01de00b" class="outline-4">
<h4 id="org01de00b">2. Definici√≥n de la matriz de transformaci√≥n</h4>
<div class="outline-text-4" id="text-org01de00b">
<p>
La matriz de transformaci√≥n af√≠n general tiene la forma:
\[
T= \begin{pmatrix}
a_{11} & a_{12} & t_x \\
a_{21} & a_{22} & t_y \\
0 & 0 & 1
\end{pmatrix}
\]
</p>

<ul class="org-ul">
<li>\(a_{11}, a_{12}, a_{21}, a_{22}\) definen las transformaciones de rotaci√≥n, escalado y cizallamiento.</li>
<li>\(t_x, t_y\) son los par√°metros de traslaci√≥n en los ejes \(x\) e \(y\).</li>
</ul>
</div>
</div>

<div id="outline-container-orgc63c0a8" class="outline-4">
<h4 id="orgc63c0a8">3. Multiplicaci√≥n de la matriz por las coordenadas</h4>
<div class="outline-text-4" id="text-orgc63c0a8">
<p>
Multiplicamos la matriz de transformaci√≥n \(T\) por las coordenadas homog√©neas \((x, y, 1)\) para obtener las nuevas coordenadas \((x', y', 1)\).
</p>


\begin{pmatrix}
x' \\
y' \\
1
\end{pmatrix}
<p>
=
</p>
\begin{pmatrix}
\cos(\theta) & -\sin(\theta) & 0 \\
\sin(\theta) & \cos(\theta) & 0 \\
0 & 0 & 1
\end{pmatrix}
<p>
&sdot;
</p>
\begin{pmatrix}
x \\
y \\
1
\end{pmatrix}


<p>
La multiplicaci√≥n de matrices se desglosa a continuaci√≥n.
</p>
</div>

<ul class="org-ul">
<li><a id="org4e5450d"></a>3.1 C√°lculo del nuevo valor de \(x'\)<br />
<div class="outline-text-5" id="text-org4e5450d">
<p>
\[
x' = a_{11} \cdot x + a_{12} \cdot y + t_x
\]
</p>
</div>
</li>

<li><a id="org6a934ed"></a>3.2 C√°lculo del nuevo valor de \(y'\)<br />
<div class="outline-text-5" id="text-org6a934ed">
<p>
\[
y' = a_{21} \cdot x + a_{22} \cdot y + t_y
\]
</p>
</div>
</li>

<li><a id="orgae5058b"></a>3.3 El valor constante de la tercera coordenada<br />
<div class="outline-text-5" id="text-orgae5058b">
<p>
La tercera coordenada se mantiene como \(1\), ya que no cambia en las transformaciones afines.
</p>

<p>
\[1 = (0 \cdot x) + (0 \cdot y) + 1 \]
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org618e8c2" class="outline-4">
<h4 id="org618e8c2">4. Resultado final</h4>
<div class="outline-text-4" id="text-org618e8c2">
<p>
El resultado de la multiplicaci√≥n es un nuevo vector con las coordenadas transformadas:
</p>

\begin{pmatrix}
x' \\
y' \\
1
\end{pmatrix}
</div>
</div>

<div id="outline-container-orge48c8c3" class="outline-4">
<h4 id="orge48c8c3">Ejemplo concreto: Rotaci√≥n</h4>
<div class="outline-text-4" id="text-orge48c8c3">
<p>
Si queremos rotar un p√≠xel \((x, y)\) en un √°ngulo \(\theta\), usamos la matriz de rotaci√≥n:
</p>

<p>
\[
R = \begin{pmatrix}
\cos(\theta) & -\sin(\theta) & 0 \\
\sin(\theta) & \cos(\theta) & 0 \\
0 & 0 & 1
\end{pmatrix}
\]
</p>

<p>
Multiplicamos esta matriz por las coordenadas homog√©neas:
</p>

<p>
\[
</p>
\begin{pmatrix}
x' \\
y' \\
1
\end{pmatrix}
<p>
=
</p>
\begin{pmatrix}
\cos(\theta) & -\sin(\theta) & 0 \\
\sin(\theta) & \cos(\theta) & 0 \\
0 & 0 & 1
\end{pmatrix}
<p>
&sdot;
</p>
\begin{pmatrix}
x \\
y \\
1
\end{pmatrix}
<p>
\]
Esto resulta en las nuevas coordenadas despu√©s de la rotaci√≥n:
</p>

<p>
\[
x' = x \cdot \cos(\theta) - y \cdot \sin(\theta)
y' = x \cdot \sin(\theta) + y \cdot \cos(\theta)
\]
</p>
</div>
</div>
<div id="outline-container-orgde00655" class="outline-4">
<h4 id="orgde00655">Resumen del proceso</h4>
<div class="outline-text-4" id="text-orgde00655">
<ol class="org-ol">
<li>Convertir las coordenadas \((x, y)\) a coordenadas homog√©neas \((x, y, 1)\).</li>
<li>Definir la matriz de transformaci√≥n \(T\).</li>
<li>Multiplicar la matriz \(T\) por las coordenadas homog√©neas.</li>
<li>Obtener las nuevas coordenadas \((x', y')\) que represe</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-orgad63c6c" class="outline-3">
<h3 id="orgad63c6c">Transformaciones Geom√©tricas en Im√°genes</h3>
<div class="outline-text-3" id="text-orgad63c6c">
<p>
Las <b>transformaciones geom√©tricas</b> en im√°genes permiten cambiar la posici√≥n, orientaci√≥n y escala de las im√°genes sin alterar su contenido. Estas transformaciones son esenciales en tareas como alineaci√≥n de im√°genes, registro de im√°genes, realidad aumentada, y sistemas de visi√≥n por computadora.
</p>
</div>

<div id="outline-container-org96ab84f" class="outline-4">
<h4 id="org96ab84f">1. Traslaci√≥n (Translation)</h4>
<div class="outline-text-4" id="text-org96ab84f">
<p>
La traslaci√≥n desplaza la imagen en el espacio sin modificar su forma o tama√±o. La f√≥rmula matem√°tica es:
</p>

<p>
\[
   T(x, y) = (x + t_x, y + t_y)
   \]
</p>

<p>
Donde \(t_x\) y \(t_y\) son las cantidades de desplazamiento. La matriz de traslaci√≥n es:
</p>

<p>
\[
   T = \begin{pmatrix}
   1 & 0 & t_x \\
   0 & 1 & t_y \\
   0 & 0 & 1
   \end{pmatrix}
   \]
</p>
</div>
</div>

<div id="outline-container-org3bcd0d9" class="outline-4">
<h4 id="org3bcd0d9">2. Rotaci√≥n (Rotation)</h4>
<div class="outline-text-4" id="text-org3bcd0d9">
<p>
La rotaci√≥n gira la imagen un √°ngulo \(\theta\). La ecuaci√≥n de rotaci√≥n es:
</p>

<p>
\[
   R(x, y) = (x' , y') = \left( x \cdot \cos(\theta) - y \cdot \sin(\theta), x \cdot \sin(\theta) + y \cdot \cos(\theta) \right)
   \]
</p>

<p>
La matriz de rotaci√≥n es:
</p>

<p>
\[
   R = \begin{pmatrix}
   \cos(\theta) & -\sin(\theta) & 0 \\
   \sin(\theta) & \cos(\theta) & 0 \\
   0 & 0 & 1
   \end{pmatrix}
   \]
</p>
</div>
</div>

<div id="outline-container-orgac93bf9" class="outline-4">
<h4 id="orgac93bf9">3. Escalado (Scalin</h4>
<div class="outline-text-4" id="text-orgac93bf9">
<p>
g)
</p>

<p>
El escalado modifica el tama√±o de la imagen mediante factores \(s_x\) y \(s_y\). La f√≥rmula es:
</p>

<p>
\[
   S(x, y) = (s_x \cdot x, s_y \cdot y)
   \]
</p>

<p>
La matriz correspondiente es:
</p>

<p>
\[
   S = \begin{pmatrix}
   s_x & 0 & 0 \\
   0 & s_y & 0 \\
   0 & 0 & 1
   \end{pmatrix}
   \]
</p>
</div>
</div>

<div id="outline-container-org4880d43" class="outline-4">
<h4 id="org4880d43">4. Cizallamiento (Shearing)</h4>
<div class="outline-text-4" id="text-org4880d43">
<p>
El cizallamiento inclina la imagen en una direcci√≥n espec√≠fica. Las ecuaciones para un cizallamiento horizontal y vertical son:
</p>

<p>
\[
   Sh_x(x, y) = (x + h_x \cdot y, y)
   \]
\[
   Sh_y(x, y) = (x, y + h_y \cdot x)
   \]
</p>

<p>
Las matrices correspondientes son:
</p>

<p>
Horizontal:
</p>

<p>
\[
   Sh_x = \begin{pmatrix}
   1 & h_x & 0 \\
   0 & 1 & 0 \\
   0 & 0 & 1
   \end{pmatrix}
   \]
</p>

<p>
Vertical:
</p>

<p>
\[
   Sh_y = \begin{pmatrix}
   1 & 0 & 0 \\
   h_y & 1 & 0 \\
   0 & 0 & 1
   \end{pmatrix}
   \]
</p>
</div>
</div>

<div id="outline-container-org4b3c9bd" class="outline-4">
<h4 id="org4b3c9bd">5. Reflexi√≥n (Reflection)</h4>
<div class="outline-text-4" id="text-org4b3c9bd">
<p>
La reflexi√≥n voltea la imagen sobre un eje. Las matrices para reflexiones sobre el eje \(x\) o \(y\) son:
</p>

<p>
\[
   R_x = \begin{pmatrix}
   1 & 0 & 0 \\
   0 & -1 & 0 \\
   0 & 0 & 1
   \end{pmatrix}
   \]
</p>

<p>
\[
   R_y = \begin{pmatrix}
   -1 & 0 & 0 \\
   0 & 1 & 0 \\
   0 & 0 & 1
   \end{pmatrix}
   \]
</p>
</div>
</div>

<div id="outline-container-org72224cc" class="outline-4">
<h4 id="org72224cc">6. Transformaci√≥n Af√≠n (Affine Transformation)</h4>
<div class="outline-text-4" id="text-org72224cc">
<p>
Una transformaci√≥n af√≠n combina varias de las anteriores. Su matriz es:
</p>

<p>
\[
   A = \begin{pmatrix}
   a_{11} & a_{12} & t_x \\
   a_{21} & a_{22} & t_y \\
   0 & 0 & 1
   \end{pmatrix}
   \]
</p>
</div>
</div>

<div id="outline-container-orgea86949" class="outline-4">
<h4 id="orgea86949">7. Transformaci√≥n Proyectiva (Homograf√≠a)</h4>
<div class="outline-text-4" id="text-orgea86949">
<p>
La homograf√≠a proyecta una imagen en un nuevo plano, alterando su perspectiva. La matriz homogr√°fica es:
</p>

<p>
\[
   H = \begin{pmatrix}
   h_{11} & h_{12} & h_{13} \\
   h_{21} & h_{22} & h_{23} \\
   h_{31} & h_{32} & h_{33}
   \end{pmatrix}
   \]
</p>
</div>
</div>

<div id="outline-container-org5a4892c" class="outline-4">
<h4 id="org5a4892c">Aplicaciones</h4>
<div class="outline-text-4" id="text-org5a4892c">
<p>
Las transformaciones geom√©tricas se utilizan en:
</p>

<ul class="org-ul">
<li><b>Alineaci√≥n de im√°genes</b>: Registrar im√°genes para tener la misma perspectiva.</li>
<li><b>Correcci√≥n de distorsi√≥n</b>: Corregir distorsiones causadas por lentes de c√°maras.</li>
<li><b>Visi√≥n artificial</b>: Identificar objetos en diferentes orientaciones.</li>
<li><b>Realidad aumentada</b>: Ajustar objetos virtuales al mundo real.</li>
</ul>
</div>
</div>
</div>







<div id="outline-container-orge70f5bf" class="outline-3">
<h3 id="orge70f5bf">Landmarks</h3>
<div class="outline-text-3" id="text-orge70f5bf">
<p>
En visi√≥n artificial, el t√©rmino landmark se refiere a puntos clave
dentro de una imagen que ayudan a describir caracter√≠sticas
importantes de un objeto. Estos puntos de referencia se utilizan en
tareas como el reconocimiento facial, el registro de im√°genes m√©dicas,
la segmentaci√≥n de objetos y la detecci√≥n de estructuras en im√°genes
biom√©dicas.
</p>
</div>

<div id="outline-container-org63a8584" class="outline-4">
<h4 id="org63a8584">Fundamentos de los Landmarks</h4>
<div class="outline-text-4" id="text-org63a8584">
<p>
Los landmarks se caracterizan por ser:
</p>

<ul class="org-ul">
<li>Puntos de inter√©s dentro de una imagen que representan estructuras
significativas.</li>

<li>Invariantes a transformaciones como traslaci√≥n, rotaci√≥n y cambios de escala.</li>

<li>Utilizados en modelos de alineaci√≥n y reconocimiento de patrones.</li>
</ul>

<p>
Dependiendo del contexto, los landmarks pueden ser seleccionados
manualmente o detectados autom√°ticamente mediante algoritmos
especializados.
</p>
</div>
</div>

<div id="outline-container-orga9b8559" class="outline-4">
<h4 id="orga9b8559">Aplicaciones de los Landmarks</h4>
<div class="outline-text-4" id="text-orga9b8559">
</div>
<ul class="org-ul">
<li><a id="org96f6d1d"></a>Reconocimiento Facial<br />
<div class="outline-text-5" id="text-org96f6d1d">
<p>
En el reconocimiento facial, se utilizan landmarks para identificar
estructuras anat√≥micas del rostro, como los ojos, la nariz y la
boca. Un ejemplo com√∫n es el modelo de 68 puntos faciales utilizado en
bibliotecas como dlib, donde cada punto representa una caracter√≠stica
clave del rostro.
</p>
</div>
</li>

<li><a id="orgec8bd77"></a>Registro y Segmentaci√≥n de Im√°genes M√©dicas<br />
<div class="outline-text-5" id="text-orgec8bd77">
<p>
Los landmarks juegan un papel clave en el registro de im√°genes
m√©dicas, facilitando la comparaci√≥n de im√°genes de distintos pacientes
o en diferentes momentos temporales. Se utilizan en la detecci√≥n de
estructuras anat√≥micas en radiograf√≠as, tomograf√≠as y microscop√≠a.
</p>
</div>
</li>

<li><a id="org36e3a32"></a>Seguimiento de Movimiento y Estimaci√≥n de Postura<br />
<div class="outline-text-5" id="text-org36e3a32">
<p>
Los sistemas de visi√≥n artificial pueden detectar landmarks en el
cuerpo humano para el an√°lisis de la postura y el seguimiento de
movimientos en tiempo real, como en aplicaciones deportivas y
rehabilitaci√≥n m√©dica.
</p>
</div>
</li>

<li><a id="org8230ad0"></a>Detecci√≥n de Caracter√≠sticas en Citolog√≠a Cervical<br />
<div class="outline-text-5" id="text-org8230ad0">
<p>
En el an√°lisis de im√°genes de citolog√≠a cervical, los landmarks pueden
utilizarse para localizar estructuras celulares relevantes,
facilitando la segmentaci√≥n y clasificaci√≥n de c√©lulas en ex√°menes de
Papanicolaou.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org62bf141" class="outline-4">
<h4 id="org62bf141">M√©todos de Detecci√≥n de Landmarks</h4>
<div class="outline-text-4" id="text-org62bf141">
<p>
Existen varios m√©todos para la detecci√≥n de landmarks, que se pueden clasificar en dos grandes categor√≠as:
</p>
</div>

<ul class="org-ul">
<li><a id="org6e13f0b"></a>M√©todos Cl√°sicos<br />
<div class="outline-text-5" id="text-org6e13f0b">
<p>
SIFT (Scale-Invariant Feature Transform): Detecta puntos clave
invariables a cambios de escala y rotaci√≥n.
</p>

<p>
SURF (Speeded-Up Robust Features): Similar a SIFT pero m√°s r√°pido.
</p>

<p>
ORB (Oriented FAST and Rotated BRIEF): Optimizado para detecci√≥n
r√°pida en tiempo real.
</p>
</div>
</li>

<li><a id="orgb5269a7"></a>M√©todos Basados en Aprendizaje Profundo<br />
<div class="outline-text-5" id="text-orgb5269a7">
<p>
Redes neuronales convolucionales (CNNs): Utilizadas en el
reconocimiento facial y an√°lisis biom√©dico.
</p>

<p>
MediaPipe: Biblioteca de Google para la detecci√≥n de landmarks en
tiempo real.
</p>

<p>
Modelos de Regresi√≥n de Forma Activa (ASM) y Modelos de Forma
Constrained Local Models (CLM): M√©todos espec√≠ficos para la detecci√≥n
de formas anat√≥micas.
</p>
</div>
</li>
</ul>
</div>
</div>



<div id="outline-container-org73835a4" class="outline-3">
<h3 id="org73835a4">Detecci√≥n de Manos con MediaPipe en Python</h3>
<div class="outline-text-3" id="text-org73835a4">
</div>
<div id="outline-container-orga3094aa" class="outline-4">
<h4 id="orga3094aa">Introducci√≥n</h4>
<div class="outline-text-4" id="text-orga3094aa">
<p>
  MediaPipe es una
librer√≠a desarrollada por Google Research, dise√±ada para el
procesamiento eficiente de datos en tiempo real. Fue lanzada para
facilitar el desarrollo de aplicaciones de visi√≥n por computadora,
realidad aumentada y aprendizaje autom√°tico en dispositivos m√≥viles y
computadoras.
</p>

<p>
MediaPipe Hands utiliza modelos preentrenados basados en redes
neuronales para detectar y seguir 21 puntos clave de la mano,
permitiendo an√°lisis de gestos y seguimiento preciso.
</p>
</div>
</div>



<div id="outline-container-org482f469" class="outline-4">
<h4 id="org482f469">Instalaci√≥n de Dependencias</h4>
<div class="outline-text-4" id="text-org482f469">
<p>
Para ejecutar el c√≥digo, se necesita instalar los siguientes paquetes en Python:
</p>

<div class="org-src-container">
<pre class="src src-sh">pip install mediapipe opencv-python
</pre>
</div>
</div>
</div>

<div id="outline-container-org8812382" class="outline-4">
<h4 id="org8812382">C√≥digo para Detecci√≥n de Manos en Tiempo Real</h4>
<div class="outline-text-4" id="text-org8812382">
<p>
Este es un un c√≥digo en Python que detecta manos usando MediaPipe y
OpenCV.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> mediapipe <span style="color: #a020f0;">as</span> mp

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar MediaPipe Hands</span>
<span style="color: #a0522d;">mp_hands</span> = mp.solutions.hands
<span style="color: #a0522d;">mp_drawing</span> = mp.solutions.drawing_utils
<span style="color: #a0522d;">hands</span> = mp_hands.Hands<span style="color: #707183;">(</span>min_detection_confidence=0.5, min_tracking_confidence=0.5<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Captura de video</span>
cap = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span> cap.isOpened<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> ret:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir imagen a RGB</span>
<span style="background-color: #f2f2f2;"> </span>   frame_rgb = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2RGB<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Detectar manos</span>
<span style="background-color: #f2f2f2;"> </span>   results = hands.process<span style="color: #707183;">(</span>frame_rgb<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span>results.multi_hand_landmarks<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar los puntos clave y conexiones</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> results.multi_hand_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> hand_landmarks <span style="color: #a020f0;">in</span> results.multi_hand_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   mp_drawing.draw_landmarks<span style="color: #707183;">(</span>frame, hand_landmarks, mp_hands.HAND_CONNECTIONS<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Salida"</span>, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Salir con 'q'</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

cap.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> mediapipe <span style="color: #a020f0;">as</span> mp

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar MediaPipe Hands</span>
<span style="color: #a0522d;">mp_hands</span> = mp.solutions.hands
<span style="color: #a0522d;">mp_drawing</span> = mp.solutions.drawing_utils
<span style="color: #a0522d;">hands</span> = mp_hands.Hands<span style="color: #707183;">(</span>min_detection_confidence=0.5, min_tracking_confidence=0.5<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Captura de video</span>
cap = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span> cap.isOpened<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> ret:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir imagen a RGB</span>
<span style="background-color: #f2f2f2;"> </span>   frame_rgb = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2RGB<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Detectar manos</span>
<span style="background-color: #f2f2f2;"> </span>   results = hands.process<span style="color: #707183;">(</span>frame_rgb<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar los puntos clave y conexiones</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> results.multi_hand_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> hand_landmarks <span style="color: #a020f0;">in</span> results.multi_hand_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> idx, landmark <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">enumerate</span><span style="color: #707183;">(</span>hand_landmarks.landmark<span style="color: #707183;">)</span>:

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">h</span>,<span style="color: #a0522d;">w</span>,<span style="color: #a0522d;">_</span> =frame.shape
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">x</span>,<span style="color: #a0522d;">y</span>=<span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>landmark.x*w<span style="color: #707183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>landmark.y*h<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>x,y<span style="color: #7388d6;">)</span>, 4, <span style="color: #7388d6;">(</span>12, 233,4<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">mp_drawing.draw_landmarks(frame, hand_landmarks, mp_hands.HAND_CONNECTIONS)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Salida"</span>, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Salir con 'q'</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

cap.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>



<div id="outline-container-orgec2df3e" class="outline-4">
<h4 id="orgec2df3e">Explicaci√≥n del C√≥digo</h4>
<div class="outline-text-4" id="text-orgec2df3e">
<ol class="org-ol">
<li>Se inicializa MediaPipe Hands con una confianza m√≠nima de detecci√≥n y seguimiento del 50%.</li>
<li>Se usa OpenCV para capturar video en tiempo real.</li>
<li>Se convierte el fotograma de BGR a RGB, ya que MediaPipe trabaja con im√°genes en formato RGB.</li>
<li>Se procesan los fotogramas y se extraen las coordenadas de la mano si se detecta.</li>
<li>Se dibujan los puntos clave de la mano y sus conexiones en la imagen original.</li>
<li>Se muestra el resultado en una ventana de OpenCV.</li>
</ol>
</div>
</div>

<div id="outline-container-org698d568" class="outline-4">
<h4 id="org698d568">Mejoras Posibles</h4>
<div class="outline-text-4" id="text-org698d568">
<ul class="org-ul">
<li>Contar cu√°ntas manos hay con <code>len(results.multi_hand_landmarks)</code>.</li>
<li>Detectar gestos analizando las posiciones de los dedos.</li>
<li>Guardar las coordenadas para an√°lisis posterior.</li>
</ul>
</div>
</div>

<div id="outline-container-orgb6d92b8" class="outline-4">
<h4 id="orgb6d92b8">Indice de dedos en mediapipe</h4>
<div class="outline-text-4" id="text-orgb6d92b8">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">√çndice</th>
<th scope="col" class="org-left">Dedo / Punto</th>
<th scope="col" class="org-left">Descripci√≥n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">0</td>
<td class="org-left">Mu√±eca (wrist)</td>
<td class="org-left">Base de la mano</td>
</tr>

<tr>
<td class="org-right">1</td>
<td class="org-left">Base del pulgar</td>
<td class="org-left">Uni√≥n del pulgar con la palma</td>
</tr>

<tr>
<td class="org-right">2</td>
<td class="org-left">Primera falange del pulgar</td>
<td class="org-left">Parte inferior del pulgar</td>
</tr>

<tr>
<td class="org-right">3</td>
<td class="org-left">Segunda falange del pulgar</td>
<td class="org-left">Parte media del pulgar</td>
</tr>

<tr>
<td class="org-right">4</td>
<td class="org-left">Punta del pulgar</td>
<td class="org-left">Extremo del pulgar</td>
</tr>

<tr>
<td class="org-right">5</td>
<td class="org-left">Base del √≠ndice</td>
<td class="org-left">Uni√≥n del √≠ndice con la palma</td>
</tr>

<tr>
<td class="org-right">6</td>
<td class="org-left">Primera falange del √≠ndice</td>
<td class="org-left">Parte inferior del √≠ndice</td>
</tr>

<tr>
<td class="org-right">7</td>
<td class="org-left">Segunda falange del √≠ndice</td>
<td class="org-left">Parte media del √≠ndice</td>
</tr>

<tr>
<td class="org-right">8</td>
<td class="org-left">Punta del √≠ndice</td>
<td class="org-left">Extremo del √≠ndice</td>
</tr>

<tr>
<td class="org-right">9</td>
<td class="org-left">Base del medio</td>
<td class="org-left">Uni√≥n del dedo medio con la palma</td>
</tr>

<tr>
<td class="org-right">10</td>
<td class="org-left">Primera falange del medio</td>
<td class="org-left">Parte inferior del medio</td>
</tr>

<tr>
<td class="org-right">11</td>
<td class="org-left">Segunda falange del medio</td>
<td class="org-left">Parte media del medio</td>
</tr>

<tr>
<td class="org-right">12</td>
<td class="org-left">Punta del medio</td>
<td class="org-left">Extremo del medio</td>
</tr>

<tr>
<td class="org-right">13</td>
<td class="org-left">Base del anular</td>
<td class="org-left">Uni√≥n del anular con la palma</td>
</tr>

<tr>
<td class="org-right">14</td>
<td class="org-left">Primera falange del anular</td>
<td class="org-left">Parte inferior del anular</td>
</tr>

<tr>
<td class="org-right">15</td>
<td class="org-left">Segunda falange del anular</td>
<td class="org-left">Parte media del anular</td>
</tr>

<tr>
<td class="org-right">16</td>
<td class="org-left">Punta del anular</td>
<td class="org-left">Extremo del anular</td>
</tr>

<tr>
<td class="org-right">17</td>
<td class="org-left">Base del me√±ique</td>
<td class="org-left">Uni√≥n del me√±ique con la palma</td>
</tr>

<tr>
<td class="org-right">18</td>
<td class="org-left">Primera falange del me√±ique</td>
<td class="org-left">Parte inferior del me√±ique</td>
</tr>

<tr>
<td class="org-right">19</td>
<td class="org-left">Segunda falange del me√±ique</td>
<td class="org-left">Parte media del me√±ique</td>
</tr>

<tr>
<td class="org-right">20</td>
<td class="org-left">Punta del me√±ique</td>
<td class="org-left">Extremo del me√±ique</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org42f9389" class="outline-4">
<h4 id="org42f9389">Medipipe Reconocimiento de letras</h4>
<div class="outline-text-4" id="text-org42f9389">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> mediapipe <span style="color: #a020f0;">as</span> mp
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar MediaPipe Hands</span>
<span style="color: #a0522d;">mp_hands</span> = mp.solutions.hands
<span style="color: #a0522d;">mp_drawing</span> = mp.solutions.drawing_utils
<span style="color: #a0522d;">hands</span> = mp_hands.Hands<span style="color: #707183;">(</span>min_detection_confidence=0.7, min_tracking_confidence=0.7<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Funci&#243;n para determinar la letra seg&#250;n la posici&#243;n de los dedos</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">reconocer_letra</span><span style="color: #707183;">(</span>hand_landmarks, frame<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener coordenadas de los puntos clave de la mano</span>
<span style="background-color: #f2f2f2;"> </span>   dedos = <span style="color: #707183;">[</span>hand_landmarks.landmark<span style="color: #7388d6;">[</span>i<span style="color: #7388d6;">]</span> <span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #7388d6;">(</span>21<span style="color: #7388d6;">)</span><span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener posiciones clave (puntas y base de los dedos)</span>
<span style="background-color: #f2f2f2;"> </span>   pulgar = dedos<span style="color: #707183;">[</span>4<span style="color: #707183;">]</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Punta del pulgar</span>
<span style="background-color: #f2f2f2;"> </span>   indice = dedos<span style="color: #707183;">[</span>8<span style="color: #707183;">]</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Punta del &#237;ndice</span>
<span style="background-color: #f2f2f2;"> </span>   medio = dedos<span style="color: #707183;">[</span>12<span style="color: #707183;">]</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Punta del medio</span>
<span style="background-color: #f2f2f2;"> </span>   anular = dedos<span style="color: #707183;">[</span>16<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Punta del anular</span>
<span style="background-color: #f2f2f2;"> </span>   me&#241;ique = dedos<span style="color: #707183;">[</span>20<span style="color: #707183;">]</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">Punta del me&#241;ique</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Distancias entre puntos (para definir gestos)</span>
<span style="background-color: #f2f2f2;"> </span>   distancia_pulgar_indice = np.linalg.norm<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>pulgar.x - indice.x, pulgar.y - indice.y<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   distancia_indice_medio = np.linalg.norm<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>indice.x - medio.x, indice.y - medio.y<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">L&#243;gica para reconocer algunas letras</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> distancia_pulgar_indice &lt; 0.05 <span style="color: #a020f0;">and</span> distancia_indice_medio &gt; 0.1:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"A"</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Se&#241;a de la letra A (pu&#241;o cerrado con pulgar al lado)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> indice.y &lt; medio.y <span style="color: #a020f0;">and</span> medio.y &lt; anular.y <span style="color: #a020f0;">and</span> anular.y &lt; me&#241;ique.y:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"B"</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Se&#241;a de la letra B (todos los dedos estirados, pulgar en la palma)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> distancia_pulgar_indice &gt; 0.1 <span style="color: #a020f0;">and</span> distancia_indice_medio &gt; 0.1:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"C"</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Se&#241;a de la letra C (mano en forma de "C")</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"Desconocido"</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Captura de video en tiempo real</span>
cap = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span> cap.isOpened<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> ret:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir a RGB</span>
<span style="background-color: #f2f2f2;"> </span>   frame_rgb = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2RGB<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Procesar la imagen con MediaPipe</span>
<span style="background-color: #f2f2f2;"> </span>   results = hands.process<span style="color: #707183;">(</span>frame_rgb<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar puntos de la mano y reconocer letras</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> results.multi_hand_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> hand_landmarks <span style="color: #a020f0;">in</span> results.multi_hand_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   mp_drawing.draw_landmarks<span style="color: #707183;">(</span>frame, hand_landmarks, mp_hands.HAND_CONNECTIONS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Identificar la letra</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   letra_detectada = reconocer_letra<span style="color: #707183;">(</span>hand_landmarks, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la letra en pantalla</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.putText<span style="color: #707183;">(</span>frame, f<span style="color: #8b2252;">"Letra: </span>{letra_detectada}<span style="color: #8b2252;">"</span>, <span style="color: #7388d6;">(</span>50, 50<span style="color: #7388d6;">)</span>, 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.FONT_HERSHEY_SIMPLEX, 1, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, 2, cv2.LINE_AA<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar el video</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Reconocimiento de Letras"</span>, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Salir con la tecla 'q'</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Liberar recursos</span>
cap.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>

<p>
Landmark distancia Euclidiana
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> mediapipe <span style="color: #a020f0;">as</span> mp
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar MediaPipe Hands</span>
<span style="color: #a0522d;">mp_hands</span> = mp.solutions.hands
<span style="color: #a0522d;">mp_drawing</span> = mp.solutions.drawing_utils
<span style="color: #a0522d;">hands</span> = mp_hands.Hands<span style="color: #707183;">(</span>min_detection_confidence=0.7, min_tracking_confidence=0.7<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Funci&#243;n para determinar la letra seg&#250;n la posici&#243;n de los dedos</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">reconocer_letra</span><span style="color: #707183;">(</span>hand_landmarks, frame<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">h</span>, <span style="color: #a0522d;">w</span>, <span style="color: #a0522d;">_</span> = frame.shape  <span style="color: #b22222;"># </span><span style="color: #b22222;">Tama&#241;o de la imagen</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener coordenadas de los puntos clave en p&#237;xeles</span>
<span style="background-color: #f2f2f2;"> </span>   dedos = <span style="color: #707183;">[</span><span style="color: #7388d6;">(</span><span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>hand_landmarks.landmark<span style="color: #709870;">[</span>i<span style="color: #709870;">]</span>.x * w<span style="color: #909183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>hand_landmarks.landmark<span style="color: #709870;">[</span>i<span style="color: #709870;">]</span>.y * h<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span> <span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #7388d6;">(</span>21<span style="color: #7388d6;">)</span><span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener posiciones clave (puntas de los dedos)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">pulgar</span>, <span style="color: #a0522d;">indice</span>, <span style="color: #a0522d;">medio</span>, <span style="color: #a0522d;">anular</span>, <span style="color: #a0522d;">me&#241;ique</span> = dedos<span style="color: #707183;">[</span>4<span style="color: #707183;">]</span>, dedos<span style="color: #707183;">[</span>8<span style="color: #707183;">]</span>, dedos<span style="color: #707183;">[</span>12<span style="color: #707183;">]</span>, dedos<span style="color: #707183;">[</span>16<span style="color: #707183;">]</span>, dedos<span style="color: #707183;">[</span>20<span style="color: #707183;">]</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar los n&#250;meros de los landmarks en la imagen</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> i, <span style="color: #707183;">(</span>x, y<span style="color: #707183;">)</span> <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">enumerate</span><span style="color: #707183;">(</span>dedos<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>x, y<span style="color: #7388d6;">)</span>, 8, <span style="color: #7388d6;">(</span>0, 234, 0<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Puntos verdes</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.putText<span style="color: #707183;">(</span>frame, <span style="color: #483d8b;">str</span><span style="color: #7388d6;">(</span>i<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>x, y - 10<span style="color: #7388d6;">)</span>, cv2.FONT_HERSHEY_SIMPLEX, 0.5, <span style="color: #7388d6;">(</span>0, 255, 255<span style="color: #7388d6;">)</span>, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar coordenadas del pulgar</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.putText<span style="color: #707183;">(</span>frame, f<span style="color: #8b2252;">'(</span>{<span style="color: #483d8b;">int</span>(pulgar[0])}<span style="color: #8b2252;">, </span>{<span style="color: #483d8b;">int</span>(pulgar[1])}<span style="color: #8b2252;">)'</span>, <span style="color: #7388d6;">(</span>pulgar<span style="color: #909183;">[</span>0<span style="color: #909183;">]</span>, pulgar<span style="color: #909183;">[</span>1<span style="color: #909183;">]</span> - 15<span style="color: #7388d6;">)</span>, 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.FONT_HERSHEY_SIMPLEX, 0.6, <span style="color: #7388d6;">(</span>245, 0, 0<span style="color: #7388d6;">)</span>, 2, cv2.LINE_AA<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   cv2.line<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span><span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>pulgar<span style="color: #709870;">[</span>0<span style="color: #709870;">]</span><span style="color: #909183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>pulgar<span style="color: #709870;">[</span>1<span style="color: #709870;">]</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span><span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>indice<span style="color: #709870;">[</span>0<span style="color: #709870;">]</span><span style="color: #909183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>indice<span style="color: #709870;">[</span>1<span style="color: #709870;">]</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>244,34,12<span style="color: #7388d6;">)</span>, 2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular distancias en p&#237;xeles</span>
<span style="background-color: #f2f2f2;"> </span>   distancia_pulgar_indice = np.linalg.norm<span style="color: #707183;">(</span>np.array<span style="color: #7388d6;">(</span>pulgar<span style="color: #7388d6;">)</span> - np.array<span style="color: #7388d6;">(</span>indice<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   distancia_indice_medio = np.linalg.norm<span style="color: #707183;">(</span>np.array<span style="color: #7388d6;">(</span>indice<span style="color: #7388d6;">)</span> - np.array<span style="color: #7388d6;">(</span>medio<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>200,200<span style="color: #7388d6;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #7388d6;">(</span>distancia_pulgar_indice<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>244,34,12<span style="color: #7388d6;">)</span>, 2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   

<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   cv2.putText<span style="color: #707183;">(</span>frame, f<span style="color: #8b2252;">'(</span>{distancia_pulgar_indice}<span style="color: #8b2252;">)'</span>, <span style="color: #7388d6;">(</span>pulgar<span style="color: #909183;">[</span>0<span style="color: #909183;">]</span>-40, pulgar<span style="color: #909183;">[</span>1<span style="color: #909183;">]</span> - 45<span style="color: #7388d6;">)</span>, 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.FONT_HERSHEY_SIMPLEX, 0.6, <span style="color: #7388d6;">(</span>255, 255, 255<span style="color: #7388d6;">)</span>, 2, cv2.LINE_AA<span style="color: #707183;">)</span>


<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">cv2.circle(frame, (pulgar[0]+20,pulgar[1]+20), int(distancia_indice_medio), (34,234,65), -1 )</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">L&#243;gica para reconocer algunas letras</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> distancia_pulgar_indice &lt; 30 <span style="color: #a020f0;">and</span> distancia_indice_medio &gt; 50:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"A"</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Se&#241;a de la letra A (pu&#241;o cerrado con pulgar al lado)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> indice<span style="color: #707183;">[</span>1<span style="color: #707183;">]</span> &lt; medio<span style="color: #707183;">[</span>1<span style="color: #707183;">]</span> <span style="color: #a020f0;">and</span> medio<span style="color: #707183;">[</span>1<span style="color: #707183;">]</span> &lt; anular<span style="color: #707183;">[</span>1<span style="color: #707183;">]</span> <span style="color: #a020f0;">and</span> anular<span style="color: #707183;">[</span>1<span style="color: #707183;">]</span> &lt; me&#241;ique<span style="color: #707183;">[</span>1<span style="color: #707183;">]</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"B"</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Se&#241;a de la letra B (todos los dedos estirados, pulgar en la palma)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> distancia_pulgar_indice &gt; 50 <span style="color: #a020f0;">and</span> distancia_indice_medio &gt; 50:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"C"</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Se&#241;a de la letra C (mano en forma de "C")</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"Desconocido"</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Captura de video en tiempo real</span>
cap = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span> cap.isOpened<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> ret:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir a RGB</span>
<span style="background-color: #f2f2f2;"> </span>   frame_rgb = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2RGB<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Procesar la imagen con MediaPipe</span>
<span style="background-color: #f2f2f2;"> </span>   results = hands.process<span style="color: #707183;">(</span>frame_rgb<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar puntos de la mano y reconocer letras</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> results.multi_hand_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> hand_landmarks <span style="color: #a020f0;">in</span> results.multi_hand_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">mp_drawing.draw_landmarks(frame, hand_landmarks, mp_hands.HAND_CONNECTIONS)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Identificar la letra</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   letra_detectada = reconocer_letra<span style="color: #707183;">(</span>hand_landmarks, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la letra en pantalla</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.putText<span style="color: #707183;">(</span>frame, f<span style="color: #8b2252;">"Letra: </span>{letra_detectada}<span style="color: #8b2252;">"</span>, <span style="color: #7388d6;">(</span>50, 50<span style="color: #7388d6;">)</span>, 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.FONT_HERSHEY_SIMPLEX, 1, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, 2, cv2.LINE_AA<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar el video</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Reconocimiento de Letras"</span>, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Salir con la tecla 'q'</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Liberar recursos</span>
cap.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> mediapipe <span style="color: #a020f0;">as</span> mp

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar MediaPipe Face Mesh</span>
<span style="color: #a0522d;">mp_face_mesh</span> = mp.solutions.face_mesh
<span style="color: #a0522d;">face_mesh</span> = mp_face_mesh.FaceMesh<span style="color: #707183;">(</span>static_image_mode=<span style="color: #008b8b;">False</span>, max_num_faces=2, min_detection_confidence=0.5, min_tracking_confidence=0.5<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar dibujador de MediaPipe</span>
mp_drawing = mp.solutions.drawing_utils
drawing_spec = mp_drawing.DrawingSpec<span style="color: #707183;">(</span>thickness=1, circle_radius=1, color=<span style="color: #7388d6;">(</span>234, 255, 233<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Puntos verdes</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Captura de video</span>
cap = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span> cap.isOpened<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   ret, frame = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> ret:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   frqame = cv2.flip<span style="color: #707183;">(</span>frame, 1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Espejo para mayor naturalidad</span>
<span style="background-color: #f2f2f2;"> </span>   rgb_frame = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2RGB<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   results = face_mesh.process<span style="color: #707183;">(</span>rgb_frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> results.multi_face_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> face_landmarks <span style="color: #a020f0;">in</span> results.multi_face_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   mp_drawing.draw_landmarks<span style="color: #707183;">(</span>frame, face_landmarks, mp_face_mesh.FACEMESH_TESSELATION, drawing_spec, drawing_spec<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'PuntosFacialesMediaPipe'</span>, frame<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

cap.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> mediapipe <span style="color: #a020f0;">as</span> mp
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar MediaPipe Face Detection</span>
<span style="color: #a0522d;">mp_face_detection</span> = mp.solutions.face_detection
<span style="color: #a0522d;">face_detection</span> = mp_face_detection.FaceDetection<span style="color: #707183;">(</span>min_detection_confidence=0.7<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la m&#225;scara con transparencia (debe ser un PNG con canal alpha)</span>
mask = cv2.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">"300.png"</span>, cv2.IMREAD_UNCHANGED<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Funci&#243;n para superponer la m&#225;scara en la cara</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">overlay_mask</span><span style="color: #707183;">(</span>frame, mask, x, y, w, h<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Redimensionar la m&#225;scara al tama&#241;o de la cara detectada</span>
<span style="background-color: #f2f2f2;"> </span>   mask_resized = cv2.resize<span style="color: #707183;">(</span>mask, <span style="color: #7388d6;">(</span>w, h<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Extraer los canales de la m&#225;scara (RGBA)</span>
<span style="background-color: #f2f2f2;"> </span>   mask_rgb = mask_resized<span style="color: #707183;">[</span>:, :, :3<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Canales de color</span>
<span style="background-color: #f2f2f2;"> </span>   mask_alpha = mask_resized<span style="color: #707183;">[</span>:, :, 3<span style="color: #707183;">]</span> / 255.0  <span style="color: #b22222;"># </span><span style="color: #b22222;">Canal de transparencia</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener la regi&#243;n donde se colocar&#225; la m&#225;scara</span>
<span style="background-color: #f2f2f2;"> </span>   roi = frame<span style="color: #707183;">[</span>y:y+h, x:x+w<span style="color: #707183;">]</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mezclar la m&#225;scara con el frame</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> c <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>3<span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar a cada canal de color (BGR)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   roi<span style="color: #707183;">[</span>:, :, c<span style="color: #707183;">]</span> = <span style="color: #707183;">(</span>1 - mask_alpha<span style="color: #707183;">)</span> * roi<span style="color: #707183;">[</span>:, :, c<span style="color: #707183;">]</span> + mask_alpha * mask_rgb<span style="color: #707183;">[</span>:, :, c<span style="color: #707183;">]</span>

<span style="background-color: #f2f2f2;"> </span>   frame<span style="color: #707183;">[</span>y:y+h, x:x+w<span style="color: #707183;">]</span> = roi  <span style="color: #b22222;"># </span><span style="color: #b22222;">Colocar la m&#225;scara en el frame</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Captura de video</span>
cap = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span> cap.isOpened<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> ret:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   frame = cv2.flip<span style="color: #707183;">(</span>frame, 1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Espejo para mejor experiencia</span>
<span style="background-color: #f2f2f2;"> </span>   rgb_frame = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2RGB<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   results = face_detection.process<span style="color: #707183;">(</span>rgb_frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> results.detections:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> detection <span style="color: #a020f0;">in</span> results.detections:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener la caja delimitadora del rostro</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   bboxC = detection.location_data.relative_bounding_box
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ih</span>, <span style="color: #a0522d;">iw</span>, <span style="color: #a0522d;">_</span> = frame.shape  <span style="color: #b22222;"># </span><span style="color: #b22222;">Alto y ancho del frame</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir a coordenadas de p&#237;xeles</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   x = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>bboxC.xmin * iw<span style="color: #707183;">)</span> - 20
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   y = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>bboxC.ymin * ih<span style="color: #707183;">)</span> - 40
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   w = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>bboxC.width * iw<span style="color: #707183;">)</span> + 40
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   h = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>bboxC.height * ih<span style="color: #707183;">)</span> + 40

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Superponer la m&#225;scara en la imagen</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   overlay_mask<span style="color: #707183;">(</span>frame, mask, x, y, w, h<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Mascara Animada"</span>, frame<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

cap.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>



<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> mediapipe <span style="color: #a020f0;">as</span> mp

<span style="color: #a0522d;">mp_hands</span> = mp.solutions.hands
<span style="color: #a0522d;">mp_drawing</span> = mp.solutions.drawing_utils
<span style="color: #a0522d;">hands</span> = mp_hands.Hands<span style="color: #707183;">(</span>static_image_mode=<span style="color: #008b8b;">False</span>, max_num_hands=2, min_detection_confidence=0.5<span style="color: #707183;">)</span>

cap = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:
<span style="background-color: #f2f2f2;"> </span>   ret, frame = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> ret:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   frame= cv2.flip<span style="color: #707183;">(</span>frame, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir imagen a RGB (MediaPipe usa RGB)</span>
<span style="background-color: #f2f2f2;"> </span>   frame_rgb = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2RGB<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   results = hands.process<span style="color: #707183;">(</span>frame_rgb<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Variables para guardar coordenadas</span>
<span style="background-color: #f2f2f2;"> </span>   left_index = <span style="color: #008b8b;">None</span>
<span style="background-color: #f2f2f2;"> </span>   right_index = <span style="color: #008b8b;">None</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.rectangle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>100,100<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>300,300<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>255, 0, 0<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> results.multi_hand_landmarks <span style="color: #a020f0;">and</span> results.multi_handedness:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> hand_landmarks, handedness <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">zip</span><span style="color: #707183;">(</span>results.multi_hand_landmarks, results.multi_handedness<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   label = handedness.classification<span style="color: #707183;">[</span>0<span style="color: #707183;">]</span>.label  <span style="color: #b22222;"># </span><span style="color: #b22222;">'Left' o 'Right'</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">print(label)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   h, w, _ = frame.shape
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Coordenadas del &#237;ndice (landmark 8)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   index_tip = hand_landmarks.landmark<span style="color: #707183;">[</span>8<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   x, y = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>index_tip.x * w<span style="color: #707183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>index_tip.y * h<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Guardar seg&#250;n la mano</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> label == <span style="color: #8b2252;">'Left'</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   left_index = <span style="color: #707183;">(</span>x, y<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> label == <span style="color: #8b2252;">'Right'</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   right_index = <span style="color: #707183;">(</span>x, y<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar los landmarks (opcional)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   mp_drawing.draw_landmarks<span style="color: #707183;">(</span>frame, hand_landmarks, mp_hands.HAND_CONNECTIONS<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Si ambas manos detectadas, dibujar l&#237;nea entre los dos puntos</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> left_index <span style="color: #a020f0;">and</span> right_index:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">cv2.line(frame, left_index, right_index, (0, 255, 0), 3)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.rectangle<span style="color: #707183;">(</span>frame, left_index, right_index, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>frame, left_index, 8, <span style="color: #7388d6;">(</span>255, 0, 0<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>frame, right_index, 8, <span style="color: #7388d6;">(</span>0, 0, 255<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Line"</span>, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == 27:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

cap.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> mediapipe <span style="color: #a020f0;">as</span> mp

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar MediaPipe Face Mesh</span>
<span style="color: #a0522d;">mp_face_mesh</span> = mp.solutions.face_mesh
<span style="color: #a0522d;">face_mesh</span> = mp_face_mesh.FaceMesh<span style="color: #707183;">(</span>static_image_mode=<span style="color: #008b8b;">False</span>, max_num_faces=2, min_detection_confidence=0.5, min_tracking_confidence=0.5<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar dibujador de MediaPipe</span>
mp_drawing = mp.solutions.drawing_utils
drawing_spec = mp_drawing.DrawingSpec<span style="color: #707183;">(</span>thickness=1, circle_radius=1, color=<span style="color: #7388d6;">(</span>234, 255, 233<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Puntos verdes</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Captura de video</span>
cap = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span> cap.isOpened<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   ret, frame = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> ret:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   frame = cv2.flip<span style="color: #707183;">(</span>frame, 1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Espejo para mayor naturalidad</span>
<span style="background-color: #f2f2f2;"> </span>   rgb_frame = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2RGB<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   results = face_mesh.process<span style="color: #707183;">(</span>rgb_frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> results.multi_face_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> face_landmarks <span style="color: #a020f0;">in</span> results.multi_face_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   mp_drawing.draw_landmarks<span style="color: #707183;">(</span>frame, face_landmarks, mp_face_mesh.FACEMESH_TESSELATION, drawing_spec, drawing_spec<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'PuntosFacialesMediaPipe'</span>, frame<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

cap.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> mediapipe <span style="color: #a020f0;">as</span> mp

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar MediaPipe Face Mesh</span>
<span style="color: #a0522d;">mp_face_mesh</span> = mp.solutions.face_mesh
<span style="color: #a0522d;">face_mesh</span> = mp_face_mesh.FaceMesh<span style="color: #707183;">(</span>static_image_mode=<span style="color: #008b8b;">False</span>, max_num_faces=2, 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> min_detection_confidence=0.5, min_tracking_confidence=0.5<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar dibujador de MediaPipe</span>
mp_drawing = mp.solutions.drawing_utils
drawing_spec = mp_drawing.DrawingSpec<span style="color: #707183;">(</span>thickness=1, circle_radius=1, color=<span style="color: #7388d6;">(</span>234, 255, 233<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Captura de video</span>
cap = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span> cap.isOpened<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   ret, frame = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> ret:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   frame = cv2.flip<span style="color: #707183;">(</span>frame, 1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Espejo para mayor naturalidad</span>
<span style="background-color: #f2f2f2;"> </span>   rgb_frame = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2RGB<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   results = face_mesh.process<span style="color: #707183;">(</span>rgb_frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> results.multi_face_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> face_landmarks <span style="color: #a020f0;">in</span> results.multi_face_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar solo los contornos en lugar de la teselaci&#243;n completa</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   mp_drawing.draw_landmarks<span style="color: #707183;">(</span>frame, face_landmarks, mp_face_mesh.FACEMESH_CONTOURS, 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> drawing_spec, drawing_spec<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'PuntosFacialesMediaPipe'</span>, frame<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

cap.release<span style="color: #707183;">()</span>
momo
cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> mediapipe <span style="color: #a020f0;">as</span> mp
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar MediaPipe Face Mesh</span>
<span style="color: #a0522d;">mp_face_mesh</span> = mp.solutions.face_mesh
<span style="color: #a0522d;">face_mesh</span> = mp_face_mesh.FaceMesh<span style="color: #707183;">(</span>static_image_mode=<span style="color: #008b8b;">False</span>, max_num_faces=2, 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> min_detection_confidence=0.5, min_tracking_confidence=0.5<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Captura de video</span>
cap = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Lista de &#237;ndices de landmarks espec&#237;ficos (ojos y boca)</span>
selected_points = <span style="color: #707183;">[</span>33, 133, 362, 263, 61, 291, 4, 36, 0, 17<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Ojos y boca</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">distancia</span><span style="color: #707183;">(</span>p1, p2<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Calcula la distancia euclidiana entre dos puntos."""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> np.linalg.norm<span style="color: #707183;">(</span>np.array<span style="color: #7388d6;">(</span>p1<span style="color: #7388d6;">)</span> - np.array<span style="color: #7388d6;">(</span>p2<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span> cap.isOpened<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   ret, frame = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> ret:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   frame = cv2.flip<span style="color: #707183;">(</span>frame, 1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Espejo para mayor naturalidad</span>
<span style="background-color: #f2f2f2;"> </span>   rgb_frame = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2RGB<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   results = face_mesh.process<span style="color: #707183;">(</span>rgb_frame<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> results.multi_face_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> face_landmarks <span style="color: #a020f0;">in</span> results.multi_face_landmarks:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   puntos = <span style="color: #707183;">{}</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   puntoa = <span style="color: #707183;">(</span><span style="color: #483d8b;">int</span><span style="color: #7388d6;">(</span>face_landmarks.landmark<span style="color: #909183;">[</span>0<span style="color: #909183;">]</span>.x * frame.shape<span style="color: #909183;">[</span>1<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> <span style="color: #483d8b;">int</span><span style="color: #7388d6;">(</span>face_landmarks.landmark<span style="color: #909183;">[</span>0<span style="color: #909183;">]</span>.y * frame.shape<span style="color: #909183;">[</span>0<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   puntob = <span style="color: #707183;">(</span><span style="color: #483d8b;">int</span><span style="color: #7388d6;">(</span>face_landmarks.landmark<span style="color: #909183;">[</span>17<span style="color: #909183;">]</span>.x * frame.shape<span style="color: #909183;">[</span>1<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> <span style="color: #483d8b;">int</span><span style="color: #7388d6;">(</span>face_landmarks.landmark<span style="color: #909183;">[</span>17<span style="color: #909183;">]</span>.y * frame.shape<span style="color: #909183;">[</span>0<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.line<span style="color: #707183;">(</span>frame, puntoa, puntob, <span style="color: #7388d6;">(</span>0,255,0<span style="color: #7388d6;">)</span>, 3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   dboca=distancia<span style="color: #707183;">(</span>puntoa,puntob<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.putText<span style="color: #707183;">(</span>frame, <span style="color: #483d8b;">str</span><span style="color: #7388d6;">(</span>dboca<span style="color: #7388d6;">)</span>, puntoa, cv2.FONT_HERSHEY_SIMPLEX, 0.5, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">print(puntoa)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> idx <span style="color: #a020f0;">in</span> selected_points:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   x = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>face_landmarks.landmark<span style="color: #7388d6;">[</span>idx<span style="color: #7388d6;">]</span>.x * frame.shape<span style="color: #7388d6;">[</span>1<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   y = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>face_landmarks.landmark<span style="color: #7388d6;">[</span>idx<span style="color: #7388d6;">]</span>.y * frame.shape<span style="color: #7388d6;">[</span>0<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   puntos<span style="color: #707183;">[</span><span style="color: #a0522d;">idx</span><span style="color: #707183;">]</span> = <span style="color: #707183;">(</span>x, y<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>x, y<span style="color: #7388d6;">)</span>, 2, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja el punto en verde</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular y mostrar distancia entre puntos (ejemplo: entre ojos)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> 33 <span style="color: #a020f0;">in</span> puntos <span style="color: #a020f0;">and</span> 133 <span style="color: #a020f0;">in</span> puntos:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   d_ojos = distancia<span style="color: #707183;">(</span>puntos<span style="color: #7388d6;">[</span>33<span style="color: #7388d6;">]</span>, puntos<span style="color: #7388d6;">[</span>133<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">print(puntos[33])</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">cv2.line(frame, (puntos[33][0], puntos[33][1]), (puntos[133][0], puntos[133][1]), (23, 234,23), 2 )</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">cv2.putText(frame, f" {int(puntos[61][0]-20), int(puntos[61][1]-20) }", (puntos[61][0], puntos[61][1] - 10), </span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span><span style="color: #b22222;">#           </span><span style="color: #b22222;">cv2.FONT_HERSHEY_SIMPLEX, 0.5, (0, 255, 0), 1)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">cv2.putText(frame, f"D: {int(d_ojos)}", (puntos[33][0], puntos[33][1] - 10), </span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#            </span><span style="color: #b22222;">cv2.FONT_HERSHEY_SIMPLEX, 0.5, (0, 255, 0), 1)</span>

<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'PuntosFacialesMediaPipe'</span>, frame<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

cap.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</div>
</div>
</div>




<div id="outline-container-org6de0a08" class="outline-2">
<h2 id="org6de0a08">Actividades</h2>
<div class="outline-text-2" id="text-org6de0a08">
<ul class="org-ul">
<li>Generar una imagen tipo pixel art utilizando una matriz de enteros en el rango de 0 a 255.</li>
<li>Generar al menos cinco operadores puntuales utilizando la imagen generada o una imagen previamente cargada.</li>
<li>Aplicar las transformaciones geom√©tricas vistas en clase.</li>
<li>Investigar qu√© son las ecuaciones param√©tricas.</li>
<li>Crear un dibujo mediante primitivas de dibujo utilizando OpenCV.</li>
<li>Programar al menos 10 ecuaciones param√©tricas.</li>
</ul>

<p>
Todas las actividades anteriores deben estar documentadas en formato Markdown en el repositorio.  
</p>
</div>
</div>


<div id="outline-container-org9b6fa90" class="outline-2">
<h2 id="org9b6fa90">Programaci√≥n</h2>
<div class="outline-text-2" id="text-org9b6fa90">
</div>
<div id="outline-container-org4ed2bd1" class="outline-3">
<h3 id="org4ed2bd1">Programas Unidad 1</h3>
<div class="outline-text-3" id="text-org4ed2bd1">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np 

<span style="color: #a0522d;">img</span> =cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>,1<span style="color: #707183;">)</span>
<span style="color: #a0522d;">img2</span> =cv.cvtColor<span style="color: #707183;">(</span>img, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img2a'</span>, img2<span style="color: #707183;">)</span>
<span style="color: #a0522d;">x</span>,<span style="color: #a0522d;">y</span>=img2.shape<span style="color: #707183;">[</span>:2<span style="color: #707183;">]</span>
<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span>x,y<span style="color: #707183;">)</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>x<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>y<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img2</span><span style="color: #707183;">[</span><span style="color: #a0522d;">i</span>,<span style="color: #a0522d;">j</span><span style="color: #707183;">]</span>=255-img2<span style="color: #707183;">[</span>i,j<span style="color: #707183;">]</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img2b'</span>, img2<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img'</span>, img<span style="color: #707183;">)</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">img3 =cv.cvtColor(img, cv.COLOR_BGR2RGB)</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">img4 =cv.cvtColor(img, cv.COLOR_BGR2BGRA)</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">img5 =cv.cvtColor(img4, cv.COLOR_BGRA2BGR65)</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">cv.imshow('img', img)</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">cv.imshow('img2', img2)</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">cv.imshow('img3', img3)3</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">cv.imshow('img4', img4)</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">cv.imshow('img4', img5)</span>

cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>





<div id="outline-container-org4d60d43" class="outline-4">
<h4 id="org4d60d43">Creaci√≥n de una Imagen</h4>
<div class="outline-text-4" id="text-org4d60d43">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np   <span style="color: #b22222;"># </span><span style="color: #b22222;">Importa la librer&#237;a NumPy, &#250;til para trabajar con arreglos y operaciones num&#233;ricas.</span>
<span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv     <span style="color: #b22222;"># </span><span style="color: #b22222;">Importa la librer&#237;a OpenCV, que se utiliza para procesamiento de im&#225;genes.</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Crea una imagen de 500x500 p&#237;xeles, todos con valor 240 (gris claro). </span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">La imagen tiene solo un canal (escala de grises) y est&#225; inicializada con valores de tipo uint8 (enteros sin signo de 8 bits).</span>
<span style="color: #a0522d;">img</span> = np.ones<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>500, 500<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>*255 
<span style="color: #b22222;"># </span><span style="color: #b22222;">Modifica algunos p&#237;xeles espec&#237;ficos en las coordenadas (30, 30) a (30, 35) para que tengan un valor de 1 (casi negro).</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Esto crear&#225; una peque&#241;a l&#237;nea vertical de 6 p&#237;xeles en la imagen de color casi negro.</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>30<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   img<span style="color: #707183;">[</span><span style="color: #a0522d;">i</span>, <span style="color: #a0522d;">i</span><span style="color: #707183;">]</span> = 159

img<span style="color: #707183;">[</span>30, 31<span style="color: #707183;">]</span> = 1
img<span style="color: #707183;">[</span>30, 32<span style="color: #707183;">]</span> = 1
img<span style="color: #707183;">[</span>30, 33<span style="color: #707183;">]</span> = 1
img<span style="color: #707183;">[</span>30, 34<span style="color: #707183;">]</span> = 1
img<span style="color: #707183;">[</span>30, 35<span style="color: #707183;">]</span> = 1
<span style="color: #b22222;"># </span><span style="color: #b22222;">Muestra la imagen en una ventana con el t&#237;tulo 'img'. </span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img'</span>, img<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Espera a que el usuario presione cualquier tecla para continuar.</span>
cv.waitKey<span style="color: #707183;">()</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Cierra todas las ventanas creadas por OpenCV.</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org6896ca0" class="outline-4">
<h4 id="org6896ca0">Cargar Imagen</h4>
<div class="outline-text-4" id="text-org6896ca0">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv  <span style="color: #b22222;"># </span><span style="color: #b22222;">Importa la librer&#237;a OpenCV, que se usa para el procesamiento de im&#225;genes y videos.</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Lee una imagen desde el archivo 'tr.png'. </span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">El segundo argumento '1' indica que se leer&#225; la imagen en color (1 para color, 0 para escala de grises, -1 para incluir el canal alfa si existe).</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Muestra la imagen le&#237;da en una ventana llamada 'ejemplo'.</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'ejemplo'</span>, img<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Espera indefinidamente hasta que el usuario presione una tecla.</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cierra todas las ventanas abiertas por OpenCV.</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org9812e1b" class="outline-4">
<h4 id="org9812e1b">Split y Merge Imagen</h4>
<div class="outline-text-4" id="text-org9812e1b">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv  <span style="color: #b22222;"># </span><span style="color: #b22222;">Importa OpenCV, que es &#250;til para procesamiento de im&#225;genes.</span>
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np  <span style="color: #b22222;"># </span><span style="color: #b22222;">Importa NumPy, que es &#250;til para trabajar con matrices y operaciones num&#233;ricas.</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Carga la imagen '1a.png' en color (1 para color, 0 para escala de grises).</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'1a.png'</span>, 1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crea una imagen vac&#237;a (llena de ceros, que representa color negro) con el mismo tama&#241;o que la imagen original.</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">La imagen vac&#237;a tiene un solo canal (escala de grises), por lo que se usa `img.shape[:2]` para obtener las dimensiones de la imagen (alto, ancho).</span>
<span style="color: #a0522d;">img2</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>img.shape<span style="color: #909183;">[</span>:2<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Imprime las dimensiones de la imagen en la terminal (alto, ancho).</span>
<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span>img.shape<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Separa los canales rojo (r), verde (g) y azul (b) de la imagen utilizando la funci&#243;n `cv.split()`.</span>
<span style="color: #a0522d;">r</span>, <span style="color: #a0522d;">g</span>, <span style="color: #a0522d;">b</span> = cv.split<span style="color: #707183;">(</span>img<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Recombina los canales, pero los reorganiza como rojo, azul y verde (RBG en lugar de RGB).</span>
r2 = cv.merge<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>img2, img2, r<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
g2 = cv.merge<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>img, g, img2<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
b2 = cv.merge<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>b, img2, img2<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">img3 = cv.merge([b, r, g])</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Crea una imagen que contiene solo el canal rojo, llenando los otros dos canales (verde y azul) con ceros (negro).</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">r = cv.merge([r, img2, img2])</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crea una imagen que contiene solo el canal verde, llenando los otros dos canales (rojo y azul) con ceros.</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">g = cv.merge([img2, g, img2])</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crea una imagen que contiene solo el canal azul, llenando los otros dos canales (rojo y verde) con ceros.#</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">b = cv.merge([img2, img2, b])</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Muestra la imagen original en una ventana llamada 'ejemplo'.</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'ejemplo'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'npzeros'</span>, img2<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'r2'</span>, r2<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'g2'</span>, g2<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'b2'</span>, b2<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Muestra la imagen con los canales reorganizados (RBG en lugar de RGB).</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">cv.imshow('img3', img3)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Espera indefinidamente a que el usuario presione una tecla.</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cierra todas las ventanas abiertas por OpenCV.</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org5e5d730" class="outline-4">
<h4 id="org5e5d730">Ejemplo de Operador Puntual en Im√°genes</h4>
<div class="outline-text-4" id="text-org5e5d730">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv

<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'salida'</span>, img<span style="color: #707183;">)</span>
<span style="color: #a0522d;">x</span>,<span style="color: #a0522d;">y</span>=img.shape
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>x<span style="color: #707183;">)</span>:
        <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>y<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span><span style="color: #707183;">[</span><span style="color: #a0522d;">i</span>,<span style="color: #a0522d;">j</span><span style="color: #707183;">]</span>=255-img<span style="color: #707183;">[</span>i,j<span style="color: #707183;">]</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'negativo'</span>, img<span style="color: #707183;">)</span>
<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span> img.shape, x , y<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org00b9373" class="outline-4">
<h4 id="org00b9373">Cargar v√≠deo Opencv</h4>
<div class="outline-text-4" id="text-org00b9373">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a0522d;">cap</span> = cv.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span><span style="color: #707183;">(</span><span style="color: #008b8b;">True</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">img</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a0522d;">ret</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'video'</span>, img<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   img2 = cv.cvtColor<span style="color: #707183;">(</span>img, cv.COLOR_BGR2HSV<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'video1'</span>, img2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">k</span> =cv.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> k == 27 :
            <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">else</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>  
cap.release<span style="color: #707183;">()</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>




<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a0522d;">cap</span> = cv.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span><span style="color: #707183;">(</span><span style="color: #008b8b;">True</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">img</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a0522d;">ret</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'video'</span>, img<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   img2 = cv.cvtColor<span style="color: #707183;">(</span>img, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">hsv</span> = cv.cvtColor<span style="color: #707183;">(</span>img, cv.COLOR_BGR2HSV<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">w</span>,<span style="color: #a0522d;">h</span> = img2.shape
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img3</span>=255-img2
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img2'</span>, img2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'hsv'</span>, hsv<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img3'</span>, img3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">k</span> =cv.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> k == 27 :
            <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">else</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   
cap.release<span style="color: #707183;">()</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-org99f3184" class="outline-4">
<h4 id="org99f3184">Conteo</h4>
<div class="outline-text-4" id="text-org99f3184">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #a0522d;">COLOR_MANCHA</span> = 90
<span style="color: #a0522d;">COLOR_FONDO</span> = 200
<span style="color: #a0522d;">TIEMPO_ESPERA</span> = 10 

<span style="color: #b22222;"># </span><span style="color: #b22222;">--- Carga y preprocesamiento de la imagen ---</span>
<span style="color: #a0522d;">img_gray</span> = cv2.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">"salida1.png"</span>, cv2.IMREAD_GRAYSCALE<span style="color: #707183;">)</span>

<span style="color: #a020f0;">if</span> img_gray <span style="color: #a020f0;">is</span> <span style="color: #008b8b;">None</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Error: No se pudo cargar la imagen. Aseg&#250;rate de que 'salida1.png' existe."</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Redimensionar</span>
escala = 0.7
<span style="color: #a0522d;">dim</span> = <span style="color: #707183;">(</span><span style="color: #483d8b;">int</span><span style="color: #7388d6;">(</span>img_gray.shape<span style="color: #909183;">[</span>1<span style="color: #909183;">]</span> * escala<span style="color: #7388d6;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #7388d6;">(</span>img_gray.shape<span style="color: #909183;">[</span>0<span style="color: #909183;">]</span> * escala<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="color: #a0522d;">img_gray_resized</span> = cv2.resize<span style="color: #707183;">(</span>img_gray, dim, interpolation=cv2.INTER_AREA<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Binarizar: las manchas son 255 (blanco), el fondo es 0 (negro)</span>
_, binary_img = cv2.threshold<span style="color: #707183;">(</span>img_gray_resized, 127, 255, cv2.THRESH_BINARY<span style="color: #707183;">)</span>

filas, cols = binary_img.shape
visitado = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>filas, cols<span style="color: #7388d6;">)</span>, dtype=<span style="color: #483d8b;">bool</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Copiar la imagen binarizada para trabajar sobre ella</span>
output_img = binary_img.copy<span style="color: #707183;">()</span>

vecinos_8_direcciones = <span style="color: #707183;">[</span><span style="color: #7388d6;">(</span>-1, -1<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>-1, 0<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>-1, 1<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span><span style="color: #7388d6;">(</span>0, -1<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>0, 1<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span><span style="color: #7388d6;">(</span>1, -1<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>1, 0<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>1, 1<span style="color: #7388d6;">)</span><span style="color: #707183;">]</span>

conteo = 0
cv2.namedWindow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Img"</span><span style="color: #707183;">)</span>

<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>filas<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>cols<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Si el usuario presiona 'q', salimos de los bucles</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> visitado<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Si el p&#237;xel es una mancha, la procesamos y la contamos</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> binary_img<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span> == 255:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   conteo += 1
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   pila = <span style="color: #707183;">[</span><span style="color: #7388d6;">(</span>i, j<span style="color: #7388d6;">)</span><span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   visitado<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span> = <span style="color: #008b8b;">True</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> pila:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   x, y = pila.pop<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   output_img<span style="color: #707183;">[</span>x, y<span style="color: #707183;">]</span> = COLOR_MANCHA
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la animaci&#243;n para cada p&#237;xel de la mancha</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Proceso de Conteo y Pintado"</span>, output_img<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>TIEMPO_ESPERA<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> dx, dy <span style="color: #a020f0;">in</span> vecinos_8_direcciones:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   nx, ny = x + dx, y + dy
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> 0 &lt;= nx &lt; filas <span style="color: #a020f0;">and</span> 0 &lt;= ny &lt; cols <span style="color: #a020f0;">and</span> \
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>  binary_img<span style="color: #707183;">[</span>nx, ny<span style="color: #707183;">]</span> == 255 <span style="color: #a020f0;">and</span> <span style="color: #a020f0;">not</span> visitado<span style="color: #707183;">[</span>nx, ny<span style="color: #707183;">]</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   visitado<span style="color: #707183;">[</span>nx, ny<span style="color: #707183;">]</span> = <span style="color: #008b8b;">True</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   pila.append<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>nx, ny<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Salir del bucle si se presion&#243; 'q' en el bucle interno</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Si el p&#237;xel es parte del fondo, lo coloreamos y lo marcamos como visitado</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">else</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   output_img<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span> = COLOR_FONDO
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   visitado<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span> = <span style="color: #008b8b;">True</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la animaci&#243;n para los p&#237;xeles del fondo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Proceso de Conteo y Pintado"</span>, output_img<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>TIEMPO_ESPERA // 5<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>: <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo m&#225;s r&#225;pido</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Salir del bucle exterior si se presion&#243; 'q'</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">--- Mostrar el resultado final y limpiar ---</span>
<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span>f<span style="color: #8b2252;">"N&#250;mero de manchas encontradas: </span>{conteo}<span style="color: #8b2252;">"</span><span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Resultado Final"</span>, output_img<span style="color: #707183;">)</span>
cv2.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-orgd640b7f" class="outline-3">
<h3 id="orgd640b7f">Ejemplos de Transformaciones Geom√©tricas en Modo Raw en Python</h3>
<div class="outline-text-3" id="text-orgd640b7f">
</div>
<div id="outline-container-org2b0c044" class="outline-4">
<h4 id="org2b0c044">1. Traslaci√≥n</h4>
<div class="outline-text-4" id="text-org2b0c044">
<p>
En esta transformaci√≥n, desplazamos la imagen en el espacio sumando un valor fijo a las coordenadas de los p√≠xeles.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener el tama&#241;o de la imagen</span>
<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> = img.shape

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una imagen vac&#237;a para la traslaci&#243;n</span>
<span style="color: #a0522d;">translated_img</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>x, y<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el desplazamiento en x e y</span>
<span style="color: #a0522d;">dx</span>, <span style="color: #a0522d;">dy</span> = 100, 50

<span style="color: #b22222;"># </span><span style="color: #b22222;">Trasladar la imagen</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>x<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>y<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   new_x = i + 20
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   new_y = j + 30
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> 0 &lt;= new_x &lt; x <span style="color: #a020f0;">and</span> 0 &lt;= new_y &lt; y:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   translated_img<span style="color: #707183;">[</span><span style="color: #a0522d;">new_x</span>, <span style="color: #a0522d;">new_y</span><span style="color: #707183;">]</span> = img<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la trasladada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Trasladada'</span>, translated_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc0d7088" class="outline-4">
<h4 id="orgc0d7088">2. Rotaci√≥n (alrededor del centro de la imagen)</h4>
<div class="outline-text-4" id="text-orgc0d7088">
<p>
La rotaci√≥n se realiza alrededor del centro de la imagen, utilizando las f√≥rmulas matem√°ticas correspondientes.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">import</span> math

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span>img.shape<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener el tama&#241;o de la imagen</span>
<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> = img.shape

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una imagen vac&#237;a para almacenar el resultado</span>

<span style="color: #a0522d;">rotated_img</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>x*2, y*2<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="color: #a0522d;">xx</span>, <span style="color: #a0522d;">yy</span> = rotated_img.shape
<span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular el centro de la imagen</span>
<span style="color: #a0522d;">cx</span>, <span style="color: #a0522d;">cy</span> = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>x  // 2<span style="color: #707183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>y  // 2<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el &#225;ngulo de rotaci&#243;n (en grados) y convertirlo a radianes</span>
angle = 45
theta = math.radians<span style="color: #707183;">(</span>angle<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar la imagen</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>x<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>y<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   new_x = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>j - cx<span style="color: #7388d6;">)</span> * math.cos<span style="color: #7388d6;">(</span>theta<span style="color: #7388d6;">)</span> - <span style="color: #7388d6;">(</span>i - cy<span style="color: #7388d6;">)</span> * math.sin<span style="color: #7388d6;">(</span>theta<span style="color: #7388d6;">)</span> + cx<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   new_y = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>j - cx<span style="color: #7388d6;">)</span> * math.sin<span style="color: #7388d6;">(</span>theta<span style="color: #7388d6;">)</span> + <span style="color: #7388d6;">(</span>i - cy<span style="color: #7388d6;">)</span> * math.cos<span style="color: #7388d6;">(</span>theta<span style="color: #7388d6;">)</span> + cy<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> 0 &lt;= new_x &lt; y <span style="color: #a020f0;">and</span> 0 &lt;= new_y &lt; x:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   rotated_img<span style="color: #707183;">[</span><span style="color: #a0522d;">new_y</span>, <span style="color: #a0522d;">new_x</span><span style="color: #707183;">]</span> = img<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la rotada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Rotada (modo raw)'</span>, rotated_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">import</span> math

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span>img.shape<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener el tama&#241;o de la imagen</span>
<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> = img.shape

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una imagen vac&#237;a para almacenar el resultado</span>

<span style="color: #a0522d;">rotated_img</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>x*2, y*2<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="color: #a0522d;">xx</span>, <span style="color: #a0522d;">yy</span> = rotated_img.shape
<span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular el centro de la imagen</span>
<span style="color: #a0522d;">cx</span>, <span style="color: #a0522d;">cy</span> = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>x  // 2<span style="color: #707183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>y  // 2<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el &#225;ngulo de rotaci&#243;n (en grados) y convertirlo a radianes</span>
angle = 45
theta = math.radians<span style="color: #707183;">(</span>angle<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar la imagen</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>x<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>y<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   new_x = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span><span style="color: #7388d6;">(</span><span style="color: #909183;">(</span>j * math.cos<span style="color: #709870;">(</span>theta<span style="color: #709870;">)</span> + i * math.sin<span style="color: #709870;">(</span>theta<span style="color: #709870;">)</span><span style="color: #909183;">)</span>+100<span style="color: #7388d6;">)</span>*2<span style="color: #707183;">)</span> 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   new_y = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span><span style="color: #7388d6;">(</span><span style="color: #909183;">(</span>- j * math.sin<span style="color: #709870;">(</span>theta<span style="color: #709870;">)</span> + i * math.cos<span style="color: #709870;">(</span>theta<span style="color: #709870;">)</span><span style="color: #909183;">)</span>+100<span style="color: #7388d6;">)</span>*2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> 0 &lt;= new_x &lt; yy <span style="color: #a020f0;">and</span> 0 &lt;= new_y &lt; xx:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   rotated_img<span style="color: #707183;">[</span><span style="color: #a0522d;">new_y</span>, <span style="color: #a0522d;">new_x</span><span style="color: #707183;">]</span> = img<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la rotada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Rotada (modo raw)'</span>, rotated_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">import</span> math

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>
<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span>img.shape<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener el tama&#241;o de la imagen</span>
<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> = img.shape
<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una imagen vac&#237;a para almacenar el resultado</span>
<span style="color: #a0522d;">img2</span> = np.ones<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>x*2, y*2<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>*234
<span style="color: #a0522d;">xx</span>, <span style="color: #a0522d;">yy</span> = img2.shape
<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span>xx, yy<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular el centro de la imagen</span>
<span style="color: #a0522d;">cy</span>, <span style="color: #a0522d;">cx</span> = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>xx  // 2<span style="color: #707183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>yy  // 2<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el &#225;ngulo de rotaci&#243;n (en grados) y convertirlo a radianes</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar la imagen</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>x<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>y<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   new_x = j+cx 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   new_y = i+cy
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> 0 &lt;= new_x &lt; yy <span style="color: #a020f0;">and</span> 0 &lt;= new_y &lt; xx:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   img2<span style="color: #707183;">[</span><span style="color: #a0522d;">new_y</span>, <span style="color: #a0522d;">new_x</span><span style="color: #707183;">]</span> = img<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la rotada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Rotada (modo raw)'</span>, img2<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>




<div id="outline-container-orgde0a9c8" class="outline-4">
<h4 id="orgde0a9c8">3. Escalado</h4>
<div class="outline-text-4" id="text-orgde0a9c8">
<p>
El escalado cambia el tama√±o de la imagen multiplicando las coordenadas por un factor de escala.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener el tama&#241;o de la imagen</span>
<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> = img.shape
<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el factor de escala</span>
<span style="color: #a0522d;">scale_x</span>, <span style="color: #a0522d;">scale_y</span> = 2, 2
<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una nueva imagen para almacenar el escalado</span>
<span style="color: #a0522d;">scaled_img</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span><span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>x * scale_y<span style="color: #909183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>y * scale_x<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar el escalado</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>x<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>y<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>  <span style="color: #b22222;">#</span><span style="color: #b22222;">orig_x = int(i * scale_y)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>  <span style="color: #b22222;">#</span><span style="color: #b22222;">orig_y = int(j * scale_x)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>  scaled_img<span style="color: #707183;">[</span>i*2, j*2<span style="color: #707183;">]</span> = img<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la escalada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Escalada (modo raw)'</span>, scaled_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdf17480" class="outline-4">
<h4 id="orgdf17480">4. Cizallamiento (Shearing)</h4>
<div class="outline-text-4" id="text-orgdf17480">
<p>
En el cizallamiento, los p√≠xeles se desplazan en una direcci√≥n proporcional a otra, lo que inclina la imagen.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener el tama&#241;o de la imagen</span>
<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> = img.shape

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una imagen vac&#237;a para el cizallamiento</span>
<span style="color: #a0522d;">sheared_img</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>x, y<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el factor de cizallamiento</span>
shear_factor_x = 0.5

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar el cizallamiento en el eje x</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>x<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>y<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   new_x = i
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   new_y = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>j + shear_factor_x * i<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> 0 &lt;= new_x &lt; x <span style="color: #a020f0;">and</span> 0 &lt;= new_y &lt; y:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sheared_img<span style="color: #707183;">[</span><span style="color: #a0522d;">new_x</span>, <span style="color: #a0522d;">new_y</span><span style="color: #707183;">]</span> = img<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la cizallada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Cizallada (modo raw)'</span>, sheared_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org78dd479" class="outline-4">
<h4 id="org78dd479">5. Reflexi√≥n (Reflection)</h4>
<div class="outline-text-4" id="text-org78dd479">
<p>
La reflexi√≥n voltea la imagen sobre un eje, como el eje vertical o horizontal.
</p>
</div>

<ul class="org-ul">
<li><a id="orgcb5e84b"></a>Reflexi√≥n horizontal<br />
<div class="outline-text-5" id="text-orgcb5e84b">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener el tama&#241;o de la imagen</span>
<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> = img.shape

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una imagen vac&#237;a para la reflexi&#243;n</span>
<span style="color: #a0522d;">reflected_img</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>x, y<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la reflexi&#243;n horizontal</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>x<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>y<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   reflected_img<span style="color: #707183;">[</span>i, y - j - 1<span style="color: #707183;">]</span> = img<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la reflejada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Reflejada Horizontalmente (modo raw)'</span>, reflected_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>

<li><a id="orgb45d482"></a>Reflexi√≥n vertical<br />
<div class="outline-text-5" id="text-orgb45d482">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener el tama&#241;o de la imagen</span>
<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> = img.shape

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una imagen vac&#237;a para la reflexi&#243;n</span>
<span style="color: #a0522d;">reflected_img</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>x, y<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la reflexi&#243;n vertical</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>x<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>y<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   reflected_img<span style="color: #707183;">[</span>x - i - 1, j<span style="color: #707183;">]</span> = img<span style="color: #707183;">[</span>i, j<span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la reflejada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Reflejada Verticalmente (modo raw)'</span>, reflected_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>
</ul>
</div>
</div>


<div id="outline-container-org48a89c8" class="outline-3">
<h3 id="org48a89c8">Ejemplos de Transformaciones Geom√©tricas en Python usando OpenCV</h3>
<div class="outline-text-3" id="text-org48a89c8">
</div>
<div id="outline-container-org4a9fa07" class="outline-4">
<h4 id="org4a9fa07">1. Traslaci√≥n</h4>
<div class="outline-text-4" id="text-org4a9fa07">
<p>
En OpenCV, la traslaci√≥n se realiza usando matrices de transformaci√≥n
af√≠n y la funci√≥n `cv.warpAffine()`.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener el tama&#241;o de la imagen</span>
<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> = img.shape

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el desplazamiento en x e y</span>
<span style="color: #a0522d;">dx</span>, <span style="color: #a0522d;">dy</span> = 100, 50

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear la matriz de traslaci&#243;n</span>
<span style="color: #a0522d;">M</span> = np.float32<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>1, 0, dx<span style="color: #909183;">]</span>, <span style="color: #909183;">[</span>0, 1, dy<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la traslaci&#243;n usando warpAffine</span>
<span style="color: #a0522d;">translated_img</span> = cv.warpAffine<span style="color: #707183;">(</span>img, M, <span style="color: #7388d6;">(</span>y, x<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la trasladada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Trasladada'</span>, translated_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org8ba0820" class="outline-4">
<h4 id="org8ba0820">2. Rotaci√≥n (alrededor del centro de la imagen)</h4>
<div class="outline-text-4" id="text-org8ba0820">
<p>
La rotaci√≥n alrededor del centro de la imagen se puede realizar con la funci√≥n `cv.getRotationMatrix2D()`.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener el tama&#241;o de la imagen</span>
<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> = img.shape

<span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular el centro de la imagen</span>
<span style="color: #a0522d;">center</span> = <span style="color: #707183;">(</span>y // 2, x // 2<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el &#225;ngulo de rotaci&#243;n (en grados)</span>
<span style="color: #a0522d;">angle</span> = 45

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear la matriz de rotaci&#243;n</span>
<span style="color: #a0522d;">M</span> = cv.getRotationMatrix2D<span style="color: #707183;">(</span>center, angle, 1.0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la rotaci&#243;n usando warpAffine</span>
<span style="color: #a0522d;">rotated_img</span> = cv.warpAffine<span style="color: #707183;">(</span>img, M, <span style="color: #7388d6;">(</span>y, x<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la rotada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Rotada'</span>, rotated_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgee00238" class="outline-4">
<h4 id="orgee00238">3. Escalado</h4>
<div class="outline-text-4" id="text-orgee00238">
<p>
El escalado se puede realizar usando la funci√≥n `cv.resize()`.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el factor de escala</span>
<span style="color: #a0522d;">scale_x</span>, <span style="color: #a0522d;">scale_y</span> = 2, 2

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar el escalado usando cv.resize()</span>
<span style="color: #a0522d;">scaled_img</span> = cv.resize<span style="color: #707183;">(</span>img, <span style="color: #008b8b;">None</span>, fx=scale_x, fy=scale_y<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la escalada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Escalada'</span>, scaled_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org726b4c4" class="outline-4">
<h4 id="org726b4c4">4. Cizallamiento (Shearing)</h4>
<div class="outline-text-4" id="text-org726b4c4">
<p>
El cizallamiento se puede realizar creando una matriz de transformaci√≥n af√≠n personalizada.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener el tama&#241;o de la imagen</span>
<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> = img.shape

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el factor de cizallamiento</span>
<span style="color: #a0522d;">shear_factor</span> = 0.5

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear la matriz de cizallamiento</span>
<span style="color: #a0522d;">M</span> = np.float32<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>1, shear_factor, 0<span style="color: #909183;">]</span>, <span style="color: #909183;">[</span>0, 1, 0<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar el cizallamiento usando warpAffine</span>
<span style="color: #a0522d;">sheared_img</span> = cv.warpAffine<span style="color: #707183;">(</span>img, M, <span style="color: #7388d6;">(</span>y, x<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la cizallada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Cizallada'</span>, sheared_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc78d6ad" class="outline-4">
<h4 id="orgc78d6ad">5. Reflexi√≥n (Reflection)</h4>
<div class="outline-text-4" id="text-orgc78d6ad">
<p>
En OpenCV, la reflexi√≥n de una imagen se realiza con la funci√≥n `cv.flip()`.
</p>
</div>

<ul class="org-ul">
<li><a id="org05eaa2d"></a>Reflexi√≥n horizontal<br />
<div class="outline-text-5" id="text-org05eaa2d">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la reflexi&#243;n horizontal usando cv.flip()</span>
<span style="color: #a0522d;">reflected_img</span> = cv.flip<span style="color: #707183;">(</span>img, 1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la reflejada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Reflejada Horizontalmente'</span>, reflected_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>

<li><a id="orgd16701c"></a>Reflexi√≥n vertical<br />
<div class="outline-text-5" id="text-orgd16701c">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la imagen en escala de grises</span>
<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'tr.png'</span>, 0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la reflexi&#243;n vertical usando cv.flip()</span>
<span style="color: #a0522d;">reflected_img</span> = cv.flip<span style="color: #707183;">(</span>img, 0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen original y la reflejada</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Original'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Imagen Reflejada Verticalmente'</span>, reflected_img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>
</ul>
</div>
</div>


<div id="outline-container-orgc869a3a" class="outline-3">
<h3 id="orgc869a3a">Primitivas de Dibujo</h3>
<div class="outline-text-3" id="text-orgc869a3a">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np 

<span style="color: #a0522d;">img</span> = np.ones<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>500,500<span style="color: #7388d6;">)</span>, np.uint8<span style="color: #707183;">)</span>*150 
cv.rectangle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>10,10<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>200,100<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>34,56,100<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
cv.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>255,255<span style="color: #7388d6;">)</span>, 1, <span style="color: #7388d6;">(</span>23, 43, 144<span style="color: #7388d6;">)</span>, -1 <span style="color: #707183;">)</span>
cv.line<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>255,255<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>200,100<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>23, 244, 144<span style="color: #7388d6;">)</span>, 4<span style="color: #707183;">)</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>400<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   cv.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>i,i<span style="color: #7388d6;">)</span>, i , <span style="color: #7388d6;">(</span>255, 0, 0<span style="color: #7388d6;">)</span>, -1 <span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cv.rectangle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>10+i,10<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>200,100<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>34,56,100<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img'</span>, img<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">img = np.ones((500,500,3), np.uint8)*150 </span>
<span style="background-color: #f2f2f2;"> </span>   cv.waitKey<span style="color: #707183;">(</span>30<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   




cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img'</span>, img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>






</pre>
</div>

<div class="org-src-container">
<pre class="src src-python">
<span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a0522d;">valor</span>::<span style="color: #483d8b;">int</span>
img = np.ones<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>500, 500, 3<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>*255 
cv.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>250, 250<span style="color: #7388d6;">)</span>, 50, <span style="color: #7388d6;">(</span>0,234,21<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
cv.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>250, 250<span style="color: #7388d6;">)</span>, 30, <span style="color: #7388d6;">(</span>0,0,0<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
cv.line<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>1,1<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>230, 240<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>0,234,21<span style="color: #7388d6;">)</span>, 3   <span style="color: #707183;">)</span>
cv.rectangle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>20,20<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>50,60<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>0,0,0<span style="color: #7388d6;">)</span>, 3 <span style="color: #707183;">)</span>
pts = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>10,5<span style="color: #909183;">]</span>,<span style="color: #909183;">[</span>20,30<span style="color: #909183;">]</span>,<span style="color: #909183;">[</span>70,20<span style="color: #909183;">]</span>,<span style="color: #909183;">[</span>50,10<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>, np.int32<span style="color: #707183;">)</span>
pts = pts.reshape<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>-1,1,2<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
cv.polylines<span style="color: #707183;">(</span>img,<span style="color: #7388d6;">[</span>pts<span style="color: #7388d6;">]</span>,<span style="color: #008b8b;">True</span>,<span style="color: #7388d6;">(</span>0,0,0<span style="color: #7388d6;">)</span>, 3<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img'</span>, img<span style="color: #707183;">)</span>
cv.waitKey<span style="color: #707183;">()</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>



</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #a0522d;">img</span> = np.ones<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>500, 600, 3<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>*255 
<span style="color: #a0522d;">x</span>,<span style="color: #a0522d;">y</span>,<span style="color: #a0522d;">z</span>  = img.shape

window_name = <span style="color: #8b2252;">'Image'</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">font</span>
font = cv.FONT_HERSHEY_SIMPLEX
fontScale = 1
color = <span style="color: #707183;">(</span>255, 0, 0<span style="color: #707183;">)</span>
thickness = 2
<span style="background-color: #f2f2f2;"> </span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Using cv2.putText() method</span>


<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>x<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>y<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   img = np.ones<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>500, 500, 3<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>*255 
<span style="background-color: #f2f2f2;"> </span>   cv.putText<span style="color: #707183;">(</span>img, <span style="color: #8b2252;">'x= '</span>+<span style="color: #483d8b;">str</span><span style="color: #7388d6;">(</span>i<span style="color: #7388d6;">)</span>+<span style="color: #8b2252;">'y= '</span>+<span style="color: #483d8b;">str</span><span style="color: #7388d6;">(</span>i<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>i-30, i-30<span style="color: #7388d6;">)</span>, font, 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>  fontScale, color, thickness, cv.LINE_AA<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   cv.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>0+i, 0+i<span style="color: #7388d6;">)</span>, 20, <span style="color: #7388d6;">(</span>0,234,21<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img'</span>, img<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cv.waitKey<span style="color: #707183;">(</span>40<span style="color: #707183;">)</span>

cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>


</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Dimensiones de la ventana</span>
<span style="color: #a0522d;">ancho</span>, <span style="color: #a0522d;">alto</span> = 600, 400
<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear fondo negro</span>
<span style="color: #a0522d;">fondo</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>alto, ancho, 3<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n inicial de la bolita</span>
<span style="color: #a0522d;">pos_x</span>, <span style="color: #a0522d;">pos_y</span> = 100, 100
<span style="color: #b22222;"># </span><span style="color: #b22222;">Velocidades en x e y</span>
<span style="color: #a0522d;">vel_x</span>, <span style="color: #a0522d;">vel_y</span> = 5, 3
<span style="color: #b22222;"># </span><span style="color: #b22222;">Radio de la bolita</span>
radio = 20

<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear fondo negro en cada frame</span>
<span style="background-color: #f2f2f2;"> </span>   fondo = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>alto, ancho, 3<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar bolita</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>  
<span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>fondo, <span style="color: #7388d6;">(</span>pos_x, pos_y<span style="color: #7388d6;">)</span>, radio, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="color: #b22222;">#    </span>
<span style="color: #b22222;">#    </span><span style="color: #b22222;"># Actualizar posici&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   pos_x += vel_x
<span style="background-color: #f2f2f2;"> </span>   pos_y += vel_y
<span style="color: #b22222;">#</span>
<span style="color: #b22222;">#    </span><span style="color: #b22222;"># Rebote en los bordes</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> pos_x - radio &lt;= 0 <span style="color: #a020f0;">or</span> pos_x + radio &gt;= ancho:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   vel_x = -vel_x
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> pos_y - radio &lt;= 0 <span style="color: #a020f0;">or</span> pos_y + radio &gt;= alto:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   vel_y = -vel_y
<span style="color: #b22222;">#</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar ventana</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Bolita en movimiento"</span>, fondo<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Esperar 30 ms, salir con ESC</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>30<span style="color: #707183;">)</span> &amp; 0xFF == 27:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</div>


<div id="outline-container-org1a36796" class="outline-3">
<h3 id="org1a36796">Parametricas</h3>
<div class="outline-text-3" id="text-org1a36796">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">import</span> cv2

<span style="color: #b22222;"># </span><span style="color: #b22222;">Funci&#243;n para generar un solo punto de la elipse en funci&#243;n del par&#225;metro t</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">generar_punto_elipse</span><span style="color: #707183;">(</span>a, b, t<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">x</span> = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>a * 2* np.cos<span style="color: #7388d6;">(</span>t<span style="color: #7388d6;">)</span> + 200<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Desplazamiento para centrar</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">y</span> = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>b * np.sin<span style="color: #7388d6;">(</span>t<span style="color: #7388d6;">)</span> + 200<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> <span style="color: #707183;">(</span>x, y<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Dimensiones de la imagen</span>
<span style="color: #a0522d;">img_width</span>, <span style="color: #a0522d;">img_height</span> = 800, 800

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una imagen en blanco</span>
<span style="color: #a0522d;">imagen</span> = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>img_height, img_width, 3<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Par&#225;metros de la elipse</span>
a = 200  <span style="color: #b22222;"># </span><span style="color: #b22222;">Semieje mayor</span>
b = 100  <span style="color: #b22222;"># </span><span style="color: #b22222;">Semieje menor</span>
num_puntos = 1000
<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear los valores del par&#225;metro t para la animaci&#243;n</span>
t_vals = np.linspace<span style="color: #707183;">(</span>0, 2 * np.pi, num_puntos<span style="color: #707183;">)</span>
<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span>t_vals<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle de animaci&#243;n</span>
<span style="color: #a020f0;">for</span> t <span style="color: #a020f0;">in</span> t_vals:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una nueva imagen en blanco en cada iteraci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   imagen = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>img_height, img_width, 3<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Generar el punto en la elipse</span>
<span style="background-color: #f2f2f2;"> </span>   punto = generar_punto_elipse<span style="color: #707183;">(</span>a, b, t<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar el punto en la elipse</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>imagen, punto, radius=30, color=<span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, thickness=-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar la trayectoria completa de la elipse (opcional, si quieres ver toda la elipse)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> t_tray <span style="color: #a020f0;">in</span> t_vals:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   pt_tray = generar_punto_elipse<span style="color: #707183;">(</span>a, b, t_tray<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>imagen, pt_tray, radius=1, color=<span style="color: #7388d6;">(</span>255, 255, 255<span style="color: #7388d6;">)</span>, thickness=-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen con el punto en movimiento</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img'</span>, imagen<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Controlar la velocidad de la animaci&#243;n (en milisegundos)</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.waitKey<span style="color: #707183;">(</span>10<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cerrar la ventana despu&#233;s de la animaci&#243;n</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">import</span> cv2

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir los par&#225;metros de la circunferencia</span>
<span style="color: #a0522d;">r</span> = 100  <span style="color: #b22222;"># </span><span style="color: #b22222;">radio</span>
<span style="color: #a0522d;">h</span> = 250  <span style="color: #b22222;"># </span><span style="color: #b22222;">centro en x</span>
<span style="color: #a0522d;">k</span> = 250  <span style="color: #b22222;"># </span><span style="color: #b22222;">centro en y</span>
<span style="color: #a0522d;">num_frames</span> = 100  <span style="color: #b22222;"># </span><span style="color: #b22222;">n&#250;mero de frames en la animaci&#243;n</span>
<span style="color: #a0522d;">t_vals</span> = np.linspace<span style="color: #707183;">(</span>0, 2*np.pi, num_frames<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">valores del par&#225;metro t</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una ventana para mostrar la animaci&#243;n</span>
cv2.namedWindow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Animaci&#243;n Circunferencia'</span>, cv2.WINDOW_AUTOSIZE<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Animar la circunferencia</span>
<span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span><span style="color: #483d8b;">len</span><span style="color: #7388d6;">(</span>t_vals<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">t</span> = t_vals<span style="color: #707183;">[</span>i<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular las coordenadas del punto en la circunferencia</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">x</span> = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>h + r * np.cos<span style="color: #7388d6;">(</span>t<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">y</span> = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>k + r * np.sin<span style="color: #7388d6;">(</span>t<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una imagen en blanco</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">frame</span> = np.ones<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>500, 500, 3<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span> * 255
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar la circunferencia</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>h, k<span style="color: #7388d6;">)</span>, r, <span style="color: #7388d6;">(</span>0, 0, 0<span style="color: #7388d6;">)</span>, 2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar el punto en movimiento</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>x, y<span style="color: #7388d6;">)</span>, 10, <span style="color: #7388d6;">(</span>0, 0, 255<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar el frame en la ventana</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Animaci&#243;n Circunferencia'</span>, frame<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Esperar un corto tiempo para crear la animaci&#243;n (ajustar velocidad)</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.waitKey<span style="color: #707183;">(</span>50<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="color: #b22222;"># </span><span style="color: #b22222;">Cerrar la ventana cuando la animaci&#243;n termine</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">import</span> cv2


<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir los par&#225;metros iniciales</span>
<span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 1000, 1000  <span style="color: #b22222;"># </span><span style="color: #b22222;">Ampliar la ventana para ver toda la figura</span>
<span style="color: #a0522d;">img</span> = np.ones<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>height, width, 3<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>*255

<span style="color: #b22222;"># </span><span style="color: #b22222;">Par&#225;metros de la curva de Limacon</span>
<span style="color: #a0522d;">a</span>, <span style="color: #a0522d;">b</span> = 150, 100  <span style="color: #b22222;"># </span><span style="color: #b22222;">Reducir los valores de a y b para que la curva se ajuste mejor</span>
k = 0.7<span style="color: #b22222;"># </span><span style="color: #b22222;">Constante de multiplicaci&#243;n del &#225;ngulo</span>
theta_increment = 0.05  <span style="color: #b22222;"># </span><span style="color: #b22222;">Incremento del &#225;ngulo</span>
max_theta = 2 * np.pi  <span style="color: #b22222;"># </span><span style="color: #b22222;">Un ciclo completo</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Centro de la imagen</span>
<span style="color: #a0522d;">center_x</span>, <span style="color: #a0522d;">center_y</span> = width // 2, height // 2

theta = 0  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#193;ngulo inicial</span>

<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle infinito</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Limpiar la imagen</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">img = np.ones((width, height, 3), dtype=np.uint8) * 255</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar la curva completa desde 0 hasta theta</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> t <span style="color: #a020f0;">in</span> np.arange<span style="color: #707183;">(</span>0, theta, theta_increment<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular las coordenadas param&#233;tricas (x, y) para la curva de Limacon</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   r = a + b * np.cos<span style="color: #707183;">(</span>k * t<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   x = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>center_x + r * np.cos<span style="color: #7388d6;">(</span>t<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   y = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>center_y + r * np.sin<span style="color: #7388d6;">(</span>t<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un c&#237;rculo en la posici&#243;n calculada</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">cv2.circle(img, (x, y), 3, (0, 234, 0), -1)  # Color rojo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>x-2, y-2<span style="color: #7388d6;">)</span>, 3, <span style="color: #7388d6;">(</span>0, 0, 0<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color rojo</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la constante k en la imagen</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">cv2.putText(img, f"k = {k:.2f}", (20, 40), cv2.FONT_HERSHEY_SIMPLEX, 1, (255, 255, 255), 2)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Parametric Animation"</span>, img<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">img = np.ones((width, height, 3), dtype=np.uint8) * 255</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Incrementar el &#225;ngulo</span>
<span style="background-color: #f2f2f2;"> </span>   theta += theta_increment
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Reiniciar theta si alcanza su valor m&#225;ximo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">if theta &gt;= max_theta:</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#    </span><span style="color: #b22222;">theta = 0  # Reinicia la animaci&#243;n para que se repita</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Pausar para ver la animaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>30<span style="color: #707183;">)</span> &amp; 0xFF == 27:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Esperar 30ms, salir con 'ESC'</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cerrar la ventana al finalizar</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</div>


<div id="outline-container-orgb5d74bb" class="outline-3">
<h3 id="orgb5d74bb">Segmentaci√≥n de color mediante el modelo de color HSV</h3>
<div class="outline-text-3" id="text-orgb5d74bb">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv

<span style="color: #a0522d;">img</span> = cv.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'man1.jpg'</span>, 1<span style="color: #707183;">)</span>
<span style="color: #a0522d;">hsv</span> = cv.cvtColor<span style="color: #707183;">(</span>img, cv.COLOR_BGR2HSV<span style="color: #707183;">)</span>
<span style="color: #a0522d;">uba</span>=<span style="color: #707183;">(</span>10, 255, 255<span style="color: #707183;">)</span>
<span style="color: #a0522d;">ubb</span>=<span style="color: #707183;">(</span>0, 60 ,60<span style="color: #707183;">)</span>
<span style="color: #a0522d;">uba1</span>=<span style="color: #707183;">(</span>180, 255, 255<span style="color: #707183;">)</span>
<span style="color: #a0522d;">ubb1</span>=<span style="color: #707183;">(</span>170, 60 ,60<span style="color: #707183;">)</span>
<span style="color: #a0522d;">mask1</span> = cv.inRange<span style="color: #707183;">(</span>hsv, ubb, uba<span style="color: #707183;">)</span>
<span style="color: #a0522d;">mask2</span> = cv.inRange<span style="color: #707183;">(</span>hsv, ubb1, uba1<span style="color: #707183;">)</span>
<span style="color: #a0522d;">mask</span> = mask1 + mask2
<span style="color: #a0522d;">res</span> = cv.bitwise_and<span style="color: #707183;">(</span>img, img, mask=mask<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'mask1'</span>, mask1<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'mask2'</span>, mask2<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'mask'</span>, mask<span style="color: #707183;">)</span>

cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'res'</span>, res<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img'</span>, img<span style="color: #707183;">)</span>
cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'hsv'</span>, hsv<span style="color: #707183;">)</span>

cv.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a0522d;">cap</span> = cv.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
<span style="color: #a020f0;">while</span><span style="color: #707183;">(</span><span style="color: #008b8b;">True</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">img</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a0522d;">ret</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'video'</span>, img<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   hsv = cv.cvtColor<span style="color: #707183;">(</span>img, cv.COLOR_BGR2HSV<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">uba</span>=<span style="color: #707183;">(</span>10, 255, 255<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ubb</span>=<span style="color: #707183;">(</span>0, 40 ,40<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">mask</span> = cv.inRange<span style="color: #707183;">(</span>hsv, ubb, uba<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">res</span> = cv.bitwise_and<span style="color: #707183;">(</span>img, img, mask=mask<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'res'</span>, res<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'mask'</span>, mask<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   k =cv.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> k == 27 :
            <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">else</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
cap.release<span style="color: #707183;">()</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>

<div id="outline-container-orgbc746ba" class="outline-4">
<h4 id="orgbc746ba">Dibujo utilizando seguimiento por color</h4>
<div class="outline-text-4" id="text-orgbc746ba">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Captura de video</span>
<span style="color: #a0522d;">cap</span> = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear un lienzo para dibujar</span>
<span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="color: #a0522d;">canvas</span> = np.zeros_like<span style="color: #707183;">(</span>frame<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Rango de color (ejemplo: azul)</span>
lower_blue = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>0, 110, 110<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="color: #a0522d;">upper_blue</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>10, 255, 255<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Variable para guardar &#250;ltimo punto</span>
<span style="color: #a0522d;">prev_center</span> = <span style="color: #008b8b;">None</span>

<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> <span style="color: #a0522d;">ret</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir a HSV</span>
<span style="background-color: #f2f2f2;"> </span>   hsv = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2HSV<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear m&#225;scara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">mask</span> = cv2.inRange<span style="color: #707183;">(</span>hsv, lower_blue, upper_blue<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Filtrar ruido</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">mask</span> = cv2.morphologyEx<span style="color: #707183;">(</span>mask, cv2.MORPH_OPEN, np.ones<span style="color: #7388d6;">(</span><span style="color: #909183;">(</span>5,5<span style="color: #909183;">)</span>, np.uint8<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">mask</span> = cv2.morphologyEx<span style="color: #707183;">(</span>mask, cv2.MORPH_DILATE, np.ones<span style="color: #7388d6;">(</span><span style="color: #909183;">(</span>5,5<span style="color: #909183;">)</span>, np.uint8<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Buscar contornos</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">contours</span>, <span style="color: #a0522d;">_</span> = cv2.findContours<span style="color: #707183;">(</span>mask, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a0522d;">contours</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Contorno m&#225;s grande</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   c = <span style="color: #483d8b;">max</span><span style="color: #707183;">(</span>contours, key=cv2.contourArea<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #707183;">(</span>x, y, w, h<span style="color: #707183;">)</span> = cv2.boundingRect<span style="color: #707183;">(</span>c<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   center = <span style="color: #707183;">(</span>x + w//2, y + h//2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar c&#237;rculo en la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>frame, center, 5, <span style="color: #7388d6;">(</span>0, 0, 255<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar l&#237;nea en el lienzo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> prev_center <span style="color: #a020f0;">is</span> <span style="color: #a020f0;">not</span> <span style="color: #008b8b;">None</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.line<span style="color: #707183;">(</span>canvas, prev_center, center, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, 5<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   prev_center = center
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">else</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   prev_center = <span style="color: #008b8b;">None</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Combinar la c&#225;mara y el lienzo</span>
<span style="background-color: #f2f2f2;"> </span>   combined = cv2.add<span style="color: #707183;">(</span>frame, canvas<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar resultados</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Dibujo"</span>, combined<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Mascara"</span>, mask<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   key = cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> key == 27:  <span style="color: #b22222;"># </span><span style="color: #b22222;">ESC para salir</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> key == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'c'</span><span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">'c' para limpiar el lienzo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   canvas = np.zeros_like<span style="color: #707183;">(</span>frame<span style="color: #707183;">)</span>

cap.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np


<span style="color: #a0522d;">camara</span> = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Creamos un lienzo vac&#237;o</span>
<span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">cuadro</span> = camara.read<span style="color: #707183;">()</span>
<span style="color: #a0522d;">lienzo</span> = np.zeros_like<span style="color: #707183;">(</span>cuadro<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Rango del color rojo en HSV</span>
<span style="color: #a0522d;">u_bajo</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>0, 150, 50<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="color: #a0522d;">u_alto</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>10, 255, 255<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

<span style="color: #a0522d;">punto_anterior</span> = <span style="color: #008b8b;">None</span>
<span style="color: #a0522d;">umbral_distancia</span> = 50  <span style="color: #b22222;"># </span><span style="color: #b22222;">para evitar trazos largos falsos</span>

<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">cuadro</span> = camara.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> <span style="color: #a0522d;">ret</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   hsv = cv2.cvtColor<span style="color: #707183;">(</span>cuadro, cv2.COLOR_BGR2HSV<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">mascara</span> = cv2.inRange<span style="color: #707183;">(</span>hsv, u_bajo, u_alto<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.rectangle<span style="color: #707183;">(</span>cuadro, <span style="color: #7388d6;">(</span>10,10<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>100,100<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>0,0,255<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.flip
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Momentos de la m&#225;scara (para calcular el centroide)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">momentos</span> = cv2.moments<span style="color: #707183;">(</span>mascara<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> momentos<span style="color: #707183;">[</span><span style="color: #8b2252;">"m00"</span><span style="color: #707183;">]</span> &gt; 0:  <span style="color: #b22222;"># </span><span style="color: #b22222;">hay p&#237;xeles del color buscado</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">cx</span> = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>momentos<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m10"</span><span style="color: #7388d6;">]</span> / momentos<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m00"</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">cy</span> = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>momentos<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m01"</span><span style="color: #7388d6;">]</span> / momentos<span style="color: #7388d6;">[</span><span style="color: #8b2252;">"m00"</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">punto_actual</span> = <span style="color: #707183;">(</span>cx, cy<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar punto en la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.circle<span style="color: #707183;">(</span>cuadro, punto_actual, 5, <span style="color: #7388d6;">(</span>0, 0, 255<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.putText<span style="color: #707183;">(</span>cuadro, f<span style="color: #8b2252;">'(</span>{<span style="color: #483d8b;">int</span>(cx)}<span style="color: #8b2252;">, </span>{<span style="color: #483d8b;">int</span>(cy)}<span style="color: #8b2252;">)'</span>, <span style="color: #7388d6;">(</span><span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>cx-10<span style="color: #909183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>cy-10<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>, cv2.FONT_HERSHEY_SIMPLEX, 0.7, <span style="color: #7388d6;">(</span>0, 25, 235<span style="color: #7388d6;">)</span>, 2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>  
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar l&#237;nea en el lienzo si el salto no es muy grande</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> punto_anterior <span style="color: #a020f0;">is</span> <span style="color: #a020f0;">not</span> <span style="color: #008b8b;">None</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   distancia = np.linalg.norm<span style="color: #707183;">(</span>np.array<span style="color: #7388d6;">(</span>punto_actual<span style="color: #7388d6;">)</span> - np.array<span style="color: #7388d6;">(</span>punto_anterior<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> distancia &lt; <span style="color: #a0522d;">umbral_distancia</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.line<span style="color: #707183;">(</span>lienzo, punto_anterior, punto_actual, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, 5<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   punto_anterior = punto_actual
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">else</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   punto_anterior = <span style="color: #008b8b;">None</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">combinado</span> = cv2.add<span style="color: #707183;">(</span>cuadro, lienzo<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Dibujo en vivo"</span>, combinado<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Mascara de color"</span>, mascara<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Lienzo"</span>, lienzo<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">tecla</span> = cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> tecla == 27:  <span style="color: #b22222;"># </span><span style="color: #b22222;">ESC para salir</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> tecla == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'c'</span><span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">limpiar lienzo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   lienzo = np.zeros_like<span style="color: #707183;">(</span>cuadro<span style="color: #707183;">)</span>

camara.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</div>
</div>







<div id="outline-container-orga95bcbe" class="outline-3">
<h3 id="orga95bcbe">Capa de Harry Potter</h3>
<div class="outline-text-3" id="text-orga95bcbe">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Captura de video desde la c&#225;mara</span>
<span style="color: #a0522d;">cap</span> = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Permitir que la c&#225;mara se estabilice</span>
cv2.waitKey<span style="color: #707183;">(</span>2000<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Capturar el fondo durante unos segundos</span>
<span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">background</span> = cap.read<span style="color: #707183;">()</span>
<span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> <span style="color: #a0522d;">ret</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Error al capturar el fondo."</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cap.release<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="color: #a020f0;">while</span> cap.isOpened<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> <span style="color: #a0522d;">ret</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir el cuadro a espacio de color HSV</span>
<span style="background-color: #f2f2f2;"> </span>   hsv = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2HSV<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el rango de color de la tela (verde, en este caso) en HSV</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">lower_green</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>170, 40, 40<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">upper_green</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>180, 255, 255<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una m&#225;scara que detecta el &#225;rea verde</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">mask</span> = cv2.inRange<span style="color: #707183;">(</span>hsv, lower_green, upper_green<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Refinar la m&#225;scara (puedes ajustar los par&#225;metros para mejorar la detecci&#243;n)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Invertir la m&#225;scara para obtener las &#225;reas que no son verdes</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">mask_inv</span> = cv2.bitwise_not<span style="color: #707183;">(</span>mask<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la m&#225;scara a la imagen original para mostrar solo las partes no verdes</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">res1</span> = cv2.bitwise_and<span style="color: #707183;">(</span>frame, frame, mask=mask_inv<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar la m&#225;scara al fondo para cubrir las partes verdes</span>
<span style="background-color: #f2f2f2;"> </span>   res2 = cv2.bitwise_and<span style="color: #707183;">(</span>background, background, mask=mask<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Combinar ambas im&#225;genes</span>
<span style="background-color: #f2f2f2;"> </span>   final_output = cv2.addWeighted<span style="color: #707183;">(</span>res1, 1, res2, 1, 0<span style="color: #707183;">)</span> 

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar el resultado final</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Capa de Invisibilidad"</span>, final_output<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'mask'</span>, mask<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Presionar 'q' para salir</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Liberar los recursos</span>
cap.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</div>


<div id="outline-container-org3dc7a68" class="outline-3">
<h3 id="org3dc7a68">Efecto Gris np.where</h3>
<div class="outline-text-3" id="text-org3dc7a68">
<p>
La funci√≥n <b>np.where</b> de NumPy es muy √∫til cuando se quiere
seleccionar elementos de un arreglo o imagen basado en una
condici√≥n. Vamos a desglosar c√≥mo funciona y c√≥mo se aplica en el
contexto de im√°genes.
</p>
</div>

<div id="outline-container-org059a819" class="outline-4">
<h4 id="org059a819">Sintaxis b√°sica de np.where:</h4>
<div class="outline-text-4" id="text-org059a819">
<div class="org-src-container">
<pre class="src src-python">np.where<span style="color: #707183;">(</span>condici&#243;n, valor_si_verdadero, valor_si_falso<span style="color: #707183;">)</span>
</pre>
</div>

<ul class="org-ul">
<li><b>condici√≥n</b>: Una expresi√≥n booleana (True/False) que indica qu√© elementos cumplen la condici√≥n.</li>
<li><b>valor<sub>si</sub><sub>verdadero</sub></b>: El valor que se asigna en las posiciones donde la condici√≥n es <b>True</b>.</li>
<li><b>valor<sub>si</sub><sub>falso</sub></b>: El valor que se asigna en las posiciones donde la condici√≥n es <b>False</b>.</li>
</ul>
</div>

<ul class="org-ul">
<li><a id="orgb7a1f8d"></a>Ejemplo sencillo:<br />
<div class="outline-text-5" id="text-orgb7a1f8d">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Creamos un array de ejemplo</span>
<span style="color: #a0522d;">array</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>1, 2, 3, 4, 5<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicamos np.where para cambiar los valores mayores a 3 por 100 y el resto por 0</span>
<span style="color: #a0522d;">resultado</span> = np.where<span style="color: #707183;">(</span>array &gt; 3, 100, 0<span style="color: #707183;">)</span>

<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span>resultado<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Resultado: [  0   0   0 100 100]</span>
</pre>
</div>

<p>
En este ejemplo, la condici√≥n `array &gt; 3` se cumple para los elementos 4 y 5, por lo que se cambian por 100, mientras que los otros elementos se cambian por 0.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org075fa85" class="outline-4">
<h4 id="org075fa85">Aplicaci√≥n en procesamiento de im√°genes:</h4>
<div class="outline-text-4" id="text-org075fa85">
<p>
Cuando manipulamos im√°genes, cada pixel tiene tres valores (R, G,
B). La idea es usar `np.where` para verificar si un pixel cumple con
la condici√≥n de estar en el rango del color que queremos resaltar (por
ejemplo, rojo). Si el pixel est√° dentro de ese rango, conservamos el
valor original del color. Si no, convertimos ese pixel a escala de
grises.
</p>
</div>

<ul class="org-ul">
<li><a id="org0c661f3"></a>Parte del c√≥digo relevante:<br />
<div class="outline-text-5" id="text-org0c661f3">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">imagen_colores_resaltados</span> = np.where<span style="color: #707183;">(</span>mascara_rojo<span style="color: #7388d6;">[</span>:, :, <span style="color: #008b8b;">None</span><span style="color: #7388d6;">]</span> == 255, imagen, imagen_gris_bgr<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org735995c"></a>Desglose:<br />
<div class="outline-text-5" id="text-org735995c">
<ol class="org-ol">
<li><b>`mascara<sub>rojo</sub>[:, :, None] == 255`</b>:
<ul class="org-ul">
<li>La m√°scara es un arreglo 2D con los mismos altos y anchos que la
imagen original, donde los valores son 255 para los pixeles que
coinciden con el color rojo, y 0 para los que no.</li>
<li><b>`[:, :, None]`</b>: A√±ade una tercera dimensi√≥n para que la m√°scara
coincida con la estructura 3D de la imagen original, donde
tenemos tres canales (R, G, B).</li>
<li>La condici√≥n `== 255` selecciona los p√≠xeles donde el color rojo fue detectado.</li>
</ul></li>

<li><b>`imagen`</b>:
<ul class="org-ul">
<li>Es la imagen original en color. Se utiliza en las posiciones
donde la m√°scara detecta el color rojo (condici√≥n `True`).</li>
</ul></li>

<li><b>`imagen<sub>gris</sub><sub>bgr</sub>`</b>:
<ul class="org-ul">
<li>Es la versi√≥n de la imagen en escala de grises, convertida a
formato BGR. Se usa en las posiciones donde la condici√≥n es
`False`, es decir, donde no se detect√≥ el color rojo.</li>
</ul></li>
</ol>
</div>
</li>

<li><a id="orgb9cc660"></a>Ejemplo visual:<br />
<div class="outline-text-5" id="text-orgb9cc660">
<p>
Imagina que tienes un pixel con los siguientes valores RGB: `(255, 0,
0)` (un rojo intenso). Si este pixel cae dentro del rango de color
rojo, entonces `mascara<sub>rojo</sub>` tendr√° el valor 255 para ese pixel. Esto
har√° que `np.where` conserve el pixel original en color:
</p>

<ul class="org-ul">
<li><b>Condici√≥n True (rojo detectado):</b> Se conserva el pixel original.</li>
<li><b>Condici√≥n False (no es rojo):</b> El pixel se convierte a su equivalente en escala de grises.</li>
</ul>

<p>
****y el  Ejemplo simplificado:
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #b22222;"># </span><span style="color: #b22222;">Si la m&#225;scara es:</span>
mascara_rojo = <span style="color: #707183;">[</span><span style="color: #7388d6;">[</span>255, 0<span style="color: #7388d6;">]</span>, 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">[</span>0, 255<span style="color: #7388d6;">]</span><span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">La imagen original en color (simplificada):</span>
<span style="color: #a0522d;">imagen</span> = <span style="color: #707183;">[</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>255, 0, 0<span style="color: #909183;">]</span>, <span style="color: #909183;">[</span>0, 255, 0<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>0, 0, 255<span style="color: #909183;">]</span>, <span style="color: #909183;">[</span>255, 0, 0<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">La imagen en gris (tambi&#233;n simplificada):</span>
<span style="color: #a0522d;">imagen_gris_bgr</span> = <span style="color: #707183;">[</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>128, 128, 128<span style="color: #909183;">]</span>, <span style="color: #909183;">[</span>128, 128, 128<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>  <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>128, 128, 128<span style="color: #909183;">]</span>, <span style="color: #909183;">[</span>128, 128, 128<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">]</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicando np.where:</span>
resultado = np.where<span style="color: #707183;">(</span>mascara_rojo<span style="color: #7388d6;">[</span>:, :, <span style="color: #008b8b;">None</span><span style="color: #7388d6;">]</span> == 255, imagen, imagen_gris_bgr<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Resultado esperado:</span>
resultado = <span style="color: #707183;">[</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>255, 0, 0<span style="color: #909183;">]</span>, <span style="color: #909183;">[</span>128, 128, 128<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>128, 128, 128<span style="color: #909183;">]</span>, <span style="color: #909183;">[</span>255, 0, 0<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">]</span>
</pre>
</div>

<p>
En el resultado, los pixeles que coinciden con el color rojo permanecen iguales, mientras que los otros se convierten a escala de grises.
</p>
</div>
</li>

<li><a id="orgc8722ce"></a>¬øC√≥mo funciona esto para toda la imagen?<br />
<div class="outline-text-5" id="text-orgc8722ce">
<p>
`np.where` revisa cada pixel de la imagen:
</p>

<ul class="org-ul">
<li><b><b>Si un pixel es rojo (seg√∫n la m√°scara),</b></b> lo toma de la imagen original.</li>
<li><b><b>Si un pixel no es rojo,</b></b> lo toma de la versi√≥n en escala de grises.</li>
</ul>



<ul class="org-ul">
<li><b>np.where</b> act√∫a como un filtro condicional que selecciona valores en base a una m√°scara booleana.</li>
<li>En este caso, se utiliza para dejar intactos los pixeles que coinciden con el color deseado (rojo) y convertir el resto de la imagen a escala de grises.</li>
</ul>



<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Leer la imagen en formato RGB</span>
<span style="color: #a0522d;">imagen</span> = cv2.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'man1.jpg'</span>, 1<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir la imagen de RGB a HSV</span>
<span style="color: #a0522d;">imagen_hsv</span> = cv2.cvtColor<span style="color: #707183;">(</span>imagen, cv2.COLOR_BGR2HSV<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir el rango de color rojo en HSV</span>
<span style="color: #a0522d;">bajo_rojo1</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>0, 40, 40<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="color: #a0522d;">alto_rojo1</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>10, 255, 255<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="color: #a0522d;">bajo_rojo2</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>160, 40, 40<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="color: #a0522d;">alto_rojo2</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>180, 255, 255<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una m&#225;scara para el color rojo</span>
<span style="color: #a0522d;">mascara_rojo1</span> = cv2.inRange<span style="color: #707183;">(</span>imagen_hsv, bajo_rojo1, alto_rojo1<span style="color: #707183;">)</span>
<span style="color: #a0522d;">mascara_rojo2</span> = cv2.inRange<span style="color: #707183;">(</span>imagen_hsv, bajo_rojo2, alto_rojo2<span style="color: #707183;">)</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">mascara_rojo = mascara_rojo1 + mascara_rojo2</span>
<span style="color: #a0522d;">mascara_rojo</span> = cv2.add<span style="color: #707183;">(</span>mascara_rojo1, mascara_rojo2<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir la imagen original a escala de grises</span>
<span style="color: #a0522d;">imagen_gris</span> = cv2.cvtColor<span style="color: #707183;">(</span>imagen, cv2.COLOR_BGR2GRAY<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir la imagen gris a un formato BGR para que coincida con la original</span>
<span style="color: #a0522d;">imagen_gris_bgr</span> = cv2.cvtColor<span style="color: #707183;">(</span>imagen_gris, cv2.COLOR_GRAY2BGR<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Combinar la imagen en gris con las &#225;reas en rojo</span>
<span style="color: #a0522d;">resultado</span> = np.where<span style="color: #707183;">(</span>mascara_rojo<span style="color: #7388d6;">[</span>:, :, <span style="color: #008b8b;">None</span><span style="color: #7388d6;">]</span> == 255, imagen, imagen_gris_bgr<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen final</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Color resaltado'</span>, resultado<span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'mascara_rojo'</span>, mascara_rojo<span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'imagen'</span>, imagen<span style="color: #707183;">)</span>
cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'imagen_gris__bgr'</span>, imagen_gris_bgr<span style="color: #707183;">)</span>
cv2.waitKey<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a0522d;">cap</span> = cv.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span><span style="color: #707183;">(</span><span style="color: #008b8b;">True</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">imagen</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a0522d;">ret</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'video'</span>, imagen<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   imagen_hsv = cv.cvtColor<span style="color: #707183;">(</span>imagen, cv.COLOR_BGR2HSV<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">bajo_azul1</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>100, 40, 40<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">alto_azul1</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>140, 255, 255<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una m&#225;scara para el color rojo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">mascara_azul1</span> = cv.inRange<span style="color: #707183;">(</span>imagen_hsv, bajo_azul1, alto_azul1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir la imagen original a escala de grises</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">imagen_gris</span> = cv.cvtColor<span style="color: #707183;">(</span>imagen, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir la imagen gris a un formato BGR para que coincida con la original</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">imagen_gris_bgr</span> = cv.cvtColor<span style="color: #707183;">(</span>imagen_gris, cv.COLOR_GRAY2BGR<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Combinar la imagen en gris con las &#225;reas en rojo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">resultado</span> = np.where<span style="color: #707183;">(</span>mascara_azul1<span style="color: #7388d6;">[</span>:, :, <span style="color: #008b8b;">None</span><span style="color: #7388d6;">]</span> == 255, imagen, imagen_gris_bgr<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la imagen final</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Color resaltado'</span>, resultado<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   k =cv.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> k == 27 :
            <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">else</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   
cap.release<span style="color: #707183;">()</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>
</ul>
</div>
</div>


<div id="outline-container-orgbe65cd2" class="outline-3">
<h3 id="orgbe65cd2">Flujo optico</h3>
<div class="outline-text-3" id="text-orgbe65cd2">
<div class="org-src-container">
<pre class="src src-python">
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv

<span style="color: #b22222;"># </span><span style="color: #b22222;">Iniciar la captura de video desde la c&#225;mara</span>
<span style="color: #a0522d;">cap</span> = cv.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Par&#225;metros para el flujo &#243;ptico Lucas-Kanade</span>
<span style="color: #a0522d;">lk_params</span> = <span style="color: #483d8b;">dict</span><span style="color: #707183;">(</span>winSize=<span style="color: #7388d6;">(</span>15, 15<span style="color: #7388d6;">)</span>, maxLevel=2,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>criteria=<span style="color: #7388d6;">(</span>cv.TERM_CRITERIA_EPS | cv.TERM_CRITERIA_COUNT, 10, 0.03<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Leer el primer frame de la c&#225;mara</span>
<span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">first_frame</span> = cap.read<span style="color: #707183;">()</span>
prev_gray = cv.cvtColor<span style="color: #707183;">(</span>first_frame, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n inicial de la pelotita (un &#250;nico punto en el centro de la imagen)</span>
ball_pos = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>500, 500<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>, dtype=np.float32<span style="color: #707183;">)</span>
ball_pos = ball_pos<span style="color: #707183;">[</span>:, np.newaxis, :<span style="color: #707183;">]</span>

<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Capturar el siguiente frame</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> ret:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span> =frame.shape<span style="color: #707183;">[</span>:2<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   frame= cv.flip<span style="color: #707183;">(</span>frame,1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir el frame a escala de grises</span>
<span style="background-color: #f2f2f2;"> </span>   gray_frame = cv.cvtColor<span style="color: #707183;">(</span>frame, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular el flujo &#243;ptico para mover la pelotita</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">new_ball_pos</span>, <span style="color: #a0522d;">st</span>, <span style="color: #a0522d;">err</span> = cv.calcOpticalFlowPyrLK<span style="color: #707183;">(</span>prev_gray, gray_frame, ball_pos, <span style="color: #008b8b;">None</span>, **lk_params<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Si se detecta el nuevo movimiento, actualizar la posici&#243;n de la pelotita</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> new_ball_pos <span style="color: #a020f0;">is</span> <span style="color: #a020f0;">not</span> <span style="color: #008b8b;">None</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   ball_pos = new_ball_pos

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar la pelotita en su nueva posici&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">a</span>, <span style="color: #a0522d;">b</span> = ball_pos.ravel<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   frame = cv.circle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span><span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>a<span style="color: #909183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>b<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>, 20, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">ball_pos = np.array([[500, 500]], dtype=np.float32)</span>

<span style="background-color: #f2f2f2;"> </span>   cv.rectangle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>20,20<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>y-20, x-20<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>234,43 ,34<span style="color: #7388d6;">)</span> ,5<span style="color: #707183;">)</span>    
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar solo una ventana con la pelotita en movimiento</span>
<span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Pelota en movimiento'</span>, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Actualizar el frame anterior para el siguiente c&#225;lculo</span>
<span style="background-color: #f2f2f2;"> </span>   prev_gray = gray_frame.copy<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Presionar 'Esc' para salir</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv.waitKey<span style="color: #707183;">(</span>30<span style="color: #707183;">)</span> &amp; 0xFF == 27:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Liberar la captura y destruir todas las ventanas</span>
cap.release<span style="color: #707183;">()</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv

<span style="color: #b22222;"># </span><span style="color: #b22222;">Iniciar la captura de video desde la c&#225;mara</span>
<span style="color: #a0522d;">cap</span> = cv.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Par&#225;metros para el flujo &#243;ptico Lucas-Kanade</span>
<span style="color: #a0522d;">lk_params</span> = <span style="color: #483d8b;">dict</span><span style="color: #707183;">(</span>winSize=<span style="color: #7388d6;">(</span>15, 15<span style="color: #7388d6;">)</span>, maxLevel=2,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>criteria=<span style="color: #7388d6;">(</span>cv.TERM_CRITERIA_EPS | cv.TERM_CRITERIA_COUNT, 10, 0.03<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Leer el primer frame de la c&#225;mara</span>
<span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">first_frame</span> = cap.read<span style="color: #707183;">()</span>
prev_gray = cv.cvtColor<span style="color: #707183;">(</span>first_frame, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n inicial de la pelotita (centro de la imagen)</span>
<span style="color: #a0522d;">h</span>, <span style="color: #a0522d;">w</span> = first_frame.shape<span style="color: #707183;">[</span>:2<span style="color: #707183;">]</span>
ball_pos = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>w // 2, h // 2<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>, dtype=np.float32<span style="color: #707183;">)</span>
ball_pos = ball_pos<span style="color: #707183;">[</span>:, np.newaxis, :<span style="color: #707183;">]</span>

<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Capturar el siguiente frame</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> ret:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener dimensiones del frame</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">h</span>, <span style="color: #a0522d;">w</span> = frame.shape<span style="color: #707183;">[</span>:2<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   frame = cv.flip<span style="color: #707183;">(</span>frame, 1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Voltear la imagen horizontalmente</span>
<span style="background-color: #f2f2f2;"> </span>   gray_frame = cv.cvtColor<span style="color: #707183;">(</span>frame, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular el flujo &#243;ptico para mover la pelotita</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">new_ball_pos</span>, <span style="color: #a0522d;">st</span>, <span style="color: #a0522d;">err</span> = cv.calcOpticalFlowPyrLK<span style="color: #707183;">(</span>prev_gray, gray_frame, ball_pos, <span style="color: #008b8b;">None</span>, **lk_params<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Si se detecta el nuevo movimiento, actualizar la posici&#243;n de la pelotita</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> new_ball_pos <span style="color: #a020f0;">is</span> <span style="color: #a020f0;">not</span> <span style="color: #008b8b;">None</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">a</span>, <span style="color: #a0522d;">b</span> = new_ball_pos.ravel<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Evitar que la pelota salga de los l&#237;mites</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   a = <span style="color: #483d8b;">max</span><span style="color: #707183;">(</span>20, <span style="color: #483d8b;">min</span><span style="color: #7388d6;">(</span>a, w - 20<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   b = <span style="color: #483d8b;">max</span><span style="color: #707183;">(</span>20, <span style="color: #483d8b;">min</span><span style="color: #7388d6;">(</span>b, h - 20<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   ball_pos = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>a, b<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>, dtype=np.float32<span style="color: #707183;">)[</span>:, np.newaxis, :<span style="color: #707183;">]</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar la pelotita en su nueva posici&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">a</span>, <span style="color: #a0522d;">b</span> = ball_pos.ravel<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   frame = cv.circle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span><span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>a<span style="color: #909183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>b<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>, 20, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cv.putText<span style="color: #707183;">(</span>frame, f<span style="color: #8b2252;">'(</span>{<span style="color: #483d8b;">int</span>(a)}<span style="color: #8b2252;">, </span>{<span style="color: #483d8b;">int</span>(b)}<span style="color: #8b2252;">)'</span>, <span style="color: #7388d6;">(</span><span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>a<span style="color: #909183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>b<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>, cv.FONT_HERSHEY_SIMPLEX, 0.7, <span style="color: #7388d6;">(</span>0, 25, 235<span style="color: #7388d6;">)</span>, 2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un rect&#225;ngulo alrededor de la pantalla</span>
<span style="background-color: #f2f2f2;"> </span>   cv.rectangle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>20, 20<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>w - 20, h - 20<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>234, 43, 34<span style="color: #7388d6;">)</span>, 5<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar la ventana con la pelotita en movimiento</span>
<span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Pelota en movimiento'</span>, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Actualizar el frame anterior para el siguiente c&#225;lculo</span>
<span style="background-color: #f2f2f2;"> </span>   prev_gray = gray_frame.copy<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Presionar 'Esc' para salir</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv.waitKey<span style="color: #707183;">(</span>30<span style="color: #707183;">)</span> &amp; 0xFF == 27:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Liberar la captura y destruir todas las ventanas</span>
cap.release<span style="color: #707183;">()</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np 
<span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv

<span style="color: #a0522d;">cap</span> = cv.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>


<span style="color: #a0522d;">lkparm</span> =<span style="color: #483d8b;">dict</span><span style="color: #707183;">(</span>winSize=<span style="color: #7388d6;">(</span>15,15<span style="color: #7388d6;">)</span>, maxLevel=2,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>criteria=<span style="color: #7388d6;">(</span>cv.TERM_CRITERIA_EPS | cv.TERM_CRITERIA_COUNT, 10, 0.03<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span> 


<span style="color: #a0522d;">_</span>, <span style="color: #a0522d;">vframe</span> = cap.read<span style="color: #707183;">()</span>
vgris = cv.cvtColor<span style="color: #707183;">(</span>vframe, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>
p0 = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">(</span>100,100<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>200,100<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>300,100<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>400,100<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>500,100<span style="color: #909183;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>  <span style="color: #909183;">(</span>100,200<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>200,200<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>300,200<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>400,200<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>500,200<span style="color: #909183;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>  <span style="color: #909183;">(</span>100,300<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>200,300<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>300,300<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>400,300<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>500,300<span style="color: #909183;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>  <span style="color: #909183;">(</span>100,400<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>200,400<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>300,400<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>400,400<span style="color: #909183;">)</span>, <span style="color: #909183;">(</span>500,400<span style="color: #909183;">)</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

p0 = np.float32<span style="color: #707183;">(</span>p0<span style="color: #7388d6;">[</span>:, np.newaxis, :<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

mask = np.zeros_like<span style="color: #707183;">(</span>vframe<span style="color: #707183;">)</span> 
cad =<span style="color: #8b2252;">''</span>

<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">_</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   fgris = cv.cvtColor<span style="color: #707183;">(</span>frame, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">p1</span>, <span style="color: #a0522d;">st</span>, <span style="color: #a0522d;">err</span> = cv.calcOpticalFlowPyrLK<span style="color: #707183;">(</span>vgris, fgris, p0, <span style="color: #008b8b;">None</span>, **lkparm<span style="color: #707183;">)</span> 
<span style="background-color: #f2f2f2;"> </span>   gridp = 5 
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> p1 <span style="color: #a020f0;">is</span> <span style="color: #008b8b;">None</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   vgris = cv.cvtColor<span style="color: #707183;">(</span>vframe, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>
<span style="color: #b22222;">#        </span><span style="color: #b22222;">p0 = np.array([(100,100), (200,100), (300,100), (400,100) ])</span>
<span style="color: #b22222;">#        </span><span style="color: #b22222;">p0 = np.float32(p0[:, np.newaxis, :])</span>
<span style="color: #b22222;">#        </span><span style="color: #b22222;">mask = np.zeros_like(vframe)</span>
<span style="color: #b22222;">#        </span><span style="color: #b22222;">cv.imshow('ventana', frame)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">else</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   bp1 = p1<span style="color: #707183;">[</span>st ==1<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   bp0 = p0<span style="color: #707183;">[</span>st ==1<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> i, <span style="color: #707183;">(</span>nv, vj<span style="color: #707183;">)</span> <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">enumerate</span><span style="color: #707183;">(</span><span style="color: #483d8b;">zip</span><span style="color: #7388d6;">(</span>bp1, bp0<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">a</span>, <span style="color: #a0522d;">b</span> = <span style="color: #707183;">(</span><span style="color: #483d8b;">int</span><span style="color: #7388d6;">(</span>x<span style="color: #7388d6;">)</span> <span style="color: #a020f0;">for</span> x <span style="color: #a020f0;">in</span> nv.ravel<span style="color: #7388d6;">()</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">c</span>, <span style="color: #a0522d;">d</span> = <span style="color: #707183;">(</span><span style="color: #483d8b;">int</span><span style="color: #7388d6;">(</span>x<span style="color: #7388d6;">)</span> <span style="color: #a020f0;">for</span> x <span style="color: #a020f0;">in</span> vj.ravel<span style="color: #7388d6;">()</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   dist = np.linalg.norm<span style="color: #707183;">(</span>nv.ravel<span style="color: #7388d6;">()</span> - vj.ravel<span style="color: #7388d6;">()</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.circle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>c,d<span style="color: #7388d6;">)</span>, 5, <span style="color: #7388d6;">(</span>255,0,0<span style="color: #7388d6;">)</span>,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.circle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>a,b<span style="color: #7388d6;">)</span>, 3, <span style="color: #7388d6;">(</span>0,255,0<span style="color: #7388d6;">)</span>,-1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> i &gt; 0 <span style="color: #a020f0;">and</span> i % gridp != 0: 
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">prev_a</span>, <span style="color: #a0522d;">prev_b</span> = <span style="color: #707183;">(</span><span style="color: #483d8b;">int</span><span style="color: #7388d6;">(</span>x<span style="color: #7388d6;">)</span> <span style="color: #a020f0;">for</span> x <span style="color: #a020f0;">in</span> bp1<span style="color: #7388d6;">[</span>i - 1<span style="color: #7388d6;">]</span>.ravel<span style="color: #7388d6;">()</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.line<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>a, b<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>prev_a, prev_b<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> i &gt;= gridp:  
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">top_a</span>, <span style="color: #a0522d;">top_b</span> = <span style="color: #707183;">(</span><span style="color: #483d8b;">int</span><span style="color: #7388d6;">(</span>x<span style="color: #7388d6;">)</span> <span style="color: #a020f0;">for</span> x <span style="color: #a020f0;">in</span> bp1<span style="color: #7388d6;">[</span>i - gridp<span style="color: #7388d6;">]</span>.ravel<span style="color: #7388d6;">()</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.line<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>a, b<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>top_a, top_b<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'ventana'</span>, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   vgris = fgris.copy<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span><span style="color: #707183;">(</span>cv.waitKey<span style="color: #7388d6;">(</span>1<span style="color: #7388d6;">)</span> &amp; 0xff<span style="color: #707183;">)</span> == 27:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

cap.release<span style="color: #707183;">()</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-orgde8e362" class="outline-3">
<h3 id="orgde8e362">Ejemplo de clasificaci√≥n utilizando Haarcascades</h3>
<div class="outline-text-3" id="text-orgde8e362">
<ul class="org-ul">
<li><a href="https://github.com/opencv/opencv/tree/master/data/haarcascades">Clasificadores Haarcascades de la librer√≠a Opencv</a></li>
<li><a href="https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_objdetect/py_face_detection/py_face_detection.html">Tutorial Haarcascades</a></li>
<li><a href="https://docs.opencv.org/2.4/doc/user_guide/ug_traincascade.html">Entrenamiento Haarcascades</a></li>
</ul>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv

<span style="color: #a0522d;">rostro</span> = cv.CascadeClassifier<span style="color: #707183;">(</span><span style="color: #8b2252;">'haarcascade_frontalface_alt2.xml'</span><span style="color: #707183;">)</span>
<span style="color: #a0522d;">cap</span> = cv.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
<span style="color: #a0522d;">x</span>=<span style="color: #a0522d;">y</span>=<span style="color: #a0522d;">w</span>=<span style="color: #a0522d;">h</span>= 0 
<span style="color: #a0522d;">count</span> = 0
<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">gray</span> = cv.cvtColor<span style="color: #707183;">(</span>frame, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">rostros</span> = rostro.detectMultiScale<span style="color: #707183;">(</span>gray, 1.3, 5<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span><span style="color: #707183;">(</span>x, y, w, h<span style="color: #707183;">)</span> <span style="color: #a020f0;">in</span> <span style="color: #a0522d;">rostros</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   m1 = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>h/2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">n1</span> = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>w/2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">frame</span> = cv.rectangle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>x,y<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>x+w, y+h<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>0, 255, 0<span style="color: #7388d6;">)</span>, 2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">frame</span> = cv.circle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>x+n1,y+m1<span style="color: #7388d6;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #7388d6;">(</span>w/2<span style="color: #7388d6;">)</span> , <span style="color: #7388d6;">(</span>255, 0 ,0<span style="color: #7388d6;">)</span>, 2 <span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = frame<span style="color: #707183;">[</span>y:y+h,x:x+w<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">count = count + 1   </span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">name = '/home/likcos/imgs/cara'+str(count)+'.jpg'</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">cv.imwrite(name, frame)</span>
<span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'rostros'</span>, frame<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'cara'</span>, img<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">k</span> = cv.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> k == 27:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
cap.release<span style="color: #707183;">()</span>
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2 <span style="color: #a020f0;">as</span> cv 

<span style="color: #a0522d;">rostro</span> = cv.CascadeClassifier<span style="color: #707183;">(</span><span style="color: #8b2252;">'haarcascade_frontalface_alt.xml'</span><span style="color: #707183;">)</span>
<span style="color: #a0522d;">cap</span> = cv.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">img</span> = cap.read<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">gris</span> = cv.cvtColor<span style="color: #707183;">(</span>img, cv.COLOR_BGR2GRAY<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">rostros</span> = rostro.detectMultiScale<span style="color: #707183;">(</span>gris, 1.3, 5<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span><span style="color: #707183;">(</span>x,y,w,h<span style="color: #707183;">)</span> <span style="color: #a020f0;">in</span> <span style="color: #a0522d;">rostros</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   res = <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>w+h<span style="color: #7388d6;">)</span>/8<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = cv.rectangle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>x,y<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>x+w, y+h<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>234, 23,23<span style="color: #7388d6;">)</span>, 5<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">img = cv.rectangle(img, (x,int(y+h/2)), (x+w, y+h), (0,255,0),5 )</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = cv.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>x + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>w*0.3<span style="color: #909183;">)</span>, y + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>h*0.4<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span> , 21, <span style="color: #7388d6;">(</span>0, 0, 0<span style="color: #7388d6;">)</span>, 2 <span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = cv.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>x + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>w*0.7<span style="color: #909183;">)</span>, y + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>h*0.4<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span> , 21, <span style="color: #7388d6;">(</span>0, 0, 0<span style="color: #7388d6;">)</span>, 2 <span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = cv.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>x + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>w*0.3<span style="color: #909183;">)</span>, y + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>h*0.4<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span> , 20, <span style="color: #7388d6;">(</span>255, 255, 255<span style="color: #7388d6;">)</span>, -1 <span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = cv.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>x + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>w*0.7<span style="color: #909183;">)</span>, y + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>h*0.4<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span> , 20, <span style="color: #7388d6;">(</span>255, 255, 255<span style="color: #7388d6;">)</span>, -1 <span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = cv.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>x + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>w*0.3<span style="color: #909183;">)</span>, y + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>h*0.4<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span> , 5, <span style="color: #7388d6;">(</span>0, 0, 255<span style="color: #7388d6;">)</span>, -1 <span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = cv.circle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>x + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>w*0.7<span style="color: #909183;">)</span>, y + <span style="color: #483d8b;">int</span><span style="color: #909183;">(</span>h*0.4<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span> , 5, <span style="color: #7388d6;">(</span>0, 0, 255<span style="color: #7388d6;">)</span>, -1 <span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = cv.rectangle<span style="color: #707183;">(</span>img, <span style="color: #7388d6;">(</span>x+10,y+10<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>x+w, y+h<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>234,0 ,234<span style="color: #7388d6;">)</span>, 5<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img2</span>=  img<span style="color: #707183;">[</span>y:y+h,x:x+w<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img2'</span>, img2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   cv.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'img'</span>, img<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>== <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>
<span style="background-color: #f2f2f2;"> </span>   
cap.release
cv.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar la m&#225;scara que deseas agregar (aseg&#250;rate de que sea PNG con transparencia)</span>
<span style="color: #a0522d;">mascara</span> = cv2.imread<span style="color: #707183;">(</span><span style="color: #8b2252;">'cubre3.png'</span>, cv2.IMREAD_UNCHANGED<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar PNG con transparencia</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Verificar si la imagen tiene un canal alfa</span>
<span style="color: #a020f0;">if</span> mascara.shape<span style="color: #707183;">[</span>2<span style="color: #707183;">]</span> != 4:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Error: La imagen no tiene canal alfa."</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar el clasificador preentrenado de rostros</span>
face_cascade = cv2.CascadeClassifier<span style="color: #707183;">(</span><span style="color: #8b2252;">'haarcascade_frontalface_alt2.xml'</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Capturar video desde la c&#225;mara</span>
<span style="color: #a0522d;">video</span> = cv2.VideoCapture<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Definir un desplazamiento para mover la m&#225;scara</span>
<span style="color: #a0522d;">desplazamiento_x</span> = -100  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover 50 p&#237;xeles hacia la derecha</span>
<span style="color: #a0522d;">desplazamiento_y</span> = 90  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover 30 p&#237;xeles hacia arriba</span>

<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Leer cada frame del video</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ret</span>, <span style="color: #a0522d;">frame</span> = video.read<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> <span style="color: #a0522d;">ret</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir el frame a escala de grises</span>
<span style="background-color: #f2f2f2;"> </span>   frame_gris = cv2.cvtColor<span style="color: #707183;">(</span>frame, cv2.COLOR_BGR2GRAY<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Detectar los rostros en el frame</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">rostros</span> = face_cascade.detectMultiScale<span style="color: #707183;">(</span>frame_gris, scaleFactor=1.1, minNeighbors=5, minSize=<span style="color: #7388d6;">(</span>30, 30<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Procesar cada rostro detectado</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> <span style="color: #707183;">(</span>x, y, w, h<span style="color: #707183;">)</span> <span style="color: #a020f0;">in</span> rostros:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Redimensionar la m&#225;scara para que coincida con el tama&#241;o del rostro detectado</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   mascara_redimensionada = cv2.resize<span style="color: #707183;">(</span>mascara, <span style="color: #7388d6;">(</span>w, h<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.rectangle<span style="color: #707183;">(</span>frame, <span style="color: #7388d6;">(</span>x,y<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>x+w, y+h<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>255, 0,0<span style="color: #7388d6;">)</span>, 3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Separar los canales de la m&#225;scara: color y alfa (transparencia)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   mascara_rgb = mascara_redimensionada<span style="color: #707183;">[</span>:, :, :3<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   mascara_alpha = mascara_redimensionada<span style="color: #707183;">[</span>:, :, 3<span style="color: #707183;">]</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Asegurarse de que la m&#225;scara alfa sea de tipo uint8</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   mascara_alpha = cv2.convertScaleAbs<span style="color: #707183;">(</span>mascara_alpha<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar el desplazamiento a las coordenadas x e y</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   x_nuevo = x + desplazamiento_x
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   y_nuevo = y + desplazamiento_y

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Evitar que la m&#225;scara salga del borde de la imagen</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> x_nuevo &lt; 0: x_nuevo = 0
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> y_nuevo &lt; 0: y_nuevo = 0
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> x_nuevo + w &gt; frame.shape<span style="color: #707183;">[</span>1<span style="color: #707183;">]</span>: x_nuevo = frame.shape<span style="color: #707183;">[</span>1<span style="color: #707183;">]</span> - w
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> y_nuevo + h &gt; frame.shape<span style="color: #707183;">[</span>0<span style="color: #707183;">]</span>: y_nuevo = frame.shape<span style="color: #707183;">[</span>0<span style="color: #707183;">]</span> - h

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear una regi&#243;n de inter&#233;s (ROI) en el frame donde colocaremos la m&#225;scara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   roi = frame<span style="color: #707183;">[</span>y_nuevo:y_nuevo+h, x_nuevo:x_nuevo+w<span style="color: #707183;">]</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Asegurarse de que la ROI y la m&#225;scara tengan el mismo tama&#241;o</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> roi.shape<span style="color: #707183;">[</span>:2<span style="color: #707183;">]</span> == mascara_alpha.shape<span style="color: #707183;">[</span>:2<span style="color: #707183;">]</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Invertir la m&#225;scara alfa para obtener la parte del rostro donde se aplicar&#225; la m&#225;scara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   mascara_alpha_inv = cv2.bitwise_not<span style="color: #707183;">(</span>mascara_alpha<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Enmascarar la regi&#243;n del rostro en la imagen original</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   fondo = cv2.bitwise_and<span style="color: #707183;">(</span>roi, roi, mask=mascara_alpha_inv<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Enmascarar la m&#225;scara RGB</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   mascara_fg = cv2.bitwise_and<span style="color: #707183;">(</span>mascara_rgb, mascara_rgb, mask=mascara_alpha<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Combinar el fondo (parte del rostro sin m&#225;scara) y la parte con la m&#225;scara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   resultado = cv2.add<span style="color: #707183;">(</span>fondo, mascara_fg<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Reemplazar la regi&#243;n del rostro con la imagen combinada</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   frame<span style="color: #707183;">[</span>y_nuevo:y_nuevo+h, x_nuevo:x_nuevo+w<span style="color: #707183;">]</span> = resultado

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">else</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Error: El tama&#241;o de la ROI no coincide con la m&#225;scara."</span><span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar el frame con la m&#225;scara aplicada</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">'Video con mascara'</span>, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Presionar 'q' para salir del loop</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Liberar la captura de video y cerrar las ventanas</span>
video.release<span style="color: #707183;">()</span>
cv2.destroyAllWindows<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</div>


<div id="outline-container-orgd03f70d" class="outline-3">
<h3 id="orgd03f70d">OpenGL</h3>
</div>



<div id="outline-container-org0177f6f" class="outline-3">
<h3 id="org0177f6f">Descripci√≥n de la Proyecci√≥n Isom√©trica</h3>
<div class="outline-text-3" id="text-org0177f6f">
<p>
La proyecci√≥n isom√©trica es un tipo de proyecci√≥n axonom√©trica que
representa un objeto 3D en un espacio 2D sin perspectiva. Esto
significa que las l√≠neas paralelas en el espacio 3D siguen siendo
paralelas en la proyecci√≥n 2D, y los objetos mantienen la misma escala
independientemente de su distancia. En una proyecci√≥n isom√©trica, los
tres ejes (x, y, z) aparecen con √°ngulos de 120¬∞ entre s√≠, creando un
efecto visual que se percibe como 3D, aunque solo se trata de una
imagen 2D.
</p>

<p>
Este tipo de proyecci√≥n es √∫til en videojuegos, gr√°ficos isom√©tricos y
aplicaciones de dise√±o, ya que proporciona una representaci√≥n en 3D
simple sin distorsi√≥n de perspectiva.
</p>
</div>


<div id="outline-container-org336acd0" class="outline-4">
<h4 id="org336acd0">Ejemplo de Proyecci√≥n Isom√©trica en OpenCV</h4>
<div class="outline-text-4" id="text-org336acd0">
<p>
Este ejemplo en OpenCV muestra c√≥mo proyectar un cubo 3D en 2D
utilizando una proyecci√≥n isom√©trica. Cada v√©rtice del cubo se
proyecta en el plano 2D, y luego se conecta para formar las aristas
del cubo.
</p>
</div>

<ul class="org-ul">
<li><a id="org183ece1"></a>C√≥digo en Python<br />
<div class="outline-text-5" id="text-org183ece1">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> cv2
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">import</span> math

<span style="color: #b22222;"># </span><span style="color: #b22222;">Dimensiones de la ventana</span>
<span style="color: #a0522d;">WIDTH</span>, <span style="color: #a0522d;">HEIGHT</span> = 800, 600

<span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtices del cubo en coordenadas 3D</span>
<span style="color: #a0522d;">vertices</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #909183;">[</span>-1, -1, -1<span style="color: #909183;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #909183;">[</span>1, -1, -1<span style="color: #909183;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #909183;">[</span>1, 1, -1<span style="color: #909183;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #909183;">[</span>-1, 1, -1<span style="color: #909183;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #909183;">[</span>-1, -1, 1<span style="color: #909183;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #909183;">[</span>1, -1, 1<span style="color: #909183;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #909183;">[</span>1, 1, 1<span style="color: #909183;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #909183;">[</span>-1, 1, 1<span style="color: #909183;">]</span>
<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Conexiones de los v&#233;rtices para formar las aristas del cubo</span>
<span style="color: #a0522d;">edges</span> = <span style="color: #707183;">[</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span>0, 1<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>1, 2<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>2, 3<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>3, 0<span style="color: #7388d6;">)</span>,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Base inferior</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span>4, 5<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>5, 6<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>6, 7<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>7, 4<span style="color: #7388d6;">)</span>,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Base superior</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span>0, 4<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>1, 5<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>2, 6<span style="color: #7388d6;">)</span>, <span style="color: #7388d6;">(</span>3, 7<span style="color: #7388d6;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Conexiones entre bases</span>
<span style="color: #707183;">]</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">project_isometric</span><span style="color: #707183;">(</span>vertex<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Funci&#243;n para proyectar un punto 3D a 2D con proyecci&#243;n isom&#233;trica"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span>, <span style="color: #a0522d;">z</span> = vertex
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">x2D</span> = x - z
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">y2D</span> = <span style="color: #707183;">(</span>x + 2 * y + z<span style="color: #707183;">)</span> / 2
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>x2D * 100 + WIDTH / 2<span style="color: #707183;">)</span>, <span style="color: #483d8b;">int</span><span style="color: #707183;">(</span>-y2D * 100 + HEIGHT / 2<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana</span>
cv2.namedWindow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Cubo Isom&#233;trico"</span><span style="color: #707183;">)</span>

<span style="color: #a020f0;">while</span> <span style="color: #008b8b;">True</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear imagen negra para el fondo</span>
<span style="background-color: #f2f2f2;"> </span>   frame = np.zeros<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>HEIGHT, WIDTH, 3<span style="color: #7388d6;">)</span>, dtype=np.uint8<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar aristas del cubo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> edge <span style="color: #a020f0;">in</span> edges:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   pt1 = project_isometric<span style="color: #707183;">(</span>vertices<span style="color: #7388d6;">[</span>edge<span style="color: #909183;">[</span>0<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   pt2 = project_isometric<span style="color: #707183;">(</span>vertices<span style="color: #7388d6;">[</span>edge<span style="color: #909183;">[</span>1<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   cv2.line<span style="color: #707183;">(</span>frame, pt1, pt2, <span style="color: #7388d6;">(</span>255, 255, 255<span style="color: #7388d6;">)</span>, 2<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Mostrar imagen</span>
<span style="background-color: #f2f2f2;"> </span>   cv2.imshow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Cubo Isom&#233;trico"</span>, frame<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Salir si se presiona 'q'</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> cv2.waitKey<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span> &amp; 0xFF == <span style="color: #483d8b;">ord</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'q'</span><span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">break</span>

cv2.destroyAllWindows<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</li>

<li><a id="orgb4f4cb1"></a>Explicaci√≥n del C√≥digo<br />
<div class="outline-text-5" id="text-orgb4f4cb1">
<ol class="org-ol">
<li><b><b>Definici√≥n de V√©rtices y Aristas</b></b>:
<ul class="org-ul">
<li>`vertices` define los puntos 3D del cubo en coordenadas `(x, y, z)`.</li>
<li>`edges` define las conexiones entre los v√©rtices para formar las aristas del cubo.</li>
</ul></li>

<li><b><b>Funci√≥n `project<sub>isometric</sub>`</b></b>:
<ul class="org-ul">
<li>Convierte cada v√©rtice 3D en coordenadas 2D usando una proyecci√≥n isom√©trica. La f√≥rmula aplicada crea un efecto 3D sin perspectiva.</li>
</ul></li>

<li><b><b>Bucle de Renderizado</b></b>:
<ul class="org-ul">
<li>Cada fotograma crea una imagen de fondo negro (`frame`) y dibuja las aristas del cubo conectando los puntos proyectados en 2D.</li>
<li>El bucle contin√∫a hasta que se presiona la tecla `'q'`.</li>
</ul></li>
</ol>
</div>
</li>

<li><a id="org9bd0f4f"></a>Salida Esperada<br />
<div class="outline-text-5" id="text-org9bd0f4f">
<p>
La ventana mostrar√° un cubo en perspectiva isom√©trica. Las aristas se
dibujan en blanco y el cubo parece tener profundidad, aunque es solo
una representaci√≥n en 2D.
</p>

<p>
Este ejemplo simula un efecto 3D mediante una proyecci√≥n isom√©trica,
√∫til para aplicaciones de dise√±o y gr√°ficos 2D en OpenCV.
</p>
</div>
</li>
</ul>
</div>
</div>


<div id="outline-container-orgb8c3b66" class="outline-3">
<h3 id="orgb8c3b66">Opengl Ejemplo</h3>
<div class="outline-text-3" id="text-orgb8c3b66">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> glClear, glClearColor, glBegin, GL_QUADS, glEnd, glVertex2f, glColor3f, GL_COLOR_BUFFER_BIT, GL_TRIANGLES

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear la ventana</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>500, 500, <span style="color: #8b2252;">"OpenGL con GLFW"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Hacer el contexto de OpenGL actual</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Establecer el color de fondo</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.0, 0.0, 0.0, 1.0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal de renderizado</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Limpiar la pantalla</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un tri&#225;ngulo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_TRIANGLES<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.5,  -0.5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtice superior izquierdo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span> 0.5,  -0.5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtice superior derecho</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span> -0.5, 0.5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtice inferior derecho</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Intercambiar buffers y procesar eventos</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Terminar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> glClear, glClearColor, glBegin, glEnd, glVertex2f, glColor3f, GL_COLOR_BUFFER_BIT, GL_QUADS, glOrtho

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_square</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color rojo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.5,  0.5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtice superior izquierdo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span> 0.5,  0.5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtice superior derecho</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span> 0.5, -0.5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtice inferior derecho</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.5, -0.5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtice inferior izquierdo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear la ventana con un contexto de OpenGL</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>500, 500, <span style="color: #8b2252;">"Cuadrado con GLFW"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Hacer que el contexto de OpenGL sea actual para la ventana</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar la proyecci&#243;n ortogr&#225;fica</span>
<span style="background-color: #f2f2f2;"> </span>   glOrtho<span style="color: #707183;">(</span>-1, 1, -1, 1, -1, 1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n para un sistema de coordenadas 2D</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Limpiar el buffer de color</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar el cuadrado</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_square<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Intercambiar buffers y procesar eventos</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Terminar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>


</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org2b56657" class="outline-2">
<h2 id="org2b56657">Introducci√≥n a OpenGL</h2>
<div class="outline-text-2" id="text-org2b56657">
<p>
OpenGL (Open Graphics Library) es una API de gr√°ficos que permite a
los desarrolladores crear gr√°ficos en 2D y 3D. Fue desarrollada por
Silicon Graphics en 1992 y, desde entonces, se ha utilizado
ampliamente en aplicaciones que requieren renderizado en tiempo real,
como videojuegos, simulaciones cient√≠ficas, visualizaci√≥n de datos y
entornos de realidad virtual y aumentada.
</p>
</div>

<div id="outline-container-orgfcb8afa" class="outline-3">
<h3 id="orgfcb8afa">Caracter√≠sticas de OpenGL</h3>
<div class="outline-text-3" id="text-orgfcb8afa">
<ul class="org-ul">
<li><b><b>Plataforma abierta</b></b>: OpenGL es multiplataforma y funciona en
Windows, macOS, y Linux.</li>
<li><b><b>API de bajo nivel</b></b>: Proporciona primitivas de gr√°ficos b√°sicas
(puntos, l√≠neas, pol√≠gonos).</li>
<li><b><b>Hardware acelerado</b></b>: Aprovecha la GPU para acelerar el
renderizado.</li>
<li><b><b>Flexibilidad</b></b>: Es compatible con diversas aplicaciones, desde
gr√°ficos simples en 2D hasta gr√°ficos avanzados en 3D.</li>
</ul>
</div>
</div>

<div id="outline-container-org84dbf4f" class="outline-3">
<h3 id="org84dbf4f">Primeros pasos en OpenGL</h3>
<div class="outline-text-3" id="text-org84dbf4f">
<p>
Para empezar a trabajar con OpenGL, necesitas entender algunos de sus
conceptos y configuraciones b√°sicas.
</p>
</div>

<div id="outline-container-org04228e7" class="outline-4">
<h4 id="org04228e7">Configuraci√≥n del Entorno</h4>
<div class="outline-text-4" id="text-org04228e7">
<p>
Para utilizar OpenGL en Python, necesitas instalar las siguientes
bibliotecas:
</p>
<div class="org-src-container">
<pre class="src src-shell">  pip install PyOpenGL PyOpenGL_accelerate glfw 
  pip install PyOpenGL glfw PyFreeGLUT
</pre>
</div>
</div>
</div>

<div id="outline-container-org1c00e7c" class="outline-4">
<h4 id="org1c00e7c">Estructura b√°sica de un programa OpenGL</h4>
<div class="outline-text-4" id="text-org1c00e7c">
<p>
Un programa b√°sico de OpenGL tiene una estructura general que incluye
la configuraci√≥n de la ventana, la inicializaci√≥n del contexto de
OpenGL, el renderizado de objetos y el bucle principal.
</p>
</div>
</div>
</div>

<div id="outline-container-org10f4273" class="outline-3">
<h3 id="org10f4273">Sistema de Coordenadas en OpenGL</h3>
<div class="outline-text-3" id="text-org10f4273">
<p>
En OpenGL, las coordenadas pasan por una serie de transformaciones
para dibujar objetos en pantalla. Aqu√≠ est√°n los principales sistemas
de coordenadas:
</p>
</div>

<div id="outline-container-orge2f107c" class="outline-4">
<h4 id="orge2f107c">Coordenadas del Objeto</h4>
<div class="outline-text-4" id="text-orge2f107c">
<p>
Este es el espacio de coordenadas local de cada objeto. Aqu√≠
defines los v√©rtices en relaci√≥n con el centro del objeto.
</p>
</div>
</div>

<div id="outline-container-orga521ee1" class="outline-4">
<h4 id="orga521ee1">Coordenadas del Mundo</h4>
<div class="outline-text-4" id="text-orga521ee1">
<p>
Transforman las coordenadas del objeto para situarlo en el mundo
virtual.
</p>
</div>
</div>

<div id="outline-container-org42b3fb9" class="outline-4">
<h4 id="org42b3fb9">Coordenadas de Vista</h4>
<div class="outline-text-4" id="text-org42b3fb9">
<p>
Ajustan la posici√≥n del objeto en relaci√≥n con la c√°mara u
observador.
</p>
</div>
</div>

<div id="outline-container-org02b1ee8" class="outline-4">
<h4 id="org02b1ee8">Coordenadas de Recorte</h4>
<div class="outline-text-4" id="text-org02b1ee8">
<p>
Aplican la proyecci√≥n para determinar qu√© partes del objeto son
visibles y cu√°les est√°n fuera del campo de visi√≥n.
</p>
</div>
</div>

<div id="outline-container-org761a785" class="outline-4">
<h4 id="org761a785">Coordenadas Normalizadas del Dispositivo (NDC)</h4>
<div class="outline-text-4" id="text-org761a785">
<p>
Las coordenadas se normalizan al rango [-1, 1] en cada eje, para
definir la porci√≥n visible de la escena.
</p>
</div>
</div>

<div id="outline-container-org1fcb733" class="outline-4">
<h4 id="org1fcb733">Coordenadas de Pantalla</h4>
<div class="outline-text-4" id="text-org1fcb733">
<p>
Las coordenadas normalizadas se mapean a p√≠xeles en la pantalla
seg√∫n la resoluci√≥n de la ventana.
</p>
</div>
</div>
</div>

<div id="outline-container-orgb1e46d0" class="outline-3">
<h3 id="orgb1e46d0">Primitivas de Dibujo en OpenGL</h3>
<div class="outline-text-3" id="text-orgb1e46d0">
<p>
OpenGL permite dibujar figuras b√°sicas conocidas como primitivas,
entre las que se incluyen:
</p>

<ul class="org-ul">
<li><b><b>GL<sub>POINTS</sub></b></b>: Puntos individuales.</li>
<li><b><b>GL<sub>LINES</sub></b></b>: L√≠neas entre pares de v√©rtices.</li>
<li><b><b>GL<sub>TRIANGLES</sub></b></b>: Tri√°ngulos entre grupos de tres v√©rtices.</li>
<li><b><b>GL<sub>QUADS</sub></b></b>: Cuadrados entre grupos de cuatro v√©rtices (obsoleto
en OpenGL moderno).</li>
</ul>



<p>
Ejemplo de uso de <b><b>GL<sub>TRIANGLES</sub></b></b> para dibujar un tri√°ngulo:
</p>
</div>


<div id="outline-container-org75460d4" class="outline-4">
<h4 id="org75460d4">C√≥digo en Python con OpenGL y GLUT</h4>
<div class="outline-text-4" id="text-org75460d4">
<p>
Este c√≥digo utiliza OpenGL y GLUT en Python para dibujar un
tri√°ngulo. A continuaci√≥n, se describen en detalle las funciones y
l√≠neas de c√≥digo, as√≠ como su prop√≥sito y par√°metros utilizados.
</p>
</div>

<ul class="org-ul">
<li><a id="org963e99b"></a>Importaci√≥n de m√≥dulos<br />
<div class="outline-text-5" id="text-org963e99b">
<p>
Se importan los m√≥dulos necesarios para trabajar con OpenGL y GLUT en Python.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> sys
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLUT <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *
</pre>
</div>

<ul class="org-ul">
<li><b>import sys</b>: Se importa el m√≥dulo `sys`, que proporciona acceso a
algunas variables y funciones espec√≠ficos del sistema. En este caso,
se usa para acceder a los argumentos de la l√≠nea de comandos al
iniciar el programa.</li>

<li><b>from OpenGL.GL import</b>: Se importa todo el m√≥dulo `GL` de
OpenGL. Este m√≥dulo contiene las funciones necesarias para manejar
las operaciones gr√°ficas, como la manipulaci√≥n de la ventana, la
configuraci√≥n de colores, la creaci√≥n de objetos y m√°s.</li>

<li><b>from OpenGL.GLUT import</b>: Se importa el m√≥dulo `GLUT` de OpenGL, que
es la biblioteca utilizada para crear y gestionar ventanas, manejar
la interacci√≥n del usuario y ejecutar un bucle de eventos en el
sistema. Aqu√≠ se utiliza para crear la ventana y controlar la
visualizaci√≥n.</li>

<li><b>from OpenGL.GLU import</b>: Se importa el m√≥dulo `GLU` de OpenGL. GLU
(OpenGL Utility Library) ofrece funciones adicionales que
simplifican algunas operaciones gr√°ficas complejas, como las
proyecciones en perspectiva, que se utilizan en este c√≥digo.</li>
</ul>
</div>
</li>

<li><a id="orgde9d6ec"></a>Funci√≥n `init()`<br />
<div class="outline-text-5" id="text-orgde9d6ec">
<p>
La funci√≥n `init()` realiza las configuraciones iniciales para la
visualizaci√≥n, como establecer el color de fondo, definir la
proyecci√≥n y configurar las matrices.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.0, 0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Establecer color de fondo</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Establecer la matriz de proyecci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Restablecer la matriz a la identidad</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 1.0, 0.1, 50.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Establecer la matriz de modelo de vista</span>
</pre>
</div>

<ul class="org-ul">
<li><b><b>`glClearColor(0.0, 0.0, 0.0, 1.0)`</b></b>: Define el color de fondo de la
ventana. Los valores (0.0, 0.0, 0.0) representan el color negro, y
el valor 1.0 en el √∫ltimo par√°metro significa opacidad total (sin
transparencia).</li>

<li><b><b>`glMatrixMode(GL<sub>PROJECTION</sub>)`</b></b>: Establece que la matriz activa sea
la matriz de proyecci√≥n, que es la encargada de definir c√≥mo se
proyectan los objetos 3D en la pantalla.</li>

<li><b><b>`glLoadIdentity()`</b></b>: Restablece la matriz activa a la matriz
identidad. Este comando es necesario para borrar cualquier
transformaci√≥n previa antes de aplicar nuevas transformaciones.</li>

<li><b><b>`gluPerspective(45, 1.0, 0.1, 50.0)`</b></b>: Configura una proyecci√≥n en
perspectiva. El primer par√°metro (45) es el √°ngulo de visi√≥n en
grados. El segundo par√°metro (1.0) es la relaci√≥n de aspecto, que
debe ser igual a la relaci√≥n entre el ancho y la altura de la
ventana (en este caso, una ventana cuadrada). El tercer par√°metro
(0.1) define la distancia m√≠nima (cerca) del plano de corte, y el
cuarto par√°metro (50.0) define la distancia m√°xima (lejos) del plano
de corte.</li>

<li><b><b>`glMatrixMode(GL<sub>MODELVIEW</sub>)`</b></b>: Cambia la matriz activa de nuevo a
la de modelo de vista. Esto significa que las siguientes
transformaciones (como traslaci√≥n o rotaci√≥n de objetos) afectar√°n a
los objetos en el espacio 3D.</li>
</ul>
</div>
</li>

<li><a id="orgd650a4d"></a>Funci√≥n `display()`<br />
<div class="outline-text-5" id="text-orgd650a4d">
<p>
La funci√≥n `display()` se encarga de limpiar los buffers y dibujar los
objetos en pantalla, en este caso, un tri√°ngulo. La funci√≥n se llama
constantemente para actualizar la ventana.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">def</span> <span style="color: #0000ff;">display</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Limpiar buffers</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Restablecer transformaciones previas</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 0.0, -1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover la c&#225;mara hacia atr&#225;s</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un tri&#225;ngulo</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_TRIANGLES<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicia la especificaci&#243;n de los v&#233;rtices para un tri&#225;ngulo</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>R1.0, 0.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1.0, -1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Primer v&#233;rtice</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1.0, -1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Segundo v&#233;rtice</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Azul</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Tercer v&#233;rtice</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Finaliza el bloque de dibujo</span>

<span style="background-color: #f2f2f2;"> </span>   glutSwapBuffers<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Intercambiar buffers</span>
</pre>
</div>

<ul class="org-ul">
<li><b>glClear(GL<sub>COLOR</sub><sub>BUFFER</sub><sub>BIT</sub> | GL<sub>DEPTH</sub><sub>BUFFER</sub><sub>BIT</sub>)</b>: Limpia los
buffers de color y profundidad. Esto borra lo que se haya dibujado
anteriormente en la ventana, asegurando que cada nueva imagen se
dibuje sobre un fondo limpio.</li>

<li><b>glLoadIdentity()</b>: Restablece las transformaciones actuales, como
traslaci√≥n, rotaci√≥n, o escala, para asegurarse de que el tri√°ngulo
se dibuje en su posici√≥n inicial.</li>

<li><b>glTranslatef(0.0, 0.0, -5)</b>: Aplica una traslaci√≥n a la
c√°mara. Este comando mueve la vista de la c√°mara a lo largo del eje
Z, alej√°ndola 5 unidades para que el tri√°ngulo sea visible en la
pantalla.</li>

<li><b>glBegin(GL<sub>TRIANGLES</sub>)</b>: Inicia la especificaci√≥n de los v√©rtices
para un objeto en forma de tri√°ngulo. Todos los v√©rtices dentro de
este bloque ser√°n interpretados como parte de un tri√°ngulo.</li>

<li><b>glColor3f(1.0, 0.0, 0.0)</b>: Establece el color del primer v√©rtice
del tri√°ngulo a rojo (con valores de 1.0 para rojo y 0.0 para verde
y azul).</li>

<li><b>glVertex3f(-1.0, -1.0, 0.0)</b>: Define las coordenadas (x, y, z)
del primer v√©rtice del tri√°ngulo.</li>

<li><b>glColor3f(0.0, 1.0, 0.0)</b>: Establece el color del segundo v√©rtice
del tri√°ngulo a verde.</li>

<li><b>glVertex3f(1.0, -1.0, 0.0)</b>: Define las coordenadas del segundo
v√©rtice del tri√°ngulo.</li>

<li><b>glColor3f(0.0, 0.0, 1.0)</b>: Establece el color del tercer v√©rtice
del tri√°ngulo a azul.</li>

<li><b>glVertex3f(0.0, 1.0, 0.0)</b>: Define las coordenadas del tercer
v√©rtice del tri√°ngulo.</li>

<li><b>glEnd()</b>: Finaliza la especificaci√≥n del tri√°ngulo. Todos los
v√©rtices y colores definidos entre `glBegin` y `glEnd` forman un
tri√°ngulo.</li>

<li><b>glutSwapBuffers()</b>: Intercambia los buffers de pantalla en una
ventana de doble buffer. Esto garantiza que lo que se dibuj√≥ se
renderice en la ventana de manera eficiente, evitando parpadeos.</li>
</ul>
</div>
</li>

<li><a id="org45fe189"></a>Funci√≥n `main()`<br />
<div class="outline-text-5" id="text-org45fe189">
<p>
La funci√≥n `main()` inicializa GLUT, configura la ventana y asigna la
funci√≥n de visualizaci√≥n. Tambi√©n lanza el bucle principal de GLUT.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glutInit<span style="color: #707183;">(</span>sys.argv<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLUT</span>
<span style="background-color: #f2f2f2;"> </span>   glutInitDisplayMode<span style="color: #707183;">(</span>GLUT_DOUBLE | GLUT_RGB | GLUT_DEPTH<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Establecer modo de visualizaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glutInitWindowSize<span style="color: #707183;">(</span>800, 600<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Establecer tama&#241;o de la ventana</span>
<span style="background-color: #f2f2f2;"> </span>   glutCreateWindow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Tri&#225;ngulo con GLUT y Python"</span><span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana con t&#237;tulo</span>

<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Llamar a la funci&#243;n de configuraci&#243;n inicial</span>
<span style="background-color: #f2f2f2;"> </span>   glutDisplayFunc<span style="color: #707183;">(</span>display<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Asignar funci&#243;n de visualizaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glutMainLoop<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Comenzar el bucle principal de GLUT</span>
</pre>
</div>

<ul class="org-ul">
<li><b>glutInit(sys.argv)</b>: Inicializa GLUT y permite pasar par√°metros
desde la l√≠nea de comandos.</li>

<li><b>glutInitDisplayMode(GLUT<sub>DOUBLE</sub> | GLUT<sub>RGB</sub> | GLUT<sub>DEPTH</sub>)</b>:
Establece el modo de visualizaci√≥n. Usamos un modo de doble buffer,
el modelo RGB para el color y un buffer de profundidad para
gestionar la visibilidad de objetos en 3D.</li>

<li><b>glutInitWindowSize(800, 600)</b>: Define el tama√±o de la ventana
(800 p√≠xeles de ancho por 600 p√≠xeles de altura).</li>

<li><b>glutCreateWindow("Tri√°ngulo con GLUT y Python")</b>: Crea una
ventana con el t√≠tulo especificado.</li>

<li><b>init()</b>: Llama a la funci√≥n `init()`, que establece las
configuraciones iniciales de OpenGL.</li>

<li><b>glutDisplayFunc(display)</b>: Asocia la funci√≥n `display()` con el
proceso de renderizado de la ventana. Esta funci√≥n se llamar√° cada
vez que sea necesario actualizar la ventana.</li>

<li><b>glutMainLoop()</b>: Inicia el bucle principal de GLUT, que gestiona
la ventana, la entrada del usuario y la actualizaci√≥n de la
pantalla.</li>
</ul>
</div>
</li>

<li><a id="org79b9e88"></a>Ejecuci√≥n del c√≥digo<br />
<div class="outline-text-5" id="text-org79b9e88">
<p>
Este bloque final se asegura de que el c√≥digo se ejecute correctamente cuando se llama al archivo directamente.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Llamar a la funci&#243;n principal para ejecutar el programa</span>
</pre>
</div>

<p>
Este c√≥digo completa la configuraci√≥n para mostrar un tri√°ngulo 3D en
una ventana utilizando OpenGL y GLUT, con el fondo negro y los colores
rojo, verde y azul para los v√©rtices del tri√°ngulo.
</p>




<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> sys
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLUT <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.0, 0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Establecer color de fondo</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 1.0, 0.1, 50.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">display</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Limpiar buffers</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0, 0, -3<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover la c&#225;mara hacia atr&#225;s</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar un tri&#225;ngulo</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_TRIANGLES<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1.0, -1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1.0, -1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 0.8 <span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Azul</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   

<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glutSwapBuffers<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Intercambiar buffers</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLUT</span>
<span style="background-color: #f2f2f2;"> </span>   glutInit<span style="color: #707183;">(</span>sys.argv<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutInitDisplayMode<span style="color: #707183;">(</span>GLUT_DOUBLE | GLUT_RGB | GLUT_DEPTH<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutInitWindowSize<span style="color: #707183;">(</span>800, 600<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutCreateWindow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Tri&#225;ngulo con GLUT y Python"</span><span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glutDisplayFunc<span style="color: #707183;">(</span>display<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutMainLoop<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>
</pre>
</div>



<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *

<span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">raise</span> <span style="color: #228b22;">Exception</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"No se pudo inicializar GLFW"</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana</span>
<span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>800, 600, <span style="color: #8b2252;">"OpenGL Test"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> <span style="color: #a0522d;">window</span>:
<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">raise</span> <span style="color: #228b22;">Exception</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"No se pudo crear la ventana GLFW"</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Activar el contexto</span>
glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Obtener versi&#243;n de OpenGL</span>
version = glGetString<span style="color: #707183;">(</span>GL_VERSION<span style="color: #707183;">)</span>
<span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Versi&#243;n de OpenGL:"</span>, version.decode<span style="color: #7388d6;">(</span><span style="color: #8b2252;">"utf-8"</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Terminar GLFW</span>
glfw.terminate<span style="color: #707183;">()</span>

</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_triangle</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja un tri&#225;ngulo con OpenGL</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_TRIANGLES<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.5, -0.5<span style="color: #707183;">)</span>    <span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtice inferior izquierdo</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.5, -0.5<span style="color: #707183;">)</span>     <span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtice inferior derecho</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Azul</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.0, 0.5<span style="color: #707183;">)</span>      <span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtice superior</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializa GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear la ventana</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>800, 600, <span style="color: #8b2252;">"OpenGL Tri&#225;ngulo"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Hacer el contexto de OpenGL actual para la ventana</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar la proyecci&#243;n (2D simple)</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glOrtho<span style="color: #707183;">(</span>-1.0, 1.0, -1.0, 1.0, -1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Proyecci&#243;n ortogr&#225;fica 2D</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Limpiar la pantalla con color de fondo</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_triangle<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar el tri&#225;ngulo</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Intercambiar los buffers</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Comprobar eventos</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Finalizar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>
</pre>
</div>







<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">import</span> sys

<span style="color: #b22222;"># </span><span style="color: #b22222;">Variables globales</span>
<span style="color: #a0522d;">window</span> = <span style="color: #008b8b;">None</span>
<span style="color: #a0522d;">angle</span> = 0  <span style="color: #b22222;"># </span><span style="color: #b22222;">Declaramos angle en el nivel superior</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n inicial de OpenGL</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.0, 0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color de fondo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar prueba de profundidad para 3D</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de proyecci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 1, 0.1, 50.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cambiar a la matriz de modelo para los objetos</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_cube</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> angle
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Limpiar pantalla y buffer de profundidad</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la vista del cubo</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 0.0, -1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Alejar el cubo para que sea visible</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>angle, 1, 1, 1<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar el cubo en todos los ejes</span>
<span style="background-color: #f2f2f2;"> </span>   

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">glRotatef(angle, 0, 1, 0)   # Rotar el cubo en todos los ejes</span>

<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Iniciar el cubo como un conjunto de caras (quads)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cada conjunto de cuatro v&#233;rtices representa una cara del cubo</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.4, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.4, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.3, 0.8, 0.1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1,-1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Azul</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Amarillo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1,-1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Magenta</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Cyan</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1,-1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glFlush<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Intercambiar buffers para animaci&#243;n suave</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">angle</span> += 0.1  <span style="color: #b22222;"># </span><span style="color: #b22222;">Incrementar el &#225;ngulo para rotaci&#243;n</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana de GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 500, 500
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>width, height, <span style="color: #8b2252;">"Cubo 3D Rotando con GLFW"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar el contexto de OpenGL en la ventana</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de viewport y OpenGL</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 1, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_cube<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Cerrar GLFW al salir</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">import</span> sys

<span style="color: #b22222;"># </span><span style="color: #b22222;">Variables globales</span>
<span style="color: #a0522d;">window</span> = <span style="color: #008b8b;">None</span>
<span style="color: #a0522d;">angle_x</span> = 0
<span style="color: #a0522d;">angle_y</span> = 0
<span style="color: #a0522d;">angle_z</span> = 0

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.0, 0.0, 0.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>60, 1, 0.1, 50.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_cube</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> angle_x, angle_y, angle_z
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 0.0, -6<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#  </span><span style="color: #b22222;">Rotar en los tres ejes</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>angle_x, 1, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>angle_y, 0, 1, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>angle_z, 0, 0, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cara superior</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cara inferior</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, -1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, -1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, -1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, -1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cara frontal</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, -1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, -1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cara trasera</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, -1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, -1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cara izquierda</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, -1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, -1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cara derecha</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, -1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, -1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Incrementar los tres &#225;ngulos</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">angle_x</span> += 0.8
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">angle_y</span> += 1.0
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">angle_z</span> += 1.2

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>600, 600, <span style="color: #8b2252;">"Cubo 3D Rotando (X, Y, Z)"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, 600, 600<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_cube<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> glClearColor, glEnable, glClear, glLoadIdentity, glTranslatef, glRotatef, glMatrixMode
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> glBegin, glColor3f, glVertex3f, glEnd, glFlush, glViewport
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> GL_COLOR_BUFFER_BIT, GL_DEPTH_BUFFER_BIT, GL_DEPTH_TEST, GL_QUADS, GL_PROJECTION, GL_MODELVIEW
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluPerspective
<span style="color: #a020f0;">import</span> sys

<span style="color: #b22222;"># </span><span style="color: #b22222;">Variables globales</span>
<span style="color: #a0522d;">window</span> = <span style="color: #008b8b;">None</span>
<span style="color: #a0522d;">angle_x</span>, <span style="color: #a0522d;">angle_y</span> = 0, 0  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#193;ngulos de rotaci&#243;n en los ejes X e Y</span>
<span style="color: #a0522d;">last_x</span>, <span style="color: #a0522d;">last_y</span> = <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#218;ltima posici&#243;n del rat&#243;n para calcular la diferencia</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n inicial de OpenGL</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.0, 0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color de fondo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar prueba de profundidad para 3D</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de proyecci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 1.0, 0.1, 50.0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cambiar a la matriz de modelo para los objetos</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_cube</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> angle_x, angle_y
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Limpiar pantalla y buffer de profundidad</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la vista del cubo</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 0.0, -5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Alejar el cubo para que sea visible</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>angle_x, 1, 0, 0<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar el cubo en el eje X</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>angle_y, 0, 1, 0<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar el cubo en el eje Y</span>

<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Iniciar el cubo como un conjunto de caras (quads)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cada conjunto de cuatro v&#233;rtices representa una cara del cubo</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1,-1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Azul</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Amarillo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1,-1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Magenta</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,-1, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Cyan</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1,-1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span> 1,-1,-1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glFlush<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Intercambiar buffers para animaci&#243;n suave</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">mouse_callback</span><span style="color: #707183;">(</span>window, xpos, ypos<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> angle_x, angle_y, last_x, last_y

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Si es la primera vez que movemos el rat&#243;n, inicializamos last_x y last_y</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> last_x <span style="color: #a020f0;">is</span> <span style="color: #008b8b;">None</span> <span style="color: #a020f0;">or</span> last_y <span style="color: #a020f0;">is</span> <span style="color: #008b8b;">None</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">last_x</span>, <span style="color: #a0522d;">last_y</span> = xpos, ypos

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular las diferencias en el movimiento del rat&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">dx</span> = xpos - last_x
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">dy</span> = ypos - last_y

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Ajustar los &#225;ngulos de rotaci&#243;n en funci&#243;n del movimiento del rat&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">angle_x</span> += dy * 0.1  <span style="color: #b22222;"># </span><span style="color: #b22222;">El factor 0.1 ajusta la sensibilidad</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">angle_y</span> += dx * 0.1

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Actualizar las posiciones anteriores del rat&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">last_x</span>, <span style="color: #a0522d;">last_y</span> = xpos, ypos

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana de GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 500, 500
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>width, height, <span style="color: #8b2252;">"Cubo 3D Controlado por Rat&#243;n"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar el contexto de OpenGL en la ventana</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar el callback de rat&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.set_cursor_pos_callback<span style="color: #707183;">(</span>window, mouse_callback<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_cube<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Cerrar GLFW al salir</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>


</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluPerspective
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">import</span> sys

<span style="color: #b22222;"># </span><span style="color: #b22222;">Variables globales para el &#225;ngulo de rotaci&#243;n</span>
<span style="color: #a0522d;">window</span> = <span style="color: #008b8b;">None</span>
<span style="color: #a0522d;">angle_x</span>, <span style="color: #a0522d;">angle_y</span> = 0.0, 0.0  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#193;ngulos de rotaci&#243;n en los ejes X e Y</span>
<span style="color: #a0522d;">last_x</span>, <span style="color: #a0522d;">last_y</span> = <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#218;ltima posici&#243;n del rat&#243;n para calcular la diferencia</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Par&#225;metros del toroide</span>
<span style="color: #a0522d;">R</span> = 1.0  <span style="color: #b22222;"># </span><span style="color: #b22222;">Radio mayor (distancia del centro del tubo al centro del toroide)</span>
<span style="color: #a0522d;">r</span> = 0.4  <span style="color: #b22222;"># </span><span style="color: #b22222;">Radio menor (radio del tubo)</span>
<span style="color: #a0522d;">num_major</span> = 30  <span style="color: #b22222;"># </span><span style="color: #b22222;">Segmentos en el c&#237;rculo mayor</span>
<span style="color: #a0522d;">num_minor</span> = 15  <span style="color: #b22222;"># </span><span style="color: #b22222;">Segmentos en el c&#237;rculo menor</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n inicial de OpenGL</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.0, 0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color de fondo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar prueba de profundidad para 3D</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de proyecci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 1.0, 0.1, 50.0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cambiar a la matriz de modelo para los objetos</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_torus</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> angle_x, angle_y
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Limpiar pantalla y buffer de profundidad</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la vista del toroide</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 0.0, -5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Alejar el toroide para que sea visible</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>angle_x, 1, 0, 0<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar el toroide en el eje X</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>angle_y, 0, 1, 0<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar el toroide en el eje Y</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar el toroide utilizando segmentos</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>num_major<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">theta</span> = 2 * np.pi * i / num_major
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">next_theta</span> = 2 * np.pi * <span style="color: #707183;">(</span>i + 1<span style="color: #707183;">)</span> / num_major

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUAD_STRIP<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>num_minor + 1<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">phi</span> = 2 * np.pi * j / num_minor
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">cos_theta</span>, <span style="color: #a0522d;">sin_theta</span> = np.cos<span style="color: #707183;">(</span>theta<span style="color: #707183;">)</span>, np.sin<span style="color: #707183;">(</span>theta<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">cos_next_theta</span>, <span style="color: #a0522d;">sin_next_theta</span> = np.cos<span style="color: #707183;">(</span>next_theta<span style="color: #707183;">)</span>, np.sin<span style="color: #707183;">(</span>next_theta<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">cos_phi</span>, <span style="color: #a0522d;">sin_phi</span> = np.cos<span style="color: #707183;">(</span>phi<span style="color: #707183;">)</span>, np.sin<span style="color: #707183;">(</span>phi<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Color din&#225;mico para variaci&#243;n visual</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>i % 2<span style="color: #7388d6;">)</span> * 0.5 + 0.5, <span style="color: #7388d6;">(</span>j % 2<span style="color: #7388d6;">)</span> * 0.5 + 0.5, 0.5<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Primera esquina</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">x</span> = <span style="color: #707183;">(</span>R + r * cos_phi<span style="color: #707183;">)</span> * cos_theta
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">y</span> = r * sin_phi
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">z</span> = <span style="color: #707183;">(</span>R + r * cos_phi<span style="color: #707183;">)</span> * sin_theta
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>x, y, z<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Segunda esquina</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">x</span> = <span style="color: #707183;">(</span>R + r * cos_phi<span style="color: #707183;">)</span> * cos_next_theta
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">z</span> = <span style="color: #707183;">(</span>R + r * cos_phi<span style="color: #707183;">)</span> * sin_next_theta
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>x, y, z<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Intercambiar buffers para animaci&#243;n suave</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">mouse_callback</span><span style="color: #707183;">(</span>window, xpos, ypos<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> angle_x, angle_y, last_x, last_y

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Si es la primera vez que movemos el rat&#243;n, inicializamos last_x y last_y</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> last_x <span style="color: #a020f0;">is</span> <span style="color: #008b8b;">None</span> <span style="color: #a020f0;">or</span> last_y <span style="color: #a020f0;">is</span> <span style="color: #008b8b;">None</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">last_x</span>, <span style="color: #a0522d;">last_y</span> = xpos, ypos

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular las diferencias en el movimiento del rat&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">dx</span> = xpos - last_x
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">dy</span> = ypos - last_y

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Ajustar los &#225;ngulos de rotaci&#243;n en funci&#243;n del movimiento del rat&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">angle_x</span> += dy * 0.2  <span style="color: #b22222;"># </span><span style="color: #b22222;">Factor de sensibilidad en Y</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">angle_y</span> += dx * 0.2  <span style="color: #b22222;"># </span><span style="color: #b22222;">Factor de sensibilidad en X</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Actualizar las posiciones anteriores del rat&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">last_x</span>, <span style="color: #a0522d;">last_y</span> = xpos, ypos

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana de GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 500, 500
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>width, height, <span style="color: #8b2252;">"Toroide 3D Controlado por Rat&#243;n"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar el contexto de OpenGL en la ventana</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar el callback de rat&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.set_cursor_pos_callback<span style="color: #707183;">(</span>window, mouse_callback<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_torus<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Cerrar GLFW al salir</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluNewQuadric, gluSphere, gluPerspective
<span style="color: #a020f0;">import</span> sys
<span style="color: #a020f0;">import</span> math

<span style="color: #b22222;"># </span><span style="color: #b22222;">Variables globales para el &#225;ngulo de rotaci&#243;n y posici&#243;n de la esfera</span>
<span style="color: #a0522d;">window</span> = <span style="color: #008b8b;">None</span>
<span style="color: #a0522d;">rotation_angle</span> = 0.0  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#193;ngulo de rotaci&#243;n de la esfera</span>
<span style="color: #a0522d;">movement_offset</span> = 0.0  <span style="color: #b22222;"># </span><span style="color: #b22222;">Offset para el movimiento de vaiv&#233;n</span>
<span style="color: #a0522d;">movement_speed</span> = 0.05  <span style="color: #b22222;"># </span><span style="color: #b22222;">Velocidad del movimiento de vaiv&#233;n</span>
<span style="color: #a0522d;">movement_direction</span> = 1  <span style="color: #b22222;"># </span><span style="color: #b22222;">Direcci&#243;n del movimiento (1 a la derecha, -1 a la izquierda)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.5, 0.8, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo negro</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>            <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar prueba de profundidad</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>              <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar iluminaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>                <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar la luz 0</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>10, 1.0, 0.1, 50.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la luz</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_pos</span> = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 0.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de la luz</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_color</span> = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color de la luz blanca</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ambient_light</span> = <span style="color: #707183;">[</span>0.2, 0.2, 0.2, 1.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Luz ambiental</span>

<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, light_pos<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_DIFFUSE, light_color<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_AMBIENT, ambient_light<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de las propiedades de material</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">material_diffuse</span> = <span style="color: #707183;">[</span>0.0, 0.9, 0.2, 0.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color difuso (azul claro)</span>
<span style="background-color: #f2f2f2;"> </span>   glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_DIFFUSE, material_diffuse<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_sphere</span><span style="color: #707183;">(</span>radius=1, slices=32, stacks=32<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> rotation_angle, movement_offset
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>movement_offset, 0.0, -50<span style="color: #707183;">)</span>      <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover la esfera en vaiv&#233;n</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>rotation_angle, 0, 1, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar la esfera sobre su eje Y</span>

<span style="background-color: #f2f2f2;"> </span>   quadric = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluSphere<span style="color: #707183;">(</span>quadric, radius, slices, stacks<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar la esfera</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">update_motion</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> rotation_angle, movement_offset, movement_direction

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Actualizar el &#225;ngulo de rotaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   rotation_angle += 1
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> rotation_angle &gt;= 360:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   rotation_angle = 0  <span style="color: #b22222;"># </span><span style="color: #b22222;">Reiniciar el &#225;ngulo despu&#233;s de una vuelta completa</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Actualizar el movimiento de vaiv&#233;n</span>
<span style="background-color: #f2f2f2;"> </span>   movement_offset += movement_speed * movement_direction
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> movement_offset &gt; 3.0:       <span style="color: #b22222;"># </span><span style="color: #b22222;">Limite derecho</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   movement_direction = -1     <span style="color: #b22222;"># </span><span style="color: #b22222;">Cambiar direcci&#243;n hacia la izquierda</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> movement_offset &lt; -3.0:    <span style="color: #b22222;"># </span><span style="color: #b22222;">Limite izquierdo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   movement_direction = 1      <span style="color: #b22222;"># </span><span style="color: #b22222;">Cambiar direcci&#243;n hacia la derecha</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana de GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 500, 500
<span style="background-color: #f2f2f2;"> </span>   window = glfw.create_window<span style="color: #707183;">(</span>width, height, <span style="color: #8b2252;">"Esfera en Movimiento y Rotaci&#243;n"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   update_motion<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Actualizar el movimiento y rotaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluNewQuadric, gluSphere, gluPerspective, gluCylinder
<span style="color: #a020f0;">import</span> sys

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.5, 0.7, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo de cielo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 1.0, 0.1, 50.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_sphere</span><span style="color: #707183;">(</span>radius=1, x=0, y=0, z=0<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>x, y, z<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   quadric = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluSphere<span style="color: #707183;">(</span>quadric, radius, 32, 32<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_cone</span><span style="color: #707183;">(</span>base=0.1, height=0.5, x=0, y=0, z=0<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>x, y, z<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>-90, 1, 0, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Orientar el cono hacia adelante</span>
<span style="background-color: #f2f2f2;"> </span>   quadric = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluCylinder<span style="color: #707183;">(</span>quadric, base, 0, height, 32, 32<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_snowman</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, -1.5, -8<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Alejar al mu&#241;eco de nieve</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cuerpo</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>1.0, 0, 0, 0<span style="color: #707183;">)</span>     <span style="color: #b22222;"># </span><span style="color: #b22222;">Base</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>0.75, 0, 1.2, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Cuerpo medio</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>0.5, 0, 2.2, 0<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cabeza</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Ojos</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>0.05, -0.15, 2.3, 0.4<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Ojo izquierdo</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>0.05, 0.15, 2.3, 0.4<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Ojo derecho</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Nariz (cono)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1, 0.5, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color naranja</span>
<span style="background-color: #f2f2f2;"> </span>   draw_cone<span style="color: #707183;">(</span>0.05, 0.2, 0, 2.2, 0.5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Nariz</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window
<span style="background-color: #f2f2f2;"> </span>   window = glfw.create_window<span style="color: #707183;">(</span>500, 500, <span style="color: #8b2252;">"Mu&#241;eco de Nieve en OpenGL"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_snowman<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>
</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluNewQuadric, gluSphere, gluPerspective, gluCylinder
<span style="color: #a020f0;">import</span> sys
<span style="color: #a020f0;">import</span> math

<span style="color: #b22222;"># </span><span style="color: #b22222;">Variables globales</span>
<span style="color: #a0522d;">window</span> = <span style="color: #008b8b;">None</span>
<span style="color: #a0522d;">jump_offset</span> = 0.0       <span style="color: #b22222;"># </span><span style="color: #b22222;">Para el movimiento de salto vertical</span>
<span style="color: #a0522d;">jump_speed</span> = 0.05       <span style="color: #b22222;"># </span><span style="color: #b22222;">Velocidad del salto</span>
<span style="color: #a0522d;">jump_direction</span> = 1      <span style="color: #b22222;"># </span><span style="color: #b22222;">Direcci&#243;n del salto (1 hacia arriba, -1 hacia abajo)</span>
<span style="color: #a0522d;">rotation_angle</span> = 0.0    <span style="color: #b22222;"># </span><span style="color: #b22222;">&#193;ngulo de rotaci&#243;n del mu&#241;eco de nieve</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.5, 0.7, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo de cielo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 1.0, 0.1, 50.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_sphere</span><span style="color: #707183;">(</span>radius=1, x=0, y=0, z=0<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>x, y, z<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   quadric = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluSphere<span style="color: #707183;">(</span>quadric, radius, 32, 32<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_cone</span><span style="color: #707183;">(</span>base=0.1, height=0.5, x=0, y=0, z=0<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>x, y, z<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>-90, 1, 0, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Orientar el cono hacia adelante</span>
<span style="background-color: #f2f2f2;"> </span>   quadric = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluCylinder<span style="color: #707183;">(</span>quadric, base, 0, height, 32, 32<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_snowman</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> jump_offset, rotation_angle

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Limpiar la pantalla y la profundidad</span>
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar posici&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0 + jump_offset, -1.5 , -8<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n del mu&#241;eco de nieve y altura</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>rotation_angle, 0, 0, 1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rotaci&#243;n en el eje Y</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cuerpo</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>1.0, 0, 0, 0<span style="color: #707183;">)</span>     <span style="color: #b22222;"># </span><span style="color: #b22222;">Base</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0, 1, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>0.75, 0, 1.2, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Cuerpo medio</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>0.5, 0, 2.2, 0<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cabeza</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Ojos</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>0.05, -0.15, 2.3, 0.4<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Ojo izquierdo</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>0.05, 0.15, 2.3, 0.4<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Ojo derecho</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Nariz (cono)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1, 0.5, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color naranja</span>
<span style="background-color: #f2f2f2;"> </span>   draw_cone<span style="color: #707183;">(</span>0.05, 0.2, 0, 2.2, 0.5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Nariz</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">update_motion</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> jump_offset, jump_direction, rotation_angle

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Actualizar el &#225;ngulo de rotaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   rotation_angle += 1  <span style="color: #b22222;"># </span><span style="color: #b22222;">Incrementa para que el mu&#241;eco gire</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> rotation_angle &gt;= 360:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   rotation_angle = 0  <span style="color: #b22222;"># </span><span style="color: #b22222;">Reiniciar el &#225;ngulo despu&#233;s de una vuelta completa</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Actualizar el movimiento de salto</span>
<span style="background-color: #f2f2f2;"> </span>   jump_offset += jump_speed * jump_direction
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> jump_offset &gt; 1.0:        <span style="color: #b22222;"># </span><span style="color: #b22222;">Limite superior del salto</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   jump_direction = -1      <span style="color: #b22222;"># </span><span style="color: #b22222;">Cambiar direcci&#243;n hacia abajo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> jump_offset &lt; 0.0:      <span style="color: #b22222;"># </span><span style="color: #b22222;">Limite inferior del salto</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   jump_direction = 1       <span style="color: #b22222;"># </span><span style="color: #b22222;">Cambiar direcci&#243;n hacia arriba</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana de GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 500, 500
<span style="background-color: #f2f2f2;"> </span>   window = glfw.create_window<span style="color: #707183;">(</span>width, height, <span style="color: #8b2252;">"Mu&#241;eco de Nieve en Movimiento"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_snowman<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   update_motion<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Actualizar el movimiento en cada cuadro</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>




<div id="outline-container-org7fa1f86" class="outline-2">
<h2 id="org7fa1f86">Primitivas 2D de OpenGL</h2>
<div class="outline-text-2" id="text-org7fa1f86">
</div>
<div id="outline-container-orge108682" class="outline-3">
<h3 id="orge108682">draw<sub>points</sub>()</h3>
<div class="outline-text-3" id="text-orge108682">
<p>
Dibuja puntos individuales usando <code>GL_POINTS</code>.
</p>
<ul class="org-ul">
<li>Establece el tama√±o de punto a 10 p√≠xeles con <code>glPointSize(10.0)</code></li>
<li>Cada v√©rtice se dibuja como un punto individual</li>
<li>Los puntos no se conectan entre s√≠</li>
<li>√ötil para: gr√°ficos de dispersi√≥n, estrellas, part√≠culas</li>
</ul>

<div class="org-src-container">
<pre class="src src-python">glBegin<span style="color: #707183;">(</span>GL_POINTS<span style="color: #707183;">)</span>
glVertex2f<span style="color: #707183;">(</span>-0.3, 0.3<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Un punto rojo</span>
glEnd<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org506ccf9" class="outline-3">
<h3 id="org506ccf9">draw<sub>lines</sub>()</h3>
<div class="outline-text-3" id="text-org506ccf9">
<p>
Dibuja l√≠neas separadas usando <code>GL_LINES</code>.
</p>
<ul class="org-ul">
<li>Cada par de v√©rtices forma una l√≠nea independiente</li>
<li>Establece el grosor de l√≠nea con <code>glLineWidth(3.0)</code></li>
<li>V√©rtices: 1-2 forman l√≠nea, 3-4 forman otra l√≠nea</li>
<li>Las l√≠neas no se conectan entre s√≠</li>
<li>√ötil para: ejes de coordenadas, rejillas, diagramas</li>
</ul>
</div>
</div>

<div id="outline-container-org5309fe5" class="outline-3">
<h3 id="org5309fe5">draw<sub>line</sub><sub>strip</sub>()</h3>
<div class="outline-text-3" id="text-org5309fe5">
<p>
Dibuja una l√≠nea continua conectada usando <code>GL_LINE_STRIP</code>.
</p>
<ul class="org-ul">
<li>Todos los v√©rtices se conectan en secuencia</li>
<li>Forma una l√≠nea quebrada continua</li>
<li>N v√©rtices crean N-1 segmentos de l√≠nea</li>
<li>No se cierra autom√°ticamente</li>
<li>√ötil para: gr√°ficos de l√≠nea, trayectorias, curvas</li>
</ul>
</div>
</div>

<div id="outline-container-org949bce5" class="outline-3">
<h3 id="org949bce5">draw<sub>line</sub><sub>loop</sub>()</h3>
<div class="outline-text-3" id="text-org949bce5">
<p>
Dibuja una l√≠nea cerrada usando <code>GL_LINE_LOOP</code>.
</p>
<ul class="org-ul">
<li>Similar a <code>GL_LINE_STRIP</code> pero cierra el camino</li>
<li>El √∫ltimo v√©rtice se conecta autom√°ticamente al primero</li>
<li>Forma un pol√≠gono de contorno</li>
<li>√ötil para: bordes de formas, per√≠metros, contornos</li>
</ul>
</div>
</div>

<div id="outline-container-org4e54446" class="outline-3">
<h3 id="org4e54446">draw<sub>triangles</sub>()</h3>
<div class="outline-text-3" id="text-org4e54446">
<p>
Dibuja tri√°ngulos separados usando <code>GL_TRIANGLES</code>.
</p>
<ul class="org-ul">
<li>Cada 3 v√©rtices forman un tri√°ngulo independiente</li>
<li>Los tri√°ngulos no comparten v√©rtices</li>
<li>Requiere m√∫ltiplos de 3 v√©rtices</li>
<li>Tri√°ngulos rellenos con interpolaci√≥n de color</li>
<li>√ötil para: mallas 3D, terrenos, modelos</li>
</ul>
</div>
</div>

<div id="outline-container-org87d6114" class="outline-3">
<h3 id="org87d6114">draw<sub>triangle</sub><sub>strip</sub>()</h3>
<div class="outline-text-3" id="text-org87d6114">
<p>
Dibuja una tira de tri√°ngulos conectados usando <code>GL_TRIANGLE_STRIP</code>.
</p>
<ul class="org-ul">
<li>Los tri√°ngulos comparten v√©rtices adyacentes</li>
<li>Patr√≥n: v1-v2-v3, v2-v3-v4, v3-v4-v5&#x2026;</li>
<li>M√°s eficiente que <code>GL_TRIANGLES</code> (menos v√©rtices duplicados)</li>
<li>√ötil para: superficies, ribbons, bandas</li>
</ul>
</div>
</div>

<div id="outline-container-orgabe6e82" class="outline-3">
<h3 id="orgabe6e82">draw<sub>triangle</sub><sub>fan</sub>()</h3>
<div class="outline-text-3" id="text-orgabe6e82">
<p>
Dibuja un abanico de tri√°ngulos usando <code>GL_TRIANGLE_FAN</code>.
</p>
<ul class="org-ul">
<li>Todos los tri√°ngulos comparten el primer v√©rtice (centro)</li>
<li>Patr√≥n: v1-v2-v3, v1-v3-v4, v1-v4-v5&#x2026;</li>
<li>Perfecto para formas radiales</li>
<li>√ötil para: c√≠rculos, sectores circulares, estrellas</li>
</ul>
</div>
</div>

<div id="outline-container-orgc8698c9" class="outline-3">
<h3 id="orgc8698c9">draw<sub>quads</sub>()</h3>
<div class="outline-text-3" id="text-orgc8698c9">
<p>
Dibuja cuadril√°teros separados usando <code>GL_QUADS</code>.
</p>
<ul class="org-ul">
<li>Cada 4 v√©rtices forman un cuadril√°tero independiente</li>
<li>Los cuadril√°teros no comparten v√©rtices</li>
<li>Requiere m√∫ltiplos de 4 v√©rtices</li>
<li>Debe ser convexo y planar</li>
<li>√ötil para: tiles, paneles, superficies rectangulares</li>
</ul>
</div>
</div>

<div id="outline-container-org55fadc3" class="outline-3">
<h3 id="org55fadc3">draw<sub>quad</sub><sub>strip</sub>()</h3>
<div class="outline-text-3" id="text-org55fadc3">
<p>
Dibuja una tira de cuadril√°teros usando <code>GL_QUAD_STRIP</code>.
</p>
<ul class="org-ul">
<li>Los cuadril√°teros comparten bordes</li>
<li>Patr√≥n: v1-v2-v4-v3, v3-v4-v6-v5&#x2026;</li>
<li>Requiere n√∫mero par de v√©rtices</li>
<li>√ötil para: cintas, tubos aplanados, superficies extruidas</li>
</ul>
</div>
</div>

<div id="outline-container-orgb5bfcd0" class="outline-3">
<h3 id="orgb5bfcd0">draw<sub>polygon</sub>()</h3>
<div class="outline-text-3" id="text-orgb5bfcd0">
<p>
Dibuja un pol√≠gono relleno usando <code>GL_POLYGON</code>.
</p>
<ul class="org-ul">
<li>Todos los v√©rtices forman un solo pol√≠gono</li>
<li>Debe ser convexo</li>
<li>Relleno con interpolaci√≥n de color</li>
<li>Solo funciona para pol√≠gonos simples (sin autointersecci√≥n)</li>
<li>√ötil para: formas personalizadas, escudos, badges</li>
</ul>
</div>
</div>

<div id="outline-container-org907ebdf" class="outline-3">
<h3 id="org907ebdf">draw<sub>all</sub><sub>primitives</sub><sub>grid</sub>()</h3>
<div class="outline-text-3" id="text-org907ebdf">
<p>
Funci√≥n principal que organiza todas las primitivas en una cuadr√≠cula 3√ó4.
</p>
<ul class="org-ul">
<li>Divide la ventana en celdas usando <code>glViewport()</code></li>
<li>Calcula posici√≥n de cada celda: columna y fila</li>
<li>Configura proyecci√≥n ortogr√°fica independiente para cada celda</li>
<li>Llama a cada funci√≥n de dibujo en su celda correspondiente</li>
</ul>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #b22222;"># </span><span style="color: #b22222;">C&#225;lculo de posici&#243;n de celda</span>
<span style="color: #a0522d;">col</span> = idx % cols  <span style="color: #b22222;"># </span><span style="color: #b22222;">Columna (0, 1, 2)</span>
<span style="color: #a0522d;">row</span> = idx // cols  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fila (0, 1, 2, 3)</span>
</pre>
</div>




<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_points</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""GL_POINTS - Dibuja puntos individuales"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPointSize<span style="color: #707183;">(</span>20.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_POINTS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.3, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.1, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.1, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.3, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_lines</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""GL_LINES - Dibuja l&#237;neas separadas (pares de v&#233;rtices)"""</span>
<span style="background-color: #f2f2f2;"> </span>   glLineWidth<span style="color: #707183;">(</span>7.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_LINES<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Primera l&#237;nea</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.4, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.1, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Segunda l&#237;nea</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.1, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.4, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_line_strip</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""GL_LINE_STRIP - Dibuja una l&#237;nea continua conectada"""</span>
<span style="background-color: #f2f2f2;"> </span>   glLineWidth<span style="color: #707183;">(</span>10.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_LINE_STRIP<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.4, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.2, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.0, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.2, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.4, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_line_loop</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""GL_LINE_LOOP - Dibuja una l&#237;nea cerrada"""</span>
<span style="background-color: #f2f2f2;"> </span>   glLineWidth<span style="color: #707183;">(</span>3.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_LINE_LOOP<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.3, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.3, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.3, -0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.3, -0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_triangles</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""GL_TRIANGLES - Dibuja tri&#225;ngulos separados"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_TRIANGLES<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Primer tri&#225;ngulo</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.4, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.2, -0.2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.0, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Segundo tri&#225;ngulo</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.1, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.3, -0.2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.5, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_triangle_strip</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""GL_TRIANGLE_STRIP - Dibuja una tira de tri&#225;ngulos conectados"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_TRIANGLE_STRIP<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.4, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.3, -0.2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.1, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.0, -0.2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.2, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.3, -0.2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_triangle_fan</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""GL_TRIANGLE_FAN - Dibuja un abanico de tri&#225;ngulos desde un punto central"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_TRIANGLE_FAN<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtice central</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">V&#233;rtices del per&#237;metro</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.0, 0.4<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.3, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.4, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.3, -0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.0, -0.4<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.3, -0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.4, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.3, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.0, 0.4<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_quads</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""GL_QUADS - Dibuja cuadril&#225;teros separados"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Primer cuadril&#225;tero</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.5, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.2, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.2, -0.1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.5, -0.1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Segundo cuadril&#225;tero</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.0, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.3, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.3, -0.1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.5, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.0, -0.1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_quad_strip</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""GL_QUAD_STRIP - Dibuja una tira de cuadril&#225;teros conectados"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUAD_STRIP<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.5, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.5, -0.2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.2, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.2, -0.2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.1, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.1, -0.2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.5, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.4, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.5, 0.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.4, -0.2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_polygon</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""GL_POLYGON - Dibuja un pol&#237;gono relleno"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_POLYGON<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.0, 0.4<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.3, 0.2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.4, -0.1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.2, -0.4<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.2, -0.4<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.4, -0.1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.3, 0.2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_text</span><span style="color: #707183;">(</span>x, y, text<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja texto en la pantalla (simplificado)"""</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glRasterPos2f<span style="color: #707183;">(</span>x, y<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> char <span style="color: #a020f0;">in</span> <span style="color: #a0522d;">text</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glutBitmapCharacter<span style="color: #707183;">(</span>GLUT_BITMAP_HELVETICA_12, <span style="color: #483d8b;">ord</span><span style="color: #7388d6;">(</span>char<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_all_primitives_grid</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja todas las primitivas en una cuadr&#237;cula 3x4"""</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar viewport y proyecci&#243;n para cuadr&#237;cula</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = glfw.get_window_size<span style="color: #707183;">(</span>glfw.get_current_context<span style="color: #7388d6;">()</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">primitives</span> = <span style="color: #707183;">[</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span><span style="color: #8b2252;">"GL_POINTS"</span>, draw_points<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span><span style="color: #8b2252;">"GL_LINES"</span>, draw_lines<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span><span style="color: #8b2252;">"GL_LINE_STRIP"</span>, draw_line_strip<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span><span style="color: #8b2252;">"GL_LINE_LOOP"</span>, draw_line_loop<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span><span style="color: #8b2252;">"GL_TRIANGLES"</span>, draw_triangles<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span><span style="color: #8b2252;">"GL_TRIANGLE_STRIP"</span>, draw_triangle_strip<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span><span style="color: #8b2252;">"GL_TRIANGLE_FAN"</span>, draw_triangle_fan<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span><span style="color: #8b2252;">"GL_QUADS"</span>, draw_quads<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span><span style="color: #8b2252;">"GL_QUAD_STRIP"</span>, draw_quad_strip<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span><span style="color: #8b2252;">"GL_POLYGON"</span>, draw_polygon<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">cols</span> = 3
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">rows</span> = 4
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> idx, <span style="color: #707183;">(</span>name, draw_func<span style="color: #707183;">)</span> <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">enumerate</span><span style="color: #707183;">(</span>primitives<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">col</span> = idx % cols
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">row</span> = idx // cols
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar viewport para esta celda</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">cell_width</span> = width // cols
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">cell_height</span> = height // rows
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">x</span> = col * cell_width
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">y</span> = height - <span style="color: #707183;">(</span>row + 1<span style="color: #707183;">)</span> * cell_height
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>x, y, cell_width, cell_height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar proyecci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glOrtho<span style="color: #707183;">(</span>-1.0, 1.0, -1.0, 1.0, -1.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar la primitiva</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_func<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar el nombre (en la parte inferior)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glRasterPos2f<span style="color: #707183;">(</span>-0.8, -0.9<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Nota: glutBitmapCharacter no est&#225; disponible sin GLUT</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializa GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear la ventana m&#225;s grande para mostrar todas las primitivas</span>
<span style="background-color: #f2f2f2;"> </span>   window = glfw.create_window<span style="color: #707183;">(</span>1200, 900, <span style="color: #8b2252;">"Todas las Primitivas de OpenGL"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Hacer el contexto de OpenGL actual para la ventana</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar color de fondo</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>1, 1, 1, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_all_primitives_grid<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Finalizar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</div>
</div>






<div id="outline-container-org3dc0bc7" class="outline-2">
<h2 id="org3dc0bc7">Figuras 3D de OpenGL</h2>
<div class="outline-text-2" id="text-org3dc0bc7">
</div>
<div id="outline-container-org3bbbddd" class="outline-3">
<h3 id="org3bbbddd">Funciones de Figuras GLU (OpenGL Utility Library)</h3>
<div class="outline-text-3" id="text-org3bbbddd">
</div>
<div id="outline-container-orgd319440" class="outline-4">
<h4 id="orgd319440">draw<sub>sphere</sub>()</h4>
<div class="outline-text-4" id="text-orgd319440">
<p>
Dibuja una esfera usando <code>gluSphere()</code>.
</p>

<div class="org-src-container">
<pre class="src src-python">gluSphere<span style="color: #707183;">(</span>quadric, radio, slices, stacks<span style="color: #707183;">)</span>
</pre>
</div>

<p>
<b>Par√°metros:</b>
</p>
<ul class="org-ul">
<li><code>quadric</code>: Objeto cuadr√°tico (puntero a estructura de renderizado)</li>
<li><code>radio</code>: Radio de la esfera (0.5)</li>
<li><code>slices</code>: Subdivisiones alrededor del eje Z (32 = m√°s suave)</li>
<li><code>stacks</code>: Subdivisiones a lo largo del eje Z (32 = m√°s suave)</li>
</ul>

<p>
<b>Caracter√≠sticas:</b>
</p>
<ul class="org-ul">
<li>Esfera perfecta centrada en el origen</li>
<li>M√°s slices/stacks = m√°s pol√≠gonos = m√°s suave</li>
<li>√ötil para: planetas, pelotas, burbujas</li>
</ul>
</div>
</div>

<div id="outline-container-org1cab22f" class="outline-4">
<h4 id="org1cab22f">draw<sub>cone</sub>()</h4>
<div class="outline-text-4" id="text-org1cab22f">
<p>
Dibuja un cono usando <code>gluCylinder()</code> con radio superior = 0.
</p>

<div class="org-src-container">
<pre class="src src-python">gluCylinder<span style="color: #707183;">(</span>quadric, base_radio, top_radio, altura, slices, stacks<span style="color: #707183;">)</span>
</pre>
</div>

<p>
<b>Par√°metros:</b>
</p>
<ul class="org-ul">
<li><code>base_radio</code>: Radio de la base (0.5)</li>
<li><code>top_radio</code>: Radio superior (0.0 para cono)</li>
<li><code>altura</code>: Altura del cono (1.0)</li>
<li><code>slices</code>: Subdivisiones radiales (32)</li>
<li><code>stacks</code>: Subdivisiones verticales (32)</li>
</ul>

<p>
<b>Transformaciones:</b>
</p>
<ul class="org-ul">
<li><code>glRotatef(-90, 1, 0, 0)</code>: Rota -90¬∞ en eje X para orientar hacia arriba</li>
<li>Por defecto apunta en +Z</li>
</ul>

<p>
<b>√ötil para:</b> √°rboles de navidad, conos de tr√°fico, puntas de cohete
</p>
</div>
</div>

<div id="outline-container-org2a3b685" class="outline-4">
<h4 id="org2a3b685">draw<sub>cylinder</sub>()</h4>
<div class="outline-text-4" id="text-org2a3b685">
<p>
Dibuja un cilindro usando <code>gluCylinder()</code>.
</p>

<div class="org-src-container">
<pre class="src src-python">gluCylinder<span style="color: #707183;">(</span>quadric, radio_base, radio_top, altura, slices, stacks<span style="color: #707183;">)</span>
</pre>
</div>

<p>
<b>Par√°metros:</b>
</p>
<ul class="org-ul">
<li>Ambos radios iguales (0.4) = cilindro perfecto</li>
<li>Si radios diferentes = cono truncado</li>
</ul>

<p>
<b>Caracter√≠sticas:</b>
</p>
<ul class="org-ul">
<li>Sin tapas (abierto arriba y abajo)</li>
<li>Para agregar tapas usar <code>gluDisk()</code> en extremos</li>
<li>√ötil para: columnas, tuber√≠as, latas</li>
</ul>
</div>
</div>

<div id="outline-container-org3310520" class="outline-4">
<h4 id="org3310520">draw<sub>disk</sub>()</h4>
<div class="outline-text-4" id="text-org3310520">
<p>
Dibuja un disco (c√≠rculo con hueco opcional) usando <code>gluDisk()</code>.
</p>

<div class="org-src-container">
<pre class="src src-python">gluDisk<span style="color: #707183;">(</span>quadric, radio_interior, radio_exterior, slices, loops<span style="color: #707183;">)</span>
</pre>
</div>

<p>
<b>Par√°metros:</b>
</p>
<ul class="org-ul">
<li><code>radio_interior</code>: Radio del agujero central (0.2)</li>
<li><code>radio_exterior</code>: Radio externo (0.6)</li>
<li><code>slices</code>: Subdivisiones radiales (32)</li>
<li><code>loops</code>: Subdivisiones conc√©ntricas (32)</li>
</ul>

<p>
<b>Caracter√≠sticas:</b>
</p>
<ul class="org-ul">
<li>Si radio<sub>interior</sub> = 0 ‚Üí disco s√≥lido</li>
<li>Si radio<sub>interior</sub> &gt; 0 ‚Üí anillo/rosquilla plana</li>
<li>√ötil para: tapas de cilindros, CDs, arandelas</li>
</ul>
</div>
</div>

<div id="outline-container-orga870728" class="outline-4">
<h4 id="orga870728">draw<sub>partial</sub><sub>disk</sub>()</h4>
<div class="outline-text-4" id="text-orga870728">
<p>
Dibuja un sector circular usando <code>gluPartialDisk()</code>.
</p>

<div class="org-src-container">
<pre class="src src-python">gluPartialDisk<span style="color: #707183;">(</span>quadric, radio_int, radio_ext, slices, loops, start_angle, sweep_angle<span style="color: #707183;">)</span>
</pre>
</div>

<p>
<b>Par√°metros adicionales:</b>
</p>
<ul class="org-ul">
<li><code>start_angle</code>: √Ångulo inicial en grados (0)</li>
<li><code>sweep_angle</code>: √Ångulo de barrido (270 = 3/4 de c√≠rculo)</li>
</ul>

<p>
<b>Caracter√≠sticas:</b>
</p>
<ul class="org-ul">
<li>Mismo que disk pero solo un sector angular</li>
<li>√ötil para: gr√°ficos de pastel, medidores, indicadores</li>
</ul>
</div>
</div>

<div id="outline-container-org3c927da" class="outline-4">
<h4 id="org3c927da">gluNewQuadric() y gluDeleteQuadric()</h4>
<div class="outline-text-4" id="text-org3c927da">
<p>
Funciones auxiliares para objetos cuadr√°ticos.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Crea objeto</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">... usar el objeto ...</span>
gluDeleteQuadric<span style="color: #707183;">(</span>quadric<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Libera memoria</span>
</pre>
</div>

<p>
<b>Prop√≥sito:</b>
</p>
<ul class="org-ul">
<li>Almacena par√°metros de renderizado</li>
<li>Reutilizable para m√∫ltiples primitivas</li>
<li>Importante liberar memoria al terminar</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgefbc742" class="outline-3">
<h3 id="orgefbc742">Funciones de Figuras GLUT (OpenGL Utility Toolkit)</h3>
<div class="outline-text-3" id="text-orgefbc742">
</div>
<div id="outline-container-org8f9f72c" class="outline-4">
<h4 id="org8f9f72c">draw<sub>cube</sub>()</h4>
<div class="outline-text-4" id="text-org8f9f72c">
<p>
Dibuja un cubo s√≥lido usando <code>glutSolidCube()</code>.
</p>

<div class="org-src-container">
<pre class="src src-python">glutSolidCube<span style="color: #707183;">(</span>tama&#241;o<span style="color: #707183;">)</span>
</pre>
</div>

<p>
<b>Par√°metros:</b>
</p>
<ul class="org-ul">
<li><code>tama√±o</code>: Longitud de cada arista (0.8)</li>
</ul>

<p>
<b>Caracter√≠sticas:</b>
</p>
<ul class="org-ul">
<li>Centrado en el origen</li>
<li>6 caras cuadradas</li>
<li>Con normales para iluminaci√≥n</li>
<li>√ötil para: dados, cajas, bloques de construcci√≥n</li>
</ul>
</div>
</div>

<div id="outline-container-orgf80c821" class="outline-4">
<h4 id="orgf80c821">draw<sub>torus</sub>()</h4>
<div class="outline-text-4" id="text-orgf80c821">
<p>
Dibuja un toroide (dona) usando <code>glutSolidTorus()</code>.
</p>

<div class="org-src-container">
<pre class="src src-python">glutSolidTorus<span style="color: #707183;">(</span>radio_interior, radio_exterior, nsides, rings<span style="color: #707183;">)</span>
</pre>
</div>

<p>
<b>Par√°metros:</b>
</p>
<ul class="org-ul">
<li><code>radio_interior</code>: Radio del tubo (0.2)</li>
<li><code>radio_exterior</code>: Radio desde el centro al tubo (0.5)</li>
<li><code>nsides</code>: Subdivisiones del tubo (32)</li>
<li><code>rings</code>: Subdivisiones alrededor del eje (32)</li>
</ul>

<p>
<b>Caracter√≠sticas:</b>
</p>
<ul class="org-ul">
<li>Forma de dona/rosquilla</li>
<li>Topolog√≠a de g√©nero 1 (un agujero)</li>
<li>√ötil para: aros, llantas, rosquillas üç©</li>
</ul>
</div>
</div>

<div id="outline-container-org7af6a70" class="outline-4">
<h4 id="org7af6a70">draw<sub>teapot</sub>()</h4>
<div class="outline-text-4" id="text-org7af6a70">
<p>
Dibuja la famosa Tetera de Utah usando <code>glutSolidTeapot()</code>.
</p>

<div class="org-src-container">
<pre class="src src-python">glutSolidTeapot<span style="color: #707183;">(</span>tama&#241;o<span style="color: #707183;">)</span>
</pre>
</div>

<p>
<b>Historia:</b>
</p>
<ul class="org-ul">
<li>Creada por Martin Newell en 1975</li>
<li>Modelo est√°ndar en gr√°ficos por computadora</li>
<li>Definida con parches de B√©zier</li>
<li>Aparece en Toy Story, Los Simpsons, etc.</li>
</ul>

<p>
<b>Caracter√≠sticas:</b>
</p>
<ul class="org-ul">
<li>Modelo complejo con pico, asa y tapa</li>
<li>Excelente para probar iluminaci√≥n</li>
<li>Icono de la computaci√≥n gr√°fica ü´ñ</li>
</ul>
</div>
</div>

<div id="outline-container-org7eeeddd" class="outline-4">
<h4 id="org7eeeddd">draw<sub>dodecahedron</sub>()</h4>
<div class="outline-text-4" id="text-org7eeeddd">
<p>
Dibuja un dodecaedro usando <code>glutSolidDodecahedron()</code>.
</p>

<div class="org-src-container">
<pre class="src src-python">glutSolidDodecahedron<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Sin par&#225;metros</span>
</pre>
</div>

<p>
<b>Caracter√≠sticas geom√©tricas:</b>
</p>
<ul class="org-ul">
<li>12 caras pentagonales regulares</li>
<li>20 v√©rtices</li>
<li>30 aristas</li>
<li>Uno de los 5 s√≥lidos plat√≥nicos</li>
<li>√ötil para: dados de rol (D12), decoraci√≥n</li>
</ul>
</div>
</div>

<div id="outline-container-orgeaab710" class="outline-4">
<h4 id="orgeaab710">draw<sub>octahedron</sub>()</h4>
<div class="outline-text-4" id="text-orgeaab710">
<p>
Dibuja un octaedro usando <code>glutSolidOctahedron()</code>.
</p>

<p>
<b>Caracter√≠sticas geom√©tricas:</b>
</p>
<ul class="org-ul">
<li>8 caras triangulares equil√°teras</li>
<li>6 v√©rtices</li>
<li>12 aristas</li>
<li>Dual del cubo</li>
<li>√ötil para: cristales, dados (D8)</li>
</ul>
</div>
</div>

<div id="outline-container-org532b190" class="outline-4">
<h4 id="org532b190">draw<sub>tetrahedron</sub>()</h4>
<div class="outline-text-4" id="text-org532b190">
<p>
Dibuja un tetraedro usando <code>glutSolidTetrahedron()</code>.
</p>

<p>
<b>Caracter√≠sticas geom√©tricas:</b>
</p>
<ul class="org-ul">
<li>4 caras triangulares equil√°teras</li>
<li>4 v√©rtices</li>
<li>6 aristas</li>
<li>Poliedro m√°s simple</li>
<li>√ötil para: estructura molecular, dados (D4)</li>
</ul>
</div>
</div>

<div id="outline-container-orgaf1c00b" class="outline-4">
<h4 id="orgaf1c00b">draw<sub>icosahedron</sub>()</h4>
<div class="outline-text-4" id="text-orgaf1c00b">
<p>
Dibuja un icosaedro usando <code>glutSolidIcosahedron()</code>.
</p>

<p>
<b>Caracter√≠sticas geom√©tricas:</b>
</p>
<ul class="org-ul">
<li>20 caras triangulares equil√°teras</li>
<li>12 v√©rtices</li>
<li>30 aristas</li>
<li>Dual del dodecaedro</li>
<li>√ötil para: virus, dados (D20), geod√©sicas</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org800d4d4" class="outline-3">
<h3 id="org800d4d4">Funciones Auxiliares</h3>
<div class="outline-text-3" id="text-org800d4d4">
</div>
<div id="outline-container-orgca60330" class="outline-4">
<h4 id="orgca60330">setup<sub>lighting</sub>()</h4>
<div class="outline-text-4" id="text-orgca60330">
<p>
Configura el sistema de iluminaci√≥n de OpenGL.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">def</span> <span style="color: #0000ff;">setup_lighting</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>       <span style="color: #b22222;"># </span><span style="color: #b22222;">Activa sistema de iluminaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>         <span style="color: #b22222;"># </span><span style="color: #b22222;">Activa luz 0</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>     <span style="color: #b22222;"># </span><span style="color: #b22222;">Activa test de profundidad</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_COLOR_MATERIAL<span style="color: #707183;">)</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">Permite colores con iluminaci&#243;n</span>
</pre>
</div>

<p>
<b>Componentes de luz:</b>
</p>
<ul class="org-ul">
<li><code>GL_POSITION</code>: Posici√≥n [x, y, z, w] (w=1 ‚Üí luz posicional, w=0 ‚Üí direccional)</li>
<li><code>GL_AMBIENT</code>: Luz ambiente (ilumina todo uniformemente)</li>
<li><code>GL_DIFFUSE</code>: Luz difusa (depende del √°ngulo de incidencia)</li>
<li><code>GL_SPECULAR</code>: Luz especular (brillos/reflejos)</li>
</ul>

<p>
<b>Test de profundidad:</b>
</p>
<ul class="org-ul">
<li>Determina qu√© p√≠xeles est√°n delante/detr√°s</li>
<li>Usa Z-buffer</li>
<li>Esencial para 3D correcto</li>
</ul>
</div>
</div>

<div id="outline-container-orgb0ab1f3" class="outline-4">
<h4 id="orgb0ab1f3">draw<sub>all</sub><sub>3d</sub><sub>shapes</sub>()</h4>
<div class="outline-text-4" id="text-orgb0ab1f3">
<p>
Funci√≥n principal que organiza todas las figuras 3D en cuadr√≠cula 4√ó3.
</p>

<p>
<b>Proceso:</b>
</p>
<ol class="org-ol">
<li>Calcula posici√≥n de celda (columna, fila)</li>
<li>Configura viewport para esa celda</li>
<li>Configura proyecci√≥n perspectiva con <code>gluPerspective()</code></li>
<li>Configura c√°mara con <code>gluLookAt()</code></li>
<li>Aplica rotaci√≥n animada</li>
<li>Dibuja la figura</li>
</ol>

<div class="org-src-container">
<pre class="src src-python">gluPerspective<span style="color: #707183;">(</span>fov, aspect, near, far<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">fov: Campo de visi&#243;n (45&#176;)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">aspect: Relaci&#243;n ancho/alto</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">near: Plano cercano de recorte (0.1)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">far: Plano lejano de recorte (50.0)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python">gluLookAt<span style="color: #707183;">(</span>eye_x, eye_y, eye_z, center_x, center_y, center_z, up_x, up_y, up_z<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">eye: Posici&#243;n de la c&#225;mara (0, 0, 3)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">center: Punto donde mira (0, 0, 0)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">up: Vector "arriba" (0, 1, 0)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org269536c" class="outline-3">
<h3 id="org269536c">Funciones Comunes de OpenGL</h3>
<div class="outline-text-3" id="text-org269536c">
</div>
<div id="outline-container-org93b6a69" class="outline-4">
<h4 id="org93b6a69">Transformaciones</h4>
<div class="outline-text-4" id="text-org93b6a69">
</div>
<ul class="org-ul">
<li><a id="orgf40cb16"></a>glRotatef(angle, x, y, z)<br />
<div class="outline-text-5" id="text-orgf40cb16">
<p>
Rota el sistema de coordenadas.
</p>
<ul class="org-ul">
<li><code>angle</code>: √Ångulo en grados</li>
<li><code>(x, y, z)</code>: Vector eje de rotaci√≥n</li>
</ul>
</div>
</li>

<li><a id="orgfe32d0b"></a>glPushMatrix() / glPopMatrix()<br />
<div class="outline-text-5" id="text-orgfe32d0b">
<p>
Guardar y restaurar matriz de transformaci√≥n.
</p>
<ul class="org-ul">
<li><code>Push</code>: Guarda estado actual en pila</li>
<li><code>Pop</code>: Restaura √∫ltimo estado guardado</li>
<li>√ötil para transformaciones locales</li>
</ul>
</div>
</li>
</ul>
</div>

<div id="outline-container-org9137dd8" class="outline-4">
<h4 id="org9137dd8">Viewport y Proyecci√≥n</h4>
<div class="outline-text-4" id="text-org9137dd8">
</div>
<ul class="org-ul">
<li><a id="org27120a1"></a>glViewport(x, y, width, height)<br />
<div class="outline-text-5" id="text-org27120a1">
<p>
Define regi√≥n de renderizado en ventana.
</p>
<ul class="org-ul">
<li><code>(x, y)</code>: Esquina inferior izquierda</li>
<li><code>(width, height)</code>: Dimensiones en p√≠xeles</li>
</ul>
</div>
</li>

<li><a id="org7ebd400"></a>glMatrixMode(mode)<br />
<div class="outline-text-5" id="text-org7ebd400">
<p>
Selecciona matriz activa para modificar.
</p>
<ul class="org-ul">
<li><code>GL_PROJECTION</code>: Matriz de proyecci√≥n (c√≥mo se ve)</li>
<li><code>GL_MODELVIEW</code>: Matriz de modelo/vista (d√≥nde est√°n objetos)</li>
</ul>
</div>
</li>

<li><a id="orgb3f730b"></a>glLoadIdentity()<br />
<div class="outline-text-5" id="text-orgb3f730b">
<p>
Resetea matriz actual a matriz identidad.
</p>
<ul class="org-ul">
<li>Limpia todas las transformaciones previas</li>
</ul>
</div>
</li>
</ul>
</div>

<div id="outline-container-org86b2aaf" class="outline-4">
<h4 id="org86b2aaf">Renderizado</h4>
<div class="outline-text-4" id="text-org86b2aaf">
</div>
<ul class="org-ul">
<li><a id="orga926d33"></a>glBegin(mode) / glEnd()<br />
<div class="outline-text-5" id="text-orga926d33">
<p>
Delimita definici√≥n de primitiva.
</p>
<ul class="org-ul">
<li>Todo entre Begin/End define una primitiva</li>
<li><code>mode</code>: Tipo de primitiva (GL<sub>POINTS</sub>, GL<sub>TRIANGLES</sub>, etc.)</li>
</ul>
</div>
</li>

<li><a id="orgc3498aa"></a>glVertex2f(x, y) / glVertex3f(x, y, z)<br />
<div class="outline-text-5" id="text-orgc3498aa">
<p>
Define un v√©rtice.
</p>
<ul class="org-ul">
<li><code>2f</code>: 2D con floats</li>
<li><code>3f</code>: 3D con floats</li>
</ul>
</div>
</li>

<li><a id="org19a75d8"></a>glColor3f(r, g, b)<br />
<div class="outline-text-5" id="text-org19a75d8">
<p>
Establece color actual.
</p>
<ul class="org-ul">
<li>Valores de 0.0 a 1.0</li>
<li>RGB: (1,0,0)=rojo, (0,1,0)=verde, (0,0,1)=azul</li>
</ul>
</div>
</li>

<li><a id="org63d3c1d"></a>glClear(buffers)<br />
<div class="outline-text-5" id="text-org63d3c1d">
<p>
Limpia buffers especificados.
</p>
<ul class="org-ul">
<li><code>GL_COLOR_BUFFER_BIT</code>: Buffer de color (pantalla)</li>
<li><code>GL_DEPTH_BUFFER_BIT</code>: Buffer de profundidad (Z-buffer)</li>
<li>Se pueden combinar con OR: <code>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT</code></li>
</ul>
</div>
</li>

<li><a id="org9809675"></a>glClearColor(r, g, b, a)<br />
<div class="outline-text-5" id="text-org9809675">
<p>
Establece color de limpieza (fondo).
</p>
<ul class="org-ul">
<li>RGBA de 0.0 a 1.0</li>
<li><code>a</code>: Canal alfa (transparencia)</li>
</ul>
</div>
</li>
</ul>
</div>

<div id="outline-container-org70f665a" class="outline-4">
<h4 id="org70f665a">Configuraci√≥n</h4>
<div class="outline-text-4" id="text-org70f665a">
</div>
<ul class="org-ul">
<li><a id="orgc48c511"></a>glPointSize(size)<br />
<div class="outline-text-5" id="text-orgc48c511">
<p>
Establece tama√±o de puntos en p√≠xeles.
</p>
</div>
</li>

<li><a id="org5ed8543"></a>glLineWidth(width)<br />
<div class="outline-text-5" id="text-org5ed8543">
<p>
Establece grosor de l√≠neas en p√≠xeles.
</p>
</div>
</li>

<li><a id="org84c65d5"></a>glShadeModel(mode)<br />
<div class="outline-text-5" id="text-org84c65d5">
<p>
Define modelo de sombreado.
</p>
<ul class="org-ul">
<li><code>GL_SMOOTH</code>: Interpolaci√≥n suave de colores (Gouraud)</li>
<li><code>GL_FLAT</code>: Color constante por cara</li>
</ul>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-org31f60db" class="outline-3">
<h3 id="org31f60db">Funciones de GLFW</h3>
<div class="outline-text-3" id="text-org31f60db">
</div>
<div id="outline-container-orgce4d32c" class="outline-4">
<h4 id="orgce4d32c">glfw.init()</h4>
<div class="outline-text-4" id="text-orgce4d32c">
<p>
Inicializa la biblioteca GLFW.
</p>
<ul class="org-ul">
<li>Retorna True si √©xito, False si falla</li>
<li>Debe llamarse antes de cualquier otra funci√≥n GLFW</li>
</ul>
</div>
</div>

<div id="outline-container-orge207401" class="outline-4">
<h4 id="orge207401">glfw.create<sub>window</sub>(width, height, title, monitor, share)</h4>
<div class="outline-text-4" id="text-orge207401">
<p>
Crea una ventana con contexto OpenGL.
</p>
<ul class="org-ul">
<li><code>monitor</code>: None para ventana, handle para fullscreen</li>
<li><code>share</code>: None o ventana con la que compartir contexto</li>
</ul>
</div>
</div>

<div id="outline-container-org9a882d1" class="outline-4">
<h4 id="org9a882d1">glfw.make<sub>context</sub><sub>current</sub>(window)</h4>
<div class="outline-text-4" id="text-org9a882d1">
<p>
Hace activo el contexto OpenGL de la ventana.
</p>
<ul class="org-ul">
<li>Solo un contexto puede estar activo por thread</li>
</ul>
</div>
</div>

<div id="outline-container-orge9146a8" class="outline-4">
<h4 id="orge9146a8">glfw.window<sub>should</sub><sub>close</sub>(window)</h4>
<div class="outline-text-4" id="text-orge9146a8">
<p>
Verifica si la ventana debe cerrarse.
</p>
<ul class="org-ul">
<li>Retorna True si usuario cerr√≥ ventana</li>
</ul>
</div>
</div>

<div id="outline-container-orgbf517ea" class="outline-4">
<h4 id="orgbf517ea">glfw.swap<sub>buffers</sub>(window)</h4>
<div class="outline-text-4" id="text-orgbf517ea">
<p>
Intercambia buffers front/back (double buffering).
</p>
<ul class="org-ul">
<li>Muestra lo dibujado en pantalla</li>
</ul>
</div>
</div>

<div id="outline-container-orgdba7522" class="outline-4">
<h4 id="orgdba7522">glfw.poll<sub>events</sub>()</h4>
<div class="outline-text-4" id="text-orgdba7522">
<p>
Procesa eventos pendientes (teclado, mouse, etc.).
</p>
</div>
</div>

<div id="outline-container-orgcbf64e0" class="outline-4">
<h4 id="orgcbf64e0">glfw.terminate()</h4>
<div class="outline-text-4" id="text-orgcbf64e0">
<p>
Limpia recursos de GLFW.
</p>
<ul class="org-ul">
<li>Llamar al finalizar programa</li>
</ul>
</div>
</div>

<div id="outline-container-orgec58911" class="outline-4">
<h4 id="orgec58911">glfw.get<sub>window</sub><sub>size</sub>(window)</h4>
<div class="outline-text-4" id="text-orgec58911">
<p>
Retorna tupla (width, height) con tama√±o de ventana.
</p>
</div>
</div>
</div>

<div id="outline-container-orgec5ae2d" class="outline-3">
<h3 id="orgec5ae2d">Funciones de GLU</h3>
<div class="outline-text-3" id="text-orgec5ae2d">
</div>
<div id="outline-container-orge7cbc82" class="outline-4">
<h4 id="orge7cbc82">gluPerspective(fovy, aspect, zNear, zFar)</h4>
<div class="outline-text-4" id="text-orge7cbc82">
<p>
Configura proyecci√≥n perspectiva.
</p>
<ul class="org-ul">
<li><code>fovy</code>: Campo de visi√≥n vertical en grados</li>
<li><code>aspect</code>: Relaci√≥n ancho/alto</li>
<li><code>zNear/zFar</code>: Planos de recorte</li>
</ul>
</div>
</div>

<div id="outline-container-org87ae668" class="outline-4">
<h4 id="org87ae668">gluLookAt(eyeX, eyeY, eyeZ, centerX, centerY, centerZ, upX, upY, upZ)</h4>
<div class="outline-text-4" id="text-org87ae668">
<p>
Configura matriz de vista (c√°mara).
</p>
<ul class="org-ul">
<li><code>eye</code>: Posici√≥n de c√°mara</li>
<li><code>center</code>: Punto observado</li>
<li><code>up</code>: Vector "arriba"</li>
</ul>
</div>
</div>

<div id="outline-container-orga694f89" class="outline-4">
<h4 id="orga694f89">glOrtho(left, right, bottom, top, nearVal, farVal)</h4>
<div class="outline-text-4" id="text-orga694f89">
<p>
Configura proyecci√≥n ortogr√°fica (paralela).
</p>
<ul class="org-ul">
<li>Define volumen de visualizaci√≥n rectangular</li>
<li>Sin perspectiva (objetos lejanos no se ven m√°s peque√±os)</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-org086b0d7" class="outline-3">
<h3 id="org086b0d7">S√≥lidos Plat√≥nicos en OpenGL</h3>
<div class="outline-text-3" id="text-org086b0d7">
<p>
Los 5 s√≥lidos plat√≥nicos son los √∫nicos poliedros regulares convexos:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Nombre</th>
<th scope="col" class="org-right">Caras</th>
<th scope="col" class="org-left">Forma de cara</th>
<th scope="col" class="org-right">V√©rtices</th>
<th scope="col" class="org-right">Aristas</th>
<th scope="col" class="org-left">Funci√≥n GLUT</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Tetraedro</td>
<td class="org-right">4</td>
<td class="org-left">Tri√°ngulo</td>
<td class="org-right">4</td>
<td class="org-right">6</td>
<td class="org-left">glutSolidTetrahedron</td>
</tr>

<tr>
<td class="org-left">Cubo</td>
<td class="org-right">6</td>
<td class="org-left">Cuadrado</td>
<td class="org-right">8</td>
<td class="org-right">12</td>
<td class="org-left">glutSolidCube</td>
</tr>

<tr>
<td class="org-left">Octaedro</td>
<td class="org-right">8</td>
<td class="org-left">Tri√°ngulo</td>
<td class="org-right">6</td>
<td class="org-right">12</td>
<td class="org-left">glutSolidOctahedron</td>
</tr>

<tr>
<td class="org-left">Dodecaedro</td>
<td class="org-right">12</td>
<td class="org-left">Pent√°gono</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
<td class="org-left">glutSolidDodecahedron</td>
</tr>

<tr>
<td class="org-left">Icosaedro</td>
<td class="org-right">20</td>
<td class="org-left">Tri√°ngulo</td>
<td class="org-right">12</td>
<td class="org-right">30</td>
<td class="org-left">glutSolidIcosahedron</td>
</tr>
</tbody>
</table>

<p>
<b>Relaci√≥n de Euler:</b> V - A + C = 2 (para todos los poliedros convexos)
</p>
</div>
</div>

<div id="outline-container-org430e2a3" class="outline-3">
<h3 id="org430e2a3">Pipeline de Renderizado OpenGL</h3>
<div class="outline-text-3" id="text-org430e2a3">
<pre class="example">
V√©rtices ‚Üí Transformaci√≥n Modelo
         ‚Üì
    Transformaci√≥n Vista
         ‚Üì
    Transformaci√≥n Proyecci√≥n
         ‚Üì
       Clipping
         ‚Üì
    Viewport Transform
         ‚Üì
    Rasterizaci√≥n
         ‚Üì
    Fragment Shader
         ‚Üì
       P√≠xeles
</pre>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLUT <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">import</span> math

<span style="color: #b22222;"># </span><span style="color: #b22222;">Variable global para rotaci&#243;n</span>
<span style="color: #a0522d;">rotation_angle</span> = 0.0

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_sphere</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Esfera usando GLU"""</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.2, 0.2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluSphere<span style="color: #707183;">(</span>quadric, 0.5, 32, 32<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluDeleteQuadric<span style="color: #707183;">(</span>quadric<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_cube</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Cubo usando GLUT"""</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.2, 1.0, 0.2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidCube<span style="color: #707183;">(</span>0.8<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_cone</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Cono usando GLU"""</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.2, 0.2, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>-90, 1, 0, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Orientar hacia arriba</span>
<span style="background-color: #f2f2f2;"> </span>   gluCylinder<span style="color: #707183;">(</span>quadric, 0.5, 0.0, 1.0, 32, 32<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluDeleteQuadric<span style="color: #707183;">(</span>quadric<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_torus</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Toroide/Toro usando GLUT"""</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 0.2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidTorus<span style="color: #707183;">(</span>0.2, 0.5, 32, 32<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_teapot</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""La famosa Tetera de Utah"""</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.2, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidTeapot<span style="color: #707183;">(</span>0.5<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_cylinder</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Cilindro usando GLU"""</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.2, 1.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>-90, 1, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluCylinder<span style="color: #707183;">(</span>quadric, 0.4, 0.4, 1.0, 32, 32<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluDeleteQuadric<span style="color: #707183;">(</span>quadric<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_disk</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Disco usando GLU"""</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.5, 0.2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluDisk<span style="color: #707183;">(</span>quadric, 0.2, 0.6, 32, 32<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluDeleteQuadric<span style="color: #707183;">(</span>quadric<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_dodecahedron</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dodecaedro (12 caras pentagonales)"""</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.5, 1.0, 0.5<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidDodecahedron<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_octahedron</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Octaedro (8 caras triangulares)"""</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.5, 0.5<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidOctahedron<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_tetrahedron</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Tetraedro (4 caras triangulares)"""</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.5, 0.5, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidTetrahedron<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_icosahedron</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Icosaedro (20 caras triangulares)"""</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 0.5<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidIcosahedron<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_partial_disk</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Disco parcial (sector circular)"""</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.8, 0.3, 0.8<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluPartialDisk<span style="color: #707183;">(</span>quadric, 0.2, 0.6, 32, 16, 0, 270<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluDeleteQuadric<span style="color: #707183;">(</span>quadric<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_grid</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja una rejilla de referencia"""</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.3, 0.3, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_LINES<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>-5, 6<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>i, -5, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>i, 5, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-5, i, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>5, i, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">setup_lighting</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Configura iluminaci&#243;n para ver mejor las figuras 3D"""</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_COLOR_MATERIAL<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColorMaterial<span style="color: #707183;">(</span>GL_FRONT_AND_BACK, GL_AMBIENT_AND_DIFFUSE<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Luz posicional</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_position</span> = <span style="color: #707183;">[</span>2.0, 2.0, 2.0, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_ambient</span> = <span style="color: #707183;">[</span>0.3, 0.3, 0.3, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_diffuse</span> = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_specular</span> = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, light_position<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_AMBIENT, light_ambient<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_DIFFUSE, light_diffuse<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_SPECULAR, light_specular<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_all_3d_shapes</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja todas las figuras 3D en una cuadr&#237;cula 4x3"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> rotation_angle
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">shapes</span> = <span style="color: #707183;">[</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span><span style="color: #8b2252;">"Esfera"</span>, draw_sphere<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span><span style="color: #8b2252;">"Cubo"</span>, draw_cube<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span><span style="color: #8b2252;">"Cono"</span>, draw_cone<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span><span style="color: #8b2252;">"Toroide"</span>, draw_torus<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span><span style="color: #8b2252;">"Tetera"</span>, draw_teapot<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span><span style="color: #8b2252;">"Cilindro"</span>, draw_cylinder<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span><span style="color: #8b2252;">"Disco"</span>, draw_disk<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span><span style="color: #8b2252;">"Dodecaedro"</span>, draw_dodecahedron<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span><span style="color: #8b2252;">"Octaedro"</span>, draw_octahedron<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span><span style="color: #8b2252;">"Tetraedro"</span>, draw_tetrahedron<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span><span style="color: #8b2252;">"Icosaedro"</span>, draw_icosahedron<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span><span style="color: #8b2252;">"Disco Parcial"</span>, draw_partial_disk<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">cols</span> = 4
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">rows</span> = 3
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = glfw.get_window_size<span style="color: #707183;">(</span>glfw.get_current_context<span style="color: #7388d6;">()</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> idx, <span style="color: #707183;">(</span>name, draw_func<span style="color: #707183;">)</span> <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">enumerate</span><span style="color: #707183;">(</span>shapes<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">col</span> = idx % cols
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">row</span> = idx // cols
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar viewport</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">cell_width</span> = width // cols
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">cell_height</span> = height // rows
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">x</span> = col * cell_width
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">y</span> = height - <span style="color: #707183;">(</span>row + 1<span style="color: #707183;">)</span> * cell_height
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>x, y, cell_width, cell_height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar proyecci&#243;n perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, cell_width / cell_height, 0.1, 50.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar vista</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   gluLookAt<span style="color: #707183;">(</span>0, 0, 3, 0, 0, 0, 0, 1, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Aplicar rotaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>rotation_angle, 0, 1, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>rotation_angle * 0.5, 1, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar la figura</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_func<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar el nombre (simplificado, sin texto real)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Para ver los nombres, necesitar&#237;as usar glutBitmapCharacter</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> rotation_angle
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLUT (necesario para las figuras s&#243;lidas)</span>
<span style="background-color: #f2f2f2;"> </span>   glutInit<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>1600, 900, <span style="color: #8b2252;">"Todas las Figuras 3D de OpenGL"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar OpenGL</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.1, 0.1, 0.15, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   setup_lighting<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Habilitar suavizado</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_MULTISAMPLE<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glShadeModel<span style="color: #707183;">(</span>GL_SMOOTH<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Actualizar rotaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">rotation_angle</span> += 0.5
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> rotation_angle &gt; 360:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">rotation_angle</span> -= 360
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_all_3d_shapes<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>




<div id="outline-container-orgd9479d0" class="outline-3">
<h3 id="orgd9479d0">Tutorial de gluPerspective en OpenGL</h3>
<div class="outline-text-3" id="text-orgd9479d0">
<p>
Este tutorial describe c√≥mo utilizar la funci√≥n <code>gluPerspective</code> en
OpenGL para definir la proyecci√≥n en perspectiva en una escena 3D. La
proyecci√≥n en perspectiva simula c√≥mo los humanos ven el mundo, con
objetos cercanos que se ven m√°s grandes y objetos lejanos que se ven
m√°s peque√±os.
</p>
</div>

<div id="outline-container-org506e31e" class="outline-4">
<h4 id="org506e31e">¬øQu√© es gluPerspective?</h4>
<div class="outline-text-4" id="text-org506e31e">
<p>
La funci√≥n <code>gluPerspective</code> establece una proyecci√≥n en perspectiva para
la c√°mara, creando una "pir√°mide de visi√≥n" o "frustum" en la que los
objetos m√°s lejanos se ven m√°s peque√±os, proporcionando una sensaci√≥n
de profundidad en la escena.
</p>
</div>
</div>



<div id="outline-container-org332b5a8" class="outline-4">
<h4 id="org332b5a8">Sintaxis</h4>
<div class="outline-text-4" id="text-org332b5a8">
<div class="org-src-container">
<pre class="src src-python">gluPerspective<span style="color: #707183;">(</span>fovY, aspect, zNear, zFar<span style="color: #707183;">)</span>
</pre>
</div>

<ul class="org-ul">
<li><code>fovY</code>: El campo de visi√≥n vertical en grados. Un valor mayor de <code>fovY</code>
hace que la vista sea m√°s amplia.</li>
<li><code>aspect</code>: La relaci√≥n de aspecto de la ventana (ancho/alto). Asegura
que la imagen no se vea estirada.</li>
<li><code>zNear</code>: La distancia m√≠nima visible desde la c√°mara. Los objetos m√°s
cercanos a la c√°mara que <code>zNear</code> no se renderizan.</li>
<li><code>zFar</code>: La distancia m√°xima visible desde la c√°mara. Los objetos m√°s
lejanos que <code>zFar</code> no se renderizan.</li>
</ul>
</div>
</div>

<div id="outline-container-org6422170" class="outline-4">
<h4 id="org6422170">Ejemplo B√°sico de Uso de gluPerspective</h4>
<div class="outline-text-4" id="text-org6422170">
<p>
Este ejemplo muestra c√≥mo configurar <code>gluPerspective</code> en una escena de
OpenGL en Python, utilizando PyOpenGL y GLFW.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluPerspective

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.0, 0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo negro</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>            <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar prueba de profundidad</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la proyecci&#243;n en perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>        <span style="color: #b22222;"># </span><span style="color: #b22222;">Cambiar a la matriz de proyecci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>                   <span style="color: #b22222;"># </span><span style="color: #b22222;">Resetear la matriz de proyecci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 4/3, 0.1, 50.0<span style="color: #707183;">)</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>         <span style="color: #b22222;"># </span><span style="color: #b22222;">Cambiar a la matriz de modelo/vista</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 0.0, -5<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Alejar el objeto de la c&#225;mara</span>

<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1, 0, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, -1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, -1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>800, 600, <span style="color: #8b2252;">"Ejemplo de gluPerspective"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, 800, 600<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-orgf554724" class="outline-3">
<h3 id="orgf554724">Objetos de Glut</h3>
<div class="outline-text-3" id="text-orgf554724">
<ul class="org-ul">
<li>casa</li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluPerspective, gluLookAt
<span style="color: #a020f0;">import</span> sys

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Configuraci&#243;n inicial de OpenGL"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.5, 0.8, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo azul cielo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>           <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar prueba de profundidad</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>60, 1.0, 0.1, 100.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Campo de visi&#243;n m&#225;s amplio</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_cube</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja el cubo (base de la casa)"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.8, 0.5, 0.2<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Marr&#243;n para todas las caras</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Frente</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Atr&#225;s</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Izquierda</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Derecha</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Arriba</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.9, 0.6, 0.3<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color diferente para el techo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Abajo</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.6, 0.4, 0.2<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Suelo m&#225;s oscuro</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_roof</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja el techo (pir&#225;mide)"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_TRIANGLES<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.9, 0.1, 0.1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo brillante</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Frente</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 2, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Atr&#225;s</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 2, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Izquierda</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 2, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Derecha</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 2, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_ground</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja un plano para representar el suelo o calle"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.3, 0.3, 0.3<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Gris oscuro para la calle</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Coordenadas del plano</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-10, 0, 10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>10, 0, 10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>10, 0, -10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-10, 0, -10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_house</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja una casa sobre un plano"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   gluLookAt<span style="color: #707183;">(</span>4, 4, 8,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 1, 0,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Punto al que mira</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 1, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Vector hacia arriba</span>

<span style="background-color: #f2f2f2;"> </span>   draw_ground<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja el suelo</span>
<span style="background-color: #f2f2f2;"> </span>   draw_cube<span style="color: #707183;">()</span>    <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja la base de la casa</span>
<span style="background-color: #f2f2f2;"> </span>   draw_roof<span style="color: #707183;">()</span>    <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja el techo</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana de GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 800, 600
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>width, height, <span style="color: #8b2252;">"Casa 3D con Base"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_house<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>


<ul class="org-ul">
<li>casa textura</li>
</ul>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluPerspective, gluLookAt
<span style="color: #a020f0;">from</span> PIL <span style="color: #a020f0;">import</span> Image
<span style="color: #a020f0;">import</span> sys

<span style="color: #a0522d;">texture_id</span> = <span style="color: #008b8b;">None</span>


<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar textura con correcciones</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">load_texture</span><span style="color: #707183;">(</span>path<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> texture_id

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = Image.<span style="color: #483d8b;">open</span><span style="color: #707183;">(</span>path<span style="color: #707183;">)</span>.convert<span style="color: #707183;">(</span><span style="color: #8b2252;">"RGB"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = img.transpose<span style="color: #707183;">(</span>Image.FLIP_TOP_BOTTOM<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img_data</span> = img.tobytes<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glPixelStorei<span style="color: #707183;">(</span>GL_UNPACK_ALIGNMENT, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">texture_id</span> = glGenTextures<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Filtrado suave + mipmaps</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR_MIPMAP_LINEAR<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Repetici&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar textura normal</span>
<span style="background-color: #f2f2f2;"> </span>   glTexImage2D<span style="color: #707183;">(</span>GL_TEXTURE_2D, 0, GL_RGB,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>img.width, img.height, 0,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>GL_RGB, GL_UNSIGNED_BYTE, img_data<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Generar mipmaps moderno (reemplaza a gluBuild2DMipmaps)</span>
<span style="background-color: #f2f2f2;"> </span>   glGenerateMipmap<span style="color: #707183;">(</span>GL_TEXTURE_2D<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, 0<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">OpenGL Init</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.5, 0.8, 1.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_TEXTURE_2D<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>60, 1.0, 0.1, 100.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   load_texture<span style="color: #707183;">(</span><span style="color: #8b2252;">"pasto.png"</span><span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">&lt;&lt;-- TU IMAGEN AQU&#205;</span>


<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar la casa</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_cube</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.8, 0.5, 0.2<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Frente</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Atr&#225;s</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Izquierda</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Derecha</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Arriba</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.9, 0.6, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Abajo</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.6, 0.4, 0.2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>


<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_roof</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_TRIANGLES<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.9, 0.1, 0.1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 2, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 2, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 2, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 2, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>


<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Piso con textura</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_ground</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">scale</span> = 3  <span style="color: #b22222;"># </span><span style="color: #b22222;">Cambia entre 1 y 5 seg&#250;n c&#243;mo quieras el mosaico</span>

<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-10, 0, 10<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>scale, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>10, 0, 10<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>scale, scale<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>10, 0, -10<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>0, scale<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-10, 0, -10<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, 0<span style="color: #707183;">)</span>


<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujo principal</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_scene</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   gluLookAt<span style="color: #707183;">(</span>4, 4, 8, 0, 1, 0, 0, 1, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   draw_ground<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   draw_cube<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   draw_roof<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>


<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Main</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>800, 600, <span style="color: #8b2252;">"Casa con Textura de Pasto"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, 800, 600<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_scene<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>


<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>


<ul class="org-ul">
<li>casas</li>
</ul>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluPerspective, gluLookAt
<span style="color: #a020f0;">import</span> sys

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Configuraci&#243;n inicial de OpenGL"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.5, 0.8, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo azul cielo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>           <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar prueba de profundidad</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>60, 1, 6, 100.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Campo de visi&#243;n m&#225;s amplio</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_cube</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja el cubo (base de la casa)"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.8, 0.5, 0.2<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Marr&#243;n para todas las caras</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Frente</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 5, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 5, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Atr&#225;s     X  Y   Z</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 5, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 5, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Izquierda</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 5, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 5, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Derecha</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 5, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 5, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Arriba</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.9, 0.6, 0.3<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color diferente para el techo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 5, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 5, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 5, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 5, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Abajo</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.6, 0.4, 0.2<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Suelo m&#225;s oscuro</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1,0 , -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_roof</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja el techo (pir&#225;mide)"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_TRIANGLES<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.9, 0.1, 0.1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo brillante</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Frente</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 5, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 5, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 9, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Atr&#225;s     x  y   z </span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 5, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 5, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 9, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Izquierda</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 5, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 5, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 9, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Derecha</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 5, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 5, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 9, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_ground</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja un plano para representar el suelo o calle"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.3, 0.3, 0.3<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Gris oscuro para la calle</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Coordenadas del plano</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-20, 0, 20<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>20, 0, 20<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>20, 0, -20<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-20, 0, -20<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_house</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja una casa (base + techo)"""</span>
<span style="background-color: #f2f2f2;"> </span>   draw_cube<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Base de la casa</span>
<span style="background-color: #f2f2f2;"> </span>   draw_roof<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Techo</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_scene</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja toda la escena con 4 casas"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   gluLookAt<span style="color: #707183;">(</span>9, 10, 15,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 0, 0,    <span style="color: #b22222;"># </span><span style="color: #b22222;">Punto al que mira</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 1 ,0 <span style="color: #707183;">)</span>    <span style="color: #b22222;"># </span><span style="color: #b22222;">Vector hacia arriba</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar el suelo</span>
<span style="background-color: #f2f2f2;"> </span>   draw_ground<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar las casas en diferentes posiciones</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">positions</span> = <span style="color: #707183;">[</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span>-5, 0, -5<span style="color: #7388d6;">)</span>,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Casa 1</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span>5, 0, -5<span style="color: #7388d6;">)</span>,   <span style="color: #b22222;"># </span><span style="color: #b22222;">Casa 2</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span>-5, 0, 5<span style="color: #7388d6;">)</span>,   <span style="color: #b22222;"># </span><span style="color: #b22222;">Casa 3</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span>5, 0, 5<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #7388d6;">(</span>0, 0, 0<span style="color: #7388d6;">)</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> pos <span style="color: #a020f0;">in</span> positions:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>*pos<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover la casa a la posici&#243;n actual</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_house<span style="color: #707183;">()</span>        <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar la casa</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana de GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 800, 600
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>width, height, <span style="color: #8b2252;">"Escena con 4 casas"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_scene<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>

<ul class="org-ul">
<li>Arbol</li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluPerspective, gluLookAt, gluNewQuadric, gluCylinder, gluSphere
<span style="color: #a020f0;">import</span> sys

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Configuraci&#243;n inicial de OpenGL"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.5, 0.8, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo azul cielo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>           <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar prueba de profundidad</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>60, 1.0, 0.1, 100.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Campo de visi&#243;n m&#225;s amplio</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_trunk</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja el tronco del &#225;rbol como un cilindro"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.6, 0.3, 0.1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Marr&#243;n para el tronco</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 0.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posicionar el tronco</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>-90, 1, 0, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rota para orientar el cilindro verticalmente</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluCylinder<span style="color: #707183;">(</span>quadric, 0.3, 0.3, 2.0, 32, 32<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Radio y altura del cilindro</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_foliage</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja las hojas del &#225;rbol como una esfera"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.1, 0.8, 0.1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde para las hojas</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 2.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posicionar las hojas encima del tronco</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluSphere<span style="color: #707183;">(</span>quadric, 1.0, 32, 32<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Radio de la esfera</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_ground</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja un plano para representar el suelo"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.3, 0.3, 0.3<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Gris oscuro para el suelo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-10, 0, 10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>10, 0, 10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>10, 0, -10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-10, 0, -10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_tree</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja un &#225;rbol completo"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   gluLookAt<span style="color: #707183;">(</span>4, 3, 8,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 1, 0,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Punto al que mira</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 1, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Vector hacia arriba</span>

<span style="background-color: #f2f2f2;"> </span>   draw_ground<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja el suelo</span>
<span style="background-color: #f2f2f2;"> </span>   draw_trunk<span style="color: #707183;">()</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja el tronco</span>
<span style="background-color: #f2f2f2;"> </span>   draw_foliage<span style="color: #707183;">()</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja las hojas</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana de GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 800, 600
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>width, height, <span style="color: #8b2252;">"&#193;rbol 3D con Tronco y Hojas"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_tree<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>


</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">import</span> sys

<span style="color: #b22222;"># </span><span style="color: #b22222;">Variables globales para controlar la posici&#243;n del cuadrado</span>
<span style="color: #a0522d;">square_x</span> = 0.0
<span style="color: #a0522d;">square_y</span> = 0.0
<span style="color: #a0522d;">speed</span> = 0.005  <span style="color: #b22222;"># </span><span style="color: #b22222;">Velocidad de movimiento</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Configuraci&#243;n inicial de OpenGL"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>1.0, 1.0, 0.5, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo negro</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glOrtho<span style="color: #707183;">(</span>-1, 1, -1, 1, -1, 1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar un sistema de coordenadas 2D</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_square</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja un cuadrado en la posici&#243;n actual"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> square_x, square_y

<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color verde</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>square_x, square_y, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Trasladar el cuadrado</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.1, -0.1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.1, -0.1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>0.1, 0.1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex2f<span style="color: #707183;">(</span>-0.1, 0.1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">key_callback</span><span style="color: #707183;">(</span>window, key, scancode, action, mods<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Procesa las entradas de teclado"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> square_x, square_y, speed

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> action == glfw.PRESS <span style="color: #a020f0;">or</span> action == glfw.REPEAT:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> key == glfw.KEY_UP:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   square_y += speed  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover hacia arriba</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> key == glfw.KEY_DOWN:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   square_y -= speed  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover hacia abajo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> key == glfw.KEY_LEFT:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   square_x -= speed  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover a la izquierda</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> key == glfw.KEY_RIGHT:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   square_x += speed  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover a la derecha</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"No se pudo inicializar GLFW"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana</span>
<span style="background-color: #f2f2f2;"> </span>   window = glfw.create_window<span style="color: #707183;">(</span>800, 600, <span style="color: #8b2252;">"Prueba de Teclado"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"No se pudo crear la ventana"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.set_key_callback<span style="color: #707183;">(</span>window, key_callback<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar callback de teclado</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_square<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>


</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluPerspective, gluLookAt, gluNewQuadric, gluCylinder, gluSphere
<span style="color: #a020f0;">import</span> sys

<span style="color: #b22222;"># </span><span style="color: #b22222;">Variables globales para la c&#225;mara</span>
<span style="color: #a0522d;">camera_pos</span> = <span style="color: #707183;">[</span>4.0, 3.0, 8.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de la c&#225;mara</span>
<span style="color: #a0522d;">camera_target</span> = <span style="color: #707183;">[</span>0.0, 1.0, 0.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Punto al que mira</span>
<span style="color: #a0522d;">camera_up</span> = <span style="color: #707183;">[</span>0.0, 1.0, 0.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Vector hacia arriba</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Variables para el movimiento</span>
<span style="color: #a0522d;">camera_speed</span> = 0.2  <span style="color: #b22222;"># </span><span style="color: #b22222;">Velocidad de movimiento</span>
<span style="color: #a0522d;">keys</span> = <span style="color: #707183;">{}</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Diccionario para controlar el estado de las teclas</span>


<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Configuraci&#243;n inicial de OpenGL"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.5, 0.8, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo azul cielo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>           <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar prueba de profundidad</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>60, 1.0, 0.1, 100.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Campo de visi&#243;n m&#225;s amplio</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>


<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_trunk</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja el tronco del &#225;rbol como un cilindro"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.6, 0.3, 0.1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Marr&#243;n para el tronco</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 0.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posicionar el tronco</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>-90, 1, 0, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rota para orientar el cilindro verticalmente</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluCylinder<span style="color: #707183;">(</span>quadric, 0.3, 0.3, 2.0, 32, 32<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Radio y altura del cilindro</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>


<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_foliage</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja las hojas del &#225;rbol como una esfera"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.1, 0.8, 0.1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde para las hojas</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 2.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posicionar las hojas encima del tronco</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluSphere<span style="color: #707183;">(</span>quadric, 1.0, 32, 32<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Radio de la esfera</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1, 0, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde para las hojas</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 3.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posicionar las hojas encima del tronco</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluSphere<span style="color: #707183;">(</span>quadric, 1.0, 32, 32<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Radio de la esfera</span>
<span style="background-color: #f2f2f2;"> </span>   


<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>


<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_foliage2</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja las hojas del &#225;rbol como una esfera"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.1, 0.6, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde para las hojas</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 2.5, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posicionar las hojas encima del tronco</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluSphere<span style="color: #707183;">(</span>quadric, 1.0, 32, 32<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Radio de la esfera</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_ground</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja un plano para representar el suelo"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.3, 0.3, 0.3<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Gris oscuro para el suelo</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-10, 0, 10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>10, 0, 10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>10, 0, -10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-10, 0, -10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>


<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_scene</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja la escena completa"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   gluLookAt<span style="color: #707183;">(</span>camera_pos<span style="color: #7388d6;">[</span>0<span style="color: #7388d6;">]</span>, camera_pos<span style="color: #7388d6;">[</span>1<span style="color: #7388d6;">]</span>, camera_pos<span style="color: #7388d6;">[</span>2<span style="color: #7388d6;">]</span>,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> camera_target<span style="color: #7388d6;">[</span>0<span style="color: #7388d6;">]</span>, camera_target<span style="color: #7388d6;">[</span>1<span style="color: #7388d6;">]</span>, camera_target<span style="color: #7388d6;">[</span>2<span style="color: #7388d6;">]</span>,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Punto al que mira</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> camera_up<span style="color: #7388d6;">[</span>0<span style="color: #7388d6;">]</span>, camera_up<span style="color: #7388d6;">[</span>1<span style="color: #7388d6;">]</span>, camera_up<span style="color: #7388d6;">[</span>2<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Vector hacia arriba</span>

<span style="background-color: #f2f2f2;"> </span>   draw_ground<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja el suelo</span>
<span style="background-color: #f2f2f2;"> </span>   draw_trunk<span style="color: #707183;">()</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja el tronco</span>
<span style="background-color: #f2f2f2;"> </span>   draw_foliage<span style="color: #707183;">()</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja las hojas</span>
<span style="background-color: #f2f2f2;"> </span>   draw_foliage2<span style="color: #707183;">()</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja las hojas</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>


<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">process_input</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Procesa el estado de las teclas para mover la c&#225;mara"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> camera_pos

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> keys.get<span style="color: #707183;">(</span>glfw.KEY_W, <span style="color: #008b8b;">False</span><span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover hacia adelante</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">camera_pos</span><span style="color: #707183;">[</span>2<span style="color: #707183;">]</span> -= camera_speed
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> keys.get<span style="color: #707183;">(</span>glfw.KEY_S, <span style="color: #008b8b;">False</span><span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover hacia atr&#225;s</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">camera_pos</span><span style="color: #707183;">[</span>2<span style="color: #707183;">]</span> += camera_speed
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> keys.get<span style="color: #707183;">(</span>glfw.KEY_A, <span style="color: #008b8b;">False</span><span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover a la izquierda</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">camera_pos</span><span style="color: #707183;">[</span>0<span style="color: #707183;">]</span> -= camera_speed
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> keys.get<span style="color: #707183;">(</span>glfw.KEY_D, <span style="color: #008b8b;">False</span><span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover a la derecha</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">camera_pos</span><span style="color: #707183;">[</span>0<span style="color: #707183;">]</span> += camera_speed
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> keys.get<span style="color: #707183;">(</span>glfw.KEY_UP, <span style="color: #008b8b;">False</span><span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Subir</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">camera_pos</span><span style="color: #707183;">[</span>1<span style="color: #707183;">]</span> += camera_speed
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> keys.get<span style="color: #707183;">(</span>glfw.KEY_DOWN, <span style="color: #008b8b;">False</span><span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Bajar</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">camera_pos</span><span style="color: #707183;">[</span>1<span style="color: #707183;">]</span> -= camera_speed


<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">key_callback</span><span style="color: #707183;">(</span>window, key, scancode, action, mods<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Actualiza el estado de las teclas"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> action == glfw.PRESS:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   keys<span style="color: #707183;">[</span><span style="color: #a0522d;">key</span><span style="color: #707183;">]</span> = <span style="color: #008b8b;">True</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> action == glfw.RELEASE:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   keys<span style="color: #707183;">[</span><span style="color: #a0522d;">key</span><span style="color: #707183;">]</span> = <span style="color: #008b8b;">False</span>


<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana de GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 800, 600
<span style="background-color: #f2f2f2;"> </span>   window = glfw.create_window<span style="color: #707183;">(</span>width, height, <span style="color: #8b2252;">"Mover Escena Completa"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar callback de teclado</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.set_key_callback<span style="color: #707183;">(</span>window, key_callback<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   process_input<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Procesar teclas presionadas</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_scene<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>


<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLUT <span style="color: #a020f0;">import</span> *

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_eye</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Globo ocular</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>1.0, 50, 50<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Iris (azul)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.3, 0.5, 0.9<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0, 0, 0.57<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>0.2, 30, 30<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Pupila (negra)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0, 0, 1.02<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>0.2, 20, 20<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Nervio &#243;ptico</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.6, 0.6<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0, 0, -1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>-90, 1, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quad</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluCylinder<span style="color: #707183;">(</span>quad, 0.15, 0.05, 0.6, 20, 20<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>800, 600, <span style="color: #8b2252;">"Ojo 3D con OpenGL"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_COLOR_MATERIAL<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 800 / 600, 0.1, 50.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   gluLookAt<span style="color: #707183;">(</span>3, 1.5, 3, 0, 0, 0, 0, 1, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_eye<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   glutInit<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>



<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> sys
<span style="color: #a020f0;">import</span> math
<span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLUT <span style="color: #a020f0;">import</span> *

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_fold</span><span style="color: #707183;">(</span>x, y, z, scale<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja una curva simulando un pliegue</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>x, y, z<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glScalef<span style="color: #707183;">(</span>scale, scale, scale<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> t <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>0, 180, 20<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">angle</span> = math.radians<span style="color: #707183;">(</span>t<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">xt</span> = math.cos<span style="color: #707183;">(</span>angle<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">yt</span> = math.sin<span style="color: #707183;">(</span>angle<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>xt * 0.3, yt * 0.3, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>0.2, 20, 20<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_brain</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.7, 0.75<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color rosado claro</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Parte principal del cerebro</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>-2, 3<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>-1, 2<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_fold<span style="color: #707183;">(</span>i * 0.4, j * 0.4, 0, 0.6<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Tallo cerebral</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.9, 0.5, 0.6<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0, -1.2, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>-90, 1, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidCylinder<span style="color: #707183;">(</span>0.2, 1.0, 20, 20<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>800, 600, <span style="color: #8b2252;">"Cerebro de perfil - OpenGL"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_COLOR_MATERIAL<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 800 / 600, 0.1, 50.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">C&#225;mara de lado (vista de perfil)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   gluLookAt<span style="color: #707183;">(</span>3, 1.5, 3, 0, 0, 0, 0, 1, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_brain<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   glutInit<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>



<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluPerspective, gluLookAt, gluNewQuadric, gluCylinder, gluSphere
<span style="color: #a020f0;">from</span> PIL <span style="color: #a020f0;">import</span> Image
<span style="color: #a020f0;">import</span> sys

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Configuraci&#243;n inicial de OpenGL"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.5, 0.8, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo azul cielo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>           <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar prueba de profundidad</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>             <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar luces</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>               <span style="color: #b22222;"># </span><span style="color: #b22222;">Luz b&#225;sica</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_COLOR_MATERIAL<span style="color: #707183;">)</span>       <span style="color: #b22222;"># </span><span style="color: #b22222;">Materiales de color para reflejar luz</span>
<span style="background-color: #f2f2f2;"> </span>   glShadeModel<span style="color: #707183;">(</span>GL_SMOOTH<span style="color: #707183;">)</span>           <span style="color: #b22222;"># </span><span style="color: #b22222;">Sombreado suave</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_TEXTURE_2D<span style="color: #707183;">)</span>           <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar texturas</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>60, 1.0, 0.1, 100.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Campo de visi&#243;n m&#225;s amplio</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Luz ambiental y difusa</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_pos</span> = <span style="color: #707183;">[</span>10, 10, 10, 1.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de la luz</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_ambient</span> = <span style="color: #707183;">[</span>0.3, 0.3, 0.3, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_diffuse</span> = <span style="color: #707183;">[</span>0.8, 0.8, 0.8, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, light_pos<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_AMBIENT, light_ambient<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_DIFFUSE, light_diffuse<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">load_texture</span><span style="color: #707183;">(</span>filename<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Carga una textura desde un archivo de imagen"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = Image.<span style="color: #483d8b;">open</span><span style="color: #707183;">(</span>filename<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img_data</span> = img.tobytes<span style="color: #707183;">(</span><span style="color: #8b2252;">"raw"</span>, <span style="color: #8b2252;">"RGB"</span>, 0, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">texture_id</span> = glGenTextures<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glTexImage2D<span style="color: #707183;">(</span>GL_TEXTURE_2D, 0, GL_RGB, img.width, img.height, 0, GL_RGB, GL_UNSIGNED_BYTE, img_data<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> texture_id

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_trunk</span><span style="color: #707183;">(</span>texture_id<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja el tronco del &#225;rbol como un cilindro con textura"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Vincula la textura</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color blanco para mostrar la textura</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 0.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>-90, 1, 0, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Orienta el cilindro verticalmente</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluQuadricTexture<span style="color: #707183;">(</span>quadric, GL_TRUE<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluCylinder<span style="color: #707183;">(</span>quadric, 0.3, 0.3, 2.0, 32, 32<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_foliage</span><span style="color: #707183;">(</span>texture_id<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja las hojas del &#225;rbol como una esfera con textura"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Vincula la textura</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color blanco para mostrar la textura</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 2.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluQuadricTexture<span style="color: #707183;">(</span>quadric, GL_TRUE<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluSphere<span style="color: #707183;">(</span>quadric, 1.0, 32, 32<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_ground</span><span style="color: #707183;">(</span>texture_id<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja un plano para representar el suelo con textura"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Vincula la textura</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Color blanco para mostrar la textura</span>
<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>0.0, 0.0<span style="color: #707183;">)</span>; glVertex3f<span style="color: #707183;">(</span>-10, 0, 10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>1.0, 0.0<span style="color: #707183;">)</span>; glVertex3f<span style="color: #707183;">(</span>10, 0, 10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>1.0, 1.0<span style="color: #707183;">)</span>; glVertex3f<span style="color: #707183;">(</span>10, 0, -10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>0.0, 1.0<span style="color: #707183;">)</span>; glVertex3f<span style="color: #707183;">(</span>-10, 0, -10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_tree</span><span style="color: #707183;">(</span>trunk_texture, foliage_texture, ground_texture<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja un &#225;rbol completo"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   gluLookAt<span style="color: #707183;">(</span>0, 10, 0,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 0, 0,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Punto al que mira</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 0, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Vector hacia arriba</span>

<span style="background-color: #f2f2f2;"> </span>   draw_ground<span style="color: #707183;">(</span>ground_texture<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja el suelo</span>
<span style="background-color: #f2f2f2;"> </span>   draw_trunk<span style="color: #707183;">(</span>trunk_texture<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja el tronco</span>
<span style="background-color: #f2f2f2;"> </span>   draw_foliage<span style="color: #707183;">(</span>foliage_texture<span style="color: #707183;">)</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja las hojas</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana de GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 800, 600
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>width, height, <span style="color: #8b2252;">"&#193;rbol 3D con Texturas y Luz"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> <span style="color: #a0522d;">window</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Carga de texturas</span>
<span style="background-color: #f2f2f2;"> </span>   trunk_texture = load_texture<span style="color: #707183;">(</span><span style="color: #8b2252;">"trunk.jpg"</span><span style="color: #707183;">)</span>      <span style="color: #b22222;"># </span><span style="color: #b22222;">Textura para el tronco</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">foliage_texture</span> = load_texture<span style="color: #707183;">(</span><span style="color: #8b2252;">"foliage.jpg"</span><span style="color: #707183;">)</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">Textura para las hojas</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ground_texture</span> = load_texture<span style="color: #707183;">(</span><span style="color: #8b2252;">"groud.jpg"</span><span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Textura para el suelo</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_tree<span style="color: #707183;">(</span>trunk_texture, foliage_texture, ground_texture<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluPerspective, gluLookAt, gluNewQuadric, gluCylinder, gluSphere
<span style="color: #a020f0;">import</span> struct

<span style="color: #b22222;"># </span><span style="color: #b22222;">Funci&#243;n para cargar una textura BMP</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">load_texture</span><span style="color: #707183;">(</span>filename<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Carga un archivo BMP y genera una textura de OpenGL"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">with</span> <span style="color: #483d8b;">open</span><span style="color: #707183;">(</span>filename, <span style="color: #8b2252;">"rb"</span><span style="color: #707183;">)</span> <span style="color: #a020f0;">as</span> <span style="color: #a0522d;">f</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   header = f.read<span style="color: #707183;">(</span>54<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Cabecera BMP de 54 bytes</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = struct.unpack<span style="color: #707183;">(</span><span style="color: #8b2252;">"ii"</span>, header<span style="color: #7388d6;">[</span>18:26<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">data_offset</span> = struct.unpack<span style="color: #707183;">(</span><span style="color: #8b2252;">"I"</span>, header<span style="color: #7388d6;">[</span>10:14<span style="color: #7388d6;">]</span><span style="color: #707183;">)[</span>0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   f.seek<span style="color: #707183;">(</span>data_offset<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">data</span> = f.read<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">almacena p&#237;xeles en orden BGR, los convertimos a RGB</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">image_data</span> = <span style="color: #483d8b;">bytearray</span><span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>0, <span style="color: #483d8b;">len</span><span style="color: #7388d6;">(</span>data<span style="color: #7388d6;">)</span>, 3<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   image_data.extend<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>data<span style="color: #909183;">[</span>i + 2<span style="color: #909183;">]</span>, data<span style="color: #909183;">[</span>i + 1<span style="color: #909183;">]</span>, data<span style="color: #909183;">[</span>i<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">texture_id</span> = glGenTextures<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexImage2D<span style="color: #707183;">(</span>GL_TEXTURE_2D, 0, GL_RGB, width, height, 0, GL_RGB, GL_UNSIGNED_BYTE, image_data<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> texture_id

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Configuraci&#243;n inicial de OpenGL"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.5, 0.8, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo azul cielo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>           <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar prueba de profundidad</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_TEXTURE_2D<span style="color: #707183;">)</span>           <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar texturas</span>
<span style="background-color: #f2f2f2;"> </span>   glShadeModel<span style="color: #707183;">(</span>GL_SMOOTH<span style="color: #707183;">)</span>           <span style="color: #b22222;"># </span><span style="color: #b22222;">Sombreado suave</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>60, 1.0, 0.1, 100.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Campo de visi&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_trunk</span><span style="color: #707183;">(</span>texture_id<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja el tronco del &#225;rbol como un cilindro texturizado"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Blanco para mostrar la textura</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 0.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>-90, 1, 0, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar para orientar verticalmente</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluQuadricTexture<span style="color: #707183;">(</span>quadric, GL_TRUE<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluCylinder<span style="color: #707183;">(</span>quadric, 0.3, 0.3, 2.0, 32, 32<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_foliage</span><span style="color: #707183;">(</span>texture_id<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja las hojas del &#225;rbol como una esfera texturizada"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Blanco para mostrar la textura</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 2.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluQuadricTexture<span style="color: #707183;">(</span>quadric, GL_TRUE<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluSphere<span style="color: #707183;">(</span>quadric, 1.0, 32, 32<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_ground</span><span style="color: #707183;">(</span>texture_id<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja un plano para representar el suelo con textura"""</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Blanco para mostrar la textura</span>
<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>0.0, 0.0<span style="color: #707183;">)</span>; glVertex3f<span style="color: #707183;">(</span>-10, 0, 10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>1.0, 0.0<span style="color: #707183;">)</span>; glVertex3f<span style="color: #707183;">(</span>10, 0, 10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>1.0, 1.0<span style="color: #707183;">)</span>; glVertex3f<span style="color: #707183;">(</span>10, 0, -10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>0.0, 1.0<span style="color: #707183;">)</span>; glVertex3f<span style="color: #707183;">(</span>-10, 0, -10<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_tree</span><span style="color: #707183;">(</span>trunk_texture, foliage_texture, ground_texture<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja un &#225;rbol completo"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   gluLookAt<span style="color: #707183;">(</span>4, 3, 8,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 1, 0,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Punto al que mira</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 1, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Vector hacia arriba</span>

<span style="background-color: #f2f2f2;"> </span>   draw_ground<span style="color: #707183;">(</span>ground_texture<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja el suelo</span>
<span style="background-color: #f2f2f2;"> </span>   draw_trunk<span style="color: #707183;">(</span>trunk_texture<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja el tronco</span>
<span style="background-color: #f2f2f2;"> </span>   draw_foliage<span style="color: #707183;">(</span>foliage_texture<span style="color: #707183;">)</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja las hojas</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana de GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">width</span>, <span style="color: #a0522d;">height</span> = 800, 600
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>width, height, <span style="color: #8b2252;">"&#193;rbol con Texturas"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> <span style="color: #a0522d;">window</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Carga de texturas BMP</span>
<span style="background-color: #f2f2f2;"> </span>   trunk_texture = load_texture<span style="color: #707183;">(</span><span style="color: #8b2252;">"trunk.bmp"</span><span style="color: #707183;">)</span>      <span style="color: #b22222;"># </span><span style="color: #b22222;">Textura para el tronco</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">foliage_texture</span> = load_texture<span style="color: #707183;">(</span><span style="color: #8b2252;">"foliage.bmp"</span><span style="color: #707183;">)</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">Textura para las hojas</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">ground_texture</span> = load_texture<span style="color: #707183;">(</span><span style="color: #8b2252;">"groud.bmp"</span><span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Textura para el suelo</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> trunk_texture <span style="color: #a020f0;">or</span> <span style="color: #a020f0;">not</span> foliage_texture <span style="color: #a020f0;">or</span> <span style="color: #a020f0;">not</span> ground_texture:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Error al cargar texturas."</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Bucle principal</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_tree<span style="color: #707183;">(</span>trunk_texture, foliage_texture, ground_texture<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>


</pre>
</div>

<p>
texturas blanco y negro
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLUT <span style="color: #a020f0;">import</span> *

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">load_texture</span><span style="color: #707183;">(</span>image_path<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">texture_id</span> = glGenTextures<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar imagen de textura</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">from</span> PIL <span style="color: #a020f0;">import</span> Image
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = Image.<span style="color: #483d8b;">open</span><span style="color: #707183;">(</span>image_path<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img_data</span> = img.tobytes<span style="color: #707183;">(</span><span style="color: #8b2252;">"raw"</span>, <span style="color: #8b2252;">"RGB"</span>, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glTexImage2D<span style="color: #707183;">(</span>GL_TEXTURE_2D, 0, GL_RGB, img.width, img.height, 0,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>GL_RGB, GL_UNSIGNED_BYTE, img_data<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameterf<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameterf<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> texture_id

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">display</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_TEXTURE_2D<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear un objeto cuadr&#225;tico</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluQuadricTexture<span style="color: #707183;">(</span>quadric, GL_TRUE<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Habilitar texturas</span>
<span style="background-color: #f2f2f2;"> </span>   gluQuadricNormals<span style="color: #707183;">(</span>quadric, GLU_SMOOTH<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar una esfera con textura</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluSphere<span style="color: #707183;">(</span>quadric, 1.0, 32, 32<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   gluDeleteQuadric<span style="color: #707183;">(</span>quadric<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glDisable<span style="color: #707183;">(</span>GL_TEXTURE_2D<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSwapBuffers<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> texture_id
<span style="background-color: #f2f2f2;"> </span>   glutInit<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glutInitDisplayMode<span style="color: #707183;">(</span>GLUT_RGBA | GLUT_DOUBLE | GLUT_DEPTH<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutInitWindowSize<span style="color: #707183;">(</span>800, 600<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutCreateWindow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Textura"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">texture_id</span> = load_texture<span style="color: #707183;">(</span><span style="color: #8b2252;">"/home/likcos/Materias/Graficacion/code/foliage.bmp"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutDisplayFunc<span style="color: #707183;">(</span>display<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutMainLoop<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>

<p>
texturas de color 
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLUT <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> PIL <span style="color: #a020f0;">import</span> Image

<span style="color: #b22222;">#</span><span style="color: #b22222;">pip install Pillow</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">load_texture</span><span style="color: #707183;">(</span>image_path<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Generar y enlazar una textura</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">texture_id</span> = glGenTextures<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar imagen desde el archivo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = Image.<span style="color: #483d8b;">open</span><span style="color: #707183;">(</span>image_path<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = img.convert<span style="color: #707183;">(</span><span style="color: #8b2252;">"RGB"</span><span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Convertir a RGB expl&#237;citamente</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img_data</span> = img.tobytes<span style="color: #707183;">(</span><span style="color: #8b2252;">"raw"</span>, <span style="color: #8b2252;">"RGB"</span>, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar la textura</span>
<span style="background-color: #f2f2f2;"> </span>   glTexImage2D<span style="color: #707183;">(</span>GL_TEXTURE_2D, 0, GL_RGB, img.width, img.height, 0,
<span style="background-color: #f2f2f2;"> </span>   GL_RGB, GL_UNSIGNED_BYTE, img_data<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> texture_id

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init_lighting</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de iluminaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Habilitar iluminaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar la luz 0</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_COLOR_MATERIAL<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Habilitar el material basado en colores</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la luz</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_pos</span> = <span style="color: #707183;">[</span>0.5, 0.5, 0.5, 0.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de la luz</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_ambient</span> = <span style="color: #707183;">[</span>0.2, 0.2, 0.2, 1.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Luz ambiental</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_diffuse</span> = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Luz difusa</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_specular</span> = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Luz especular</span>

<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, light_pos<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_AMBIENT, light_ambient<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_DIFFUSE, light_diffuse<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_SPECULAR, light_specular<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n del material</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">material_specular</span> = <span style="color: #707183;">[</span>0.1, 0.1, 0.1, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">material_shininess</span> = <span style="color: #707183;">[</span>10.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_SPECULAR, material_specular<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_SHININESS, material_shininess<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">display</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_TEXTURE_2D<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear un objeto cuadr&#225;tico</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">quadric</span> = gluNewQuadric<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluQuadricTexture<span style="color: #707183;">(</span>quadric, GL_TRUE<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Habilitar texturas para el objeto</span>
<span style="background-color: #f2f2f2;"> </span>   gluQuadricNormals<span style="color: #707183;">(</span>quadric, GLU_SMOOTH<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Enlazar la textura cargada</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar la esfera peque&#241;a</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;">#  </span><span style="color: #b22222;">no altere la textura</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 0.0, -2.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover la esfera para que sea visible</span>
<span style="background-color: #f2f2f2;"> </span>   gluSphere<span style="color: #707183;">(</span>quadric, 0.5, 32, 32<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Esfera con radio 0.5</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   gluDeleteQuadric<span style="color: #707183;">(</span>quadric<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Liberar el recurso del cuadr&#225;tico</span>
<span style="background-color: #f2f2f2;"> </span>   glDisable<span style="color: #707183;">(</span>GL_TEXTURE_2D<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSwapBuffers<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">reshape</span><span style="color: #707183;">(</span>width, height<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> height == 0:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   height = 1
<span style="background-color: #f2f2f2;"> </span>   aspect = width / height
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45.0, aspect, 0.1, 50.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> texture_id
<span style="background-color: #f2f2f2;"> </span>   glutInit<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glutInitDisplayMode<span style="color: #707183;">(</span>GLUT_RGBA | GLUT_DOUBLE | GLUT_DEPTH<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutInitWindowSize<span style="color: #707183;">(</span>800, 600<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutCreateWindow<span style="color: #707183;">(</span><span style="color: #8b2252;">"Esfera con textura e iluminaci&#243;n"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Habilitar prueba de profundidad</span>
<span style="background-color: #f2f2f2;"> </span>   texture_id = load_texture<span style="color: #707183;">(</span><span style="color: #8b2252;">"/home/likcos/Materias/Graficacion/code/fol.png"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   init_lighting<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar iluminaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glutDisplayFunc<span style="color: #707183;">(</span>display<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutReshapeFunc<span style="color: #707183;">(</span>reshape<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutMainLoop<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>

<p>
persona
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">import</span> numpy <span style="color: #a020f0;">as</span> np
<span style="color: #a020f0;">from</span> ctypes <span style="color: #a020f0;">import</span> c_void_p
<span style="color: #a020f0;">from</span> pyrr <span style="color: #a020f0;">import</span> Matrix44

<span style="color: #b22222;"># </span><span style="color: #b22222;">----------------- Shaders -----------------</span>
<span style="color: #a0522d;">vertex_shader_source</span> = <span style="color: #8b2252;">"""</span>
<span style="color: #8b2252;">#version 330 core</span>
<span style="color: #8b2252;">layout(location = 0) in vec3 position;</span>
<span style="color: #8b2252;">uniform mat4 model;</span>
<span style="color: #8b2252;">uniform mat4 view;</span>
<span style="color: #8b2252;">uniform mat4 projection;</span>
<span style="color: #8b2252;">void main() {</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   gl_Position = projection * view * model * vec4(position, 1.0);</span>
<span style="color: #8b2252;">}</span>
<span style="color: #8b2252;">"""</span>

<span style="color: #a0522d;">fragment_shader_source</span> = <span style="color: #8b2252;">"""</span>
<span style="color: #8b2252;">#version 330 core</span>
<span style="color: #8b2252;">out vec4 FragColor;</span>
<span style="color: #8b2252;">void main() {</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   FragColor = vec4(0.6, 0.8, 1.0, 1.0);</span>
<span style="color: #8b2252;">}</span>
<span style="color: #8b2252;">"""</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">compile_shader</span><span style="color: #707183;">(</span>source, shader_type<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">shader</span> = glCreateShader<span style="color: #707183;">(</span>shader_type<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glShaderSource<span style="color: #707183;">(</span>shader, source<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glCompileShader<span style="color: #707183;">(</span>shader<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> shader

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">create_shader_program</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">vs</span> = compile_shader<span style="color: #707183;">(</span>vertex_shader_source, GL_VERTEX_SHADER<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">fs</span> = compile_shader<span style="color: #707183;">(</span>fragment_shader_source, GL_FRAGMENT_SHADER<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">program</span> = glCreateProgram<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glAttachShader<span style="color: #707183;">(</span>program, vs<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glAttachShader<span style="color: #707183;">(</span>program, fs<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLinkProgram<span style="color: #707183;">(</span>program<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span> program

<span style="color: #b22222;"># </span><span style="color: #b22222;">----------------- Cubo -----------------</span>
<span style="color: #a0522d;">cube_vertices</span> = np.array<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">front face</span>
<span style="background-color: #f2f2f2;"> </span>   -0.5, -0.5,  0.5,   0.5, -0.5,  0.5,   0.5,  0.5,  0.5,
<span style="background-color: #f2f2f2;"> </span>   -0.5, -0.5,  0.5,   0.5,  0.5,  0.5,  -0.5,  0.5,  0.5,
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">back face</span>
<span style="background-color: #f2f2f2;"> </span>   -0.5, -0.5, -0.5,  -0.5,  0.5, -0.5,   0.5,  0.5, -0.5,
<span style="background-color: #f2f2f2;"> </span>   -0.5, -0.5, -0.5,   0.5,  0.5, -0.5,   0.5, -0.5, -0.5,
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">sides</span>
<span style="background-color: #f2f2f2;"> </span>   -0.5,  0.5, -0.5,  -0.5,  0.5,  0.5,   0.5,  0.5,  0.5,
<span style="background-color: #f2f2f2;"> </span>   -0.5,  0.5, -0.5,   0.5,  0.5,  0.5,   0.5,  0.5, -0.5,
<span style="background-color: #f2f2f2;"> </span>   -0.5, -0.5, -0.5,   0.5, -0.5, -0.5,   0.5, -0.5,  0.5,
<span style="background-color: #f2f2f2;"> </span>   -0.5, -0.5, -0.5,   0.5, -0.5,  0.5,  -0.5, -0.5,  0.5,
<span style="background-color: #f2f2f2;"> </span>   -0.5, -0.5, -0.5,  -0.5, -0.5,  0.5,  -0.5,  0.5,  0.5,
<span style="background-color: #f2f2f2;"> </span>   -0.5, -0.5, -0.5,  -0.5,  0.5,  0.5,  -0.5,  0.5, -0.5,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>0.5, -0.5, -0.5,   0.5,  0.5, -0.5,   0.5,  0.5,  0.5,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>0.5, -0.5, -0.5,   0.5,  0.5,  0.5,   0.5, -0.5,  0.5
<span style="color: #7388d6;">]</span>, dtype=np.float32<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_cube</span><span style="color: #707183;">(</span>program, model<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   glUniformMatrix4fv<span style="color: #707183;">(</span>glGetUniformLocation<span style="color: #7388d6;">(</span>program, <span style="color: #8b2252;">"model"</span><span style="color: #7388d6;">)</span>, 1, GL_FALSE, model.astype<span style="color: #7388d6;">(</span>np.float32<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glDrawArrays<span style="color: #707183;">(</span>GL_TRIANGLES, 0, 36<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">----------------- Main -----------------</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>
<span style="background-color: #f2f2f2;"> </span>   window = glfw.create_window<span style="color: #707183;">(</span>800, 600, <span style="color: #8b2252;">"Persona en OpenGL + GLFW"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   program = create_shader_program<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glUseProgram<span style="color: #707183;">(</span>program<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear VAO/VBO</span>
<span style="background-color: #f2f2f2;"> </span>   vao = glGenVertexArrays<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glBindVertexArray<span style="color: #707183;">(</span>vao<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   vbo = glGenBuffers<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glBindBuffer<span style="color: #707183;">(</span>GL_ARRAY_BUFFER, vbo<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glBufferData<span style="color: #707183;">(</span>GL_ARRAY_BUFFER, cube_vertices.nbytes, cube_vertices, GL_STATIC_DRAW<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glVertexAttribPointer<span style="color: #707183;">(</span>0, 3, GL_FLOAT, GL_FALSE, 0, c_void_p<span style="color: #7388d6;">(</span>0<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnableVertexAttribArray<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Matrices de c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   view = Matrix44.look_at<span style="color: #707183;">(</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   eye=<span style="color: #7388d6;">[</span>3, 3, 6<span style="color: #7388d6;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   target=<span style="color: #7388d6;">[</span>0, 1, 0<span style="color: #7388d6;">]</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   up=<span style="color: #7388d6;">[</span>0, 1, 0<span style="color: #7388d6;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   projection = Matrix44.perspective_projection<span style="color: #707183;">(</span>45.0, 800/600, 0.1, 100.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glUniformMatrix4fv<span style="color: #707183;">(</span>glGetUniformLocation<span style="color: #7388d6;">(</span>program, <span style="color: #8b2252;">"view"</span><span style="color: #7388d6;">)</span>, 1, GL_FALSE, view.astype<span style="color: #7388d6;">(</span>np.float32<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glUniformMatrix4fv<span style="color: #707183;">(</span>glGetUniformLocation<span style="color: #7388d6;">(</span>program, <span style="color: #8b2252;">"projection"</span><span style="color: #7388d6;">)</span>, 1, GL_FALSE, projection.astype<span style="color: #7388d6;">(</span>np.float32<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibuja partes del cuerpo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   partes = <span style="color: #707183;">[</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   Matrix44.from_translation<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>0, 1, 0<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span> @ Matrix44.from_scale<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>0.5, 1.0, 0.3<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span>,  <span style="color: #b22222;"># </span><span style="color: #b22222;">torso</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   Matrix44.from_translation<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>0, 2.2, 0<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span> @ Matrix44.from_scale<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>0.4, 0.4, 0.4<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span>,  <span style="color: #b22222;"># </span><span style="color: #b22222;">cabeza</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   Matrix44.from_translation<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>-0.6, 1.0, 0<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span> @ Matrix44.from_scale<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>0.2, 0.8, 0.2<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span>,  <span style="color: #b22222;"># </span><span style="color: #b22222;">brazo izq</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   Matrix44.from_translation<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>0.6, 1.0, 0<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span> @ Matrix44.from_scale<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>0.2, 0.8, 0.2<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span>,   <span style="color: #b22222;"># </span><span style="color: #b22222;">brazo der</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   Matrix44.from_translation<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>-0.3, 0.0, 0<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span> @ Matrix44.from_scale<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>0.2, 1.0, 0.2<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span>,  <span style="color: #b22222;"># </span><span style="color: #b22222;">pierna izq</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   Matrix44.from_translation<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>0.3, 0.0, 0<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span> @ Matrix44.from_scale<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>0.2, 1.0, 0.2<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span>,   <span style="color: #b22222;"># </span><span style="color: #b22222;">pierna der</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #707183;">]</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> model <span style="color: #a020f0;">in</span> partes:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_cube<span style="color: #707183;">(</span>program, model<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>
</div>
</div>







<div id="outline-container-orga0ac924" class="outline-3">
<h3 id="orga0ac924">Transformaciones en OpenGL</h3>
<div class="outline-text-3" id="text-orga0ac924">
<p>
Las transformaciones de OpenGL son fundamentales para mover, rotar y
escalar los objetos en la escena.
</p>
</div>

<div id="outline-container-org8f0a5d9" class="outline-4">
<h4 id="org8f0a5d9">Traslaci√≥n</h4>
<div class="outline-text-4" id="text-org8f0a5d9">
<p>
Mueve un objeto de una posici√≥n a otra.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">1</th>
<th scope="col" class="org-right">0</th>
<th scope="col" class="org-right">0</th>
<th scope="col" class="org-left">tx</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">0</td>
<td class="org-right">1</td>
<td class="org-right">0</td>
<td class="org-left">ty</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">1</td>
<td class="org-left">tz</td>
</tr>
</tbody>
</table>

<p>
(x+- tx,y+-ty, z+-tz)
</p>
</div>
</div>




<div id="outline-container-orgeb0d408" class="outline-4">
<h4 id="orgeb0d408">Rotaci√≥n</h4>
<div class="outline-text-4" id="text-orgeb0d408">
<p>
Gira un objeto alrededor de un eje.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">cost</th>
<th scope="col" class="org-left">sent</th>
<th scope="col" class="org-left">cost</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">sent</td>
<td class="org-left">cost</td>
<td class="org-left">sent</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">cost</td>
</tr>
</tbody>
</table>
</div>
</div>



<div id="outline-container-org1ee11f0" class="outline-4">
<h4 id="org1ee11f0">Escalado</h4>
<div class="outline-text-4" id="text-org1ee11f0">
<p>
Cambia el tama√±o del objeto.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">k</th>
<th scope="col" class="org-right">0</th>
<th scope="col" class="org-right">0</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">0</td>
<td class="org-right">k</td>
<td class="org-right">0</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">k</td>
</tr>
</tbody>
</table>




<p>
Ejemplo de c√≥mo aplicar una transformaci√≥n de escalado y rotaci√≥n:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #f2f2f2;"> </span> <span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="background-color: #f2f2f2;"> </span> <span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *
<span style="background-color: #f2f2f2;"> </span> 
<span style="background-color: #f2f2f2;"> </span> glPushMatrix<span style="color: #707183;">()</span>         <span style="color: #b22222;"># </span><span style="color: #b22222;">Guardar la matriz actual</span>
<span style="background-color: #f2f2f2;"> </span> glTranslatef<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Traslaci&#243;n</span>
<span style="background-color: #f2f2f2;"> </span> glRotatef<span style="color: #707183;">(</span>45, 0.0, 0.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rotaci&#243;n de 45 grados</span>
<span style="background-color: #f2f2f2;"> </span> glScalef<span style="color: #707183;">(</span>2.0, 2.0, 1.0<span style="color: #707183;">)</span>      <span style="color: #b22222;"># </span><span style="color: #b22222;">Escalar el objeto</span>
<span style="background-color: #f2f2f2;"> </span> draw_triangle<span style="color: #707183;">()</span>              <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar el objeto transformado</span>
<span style="background-color: #f2f2f2;"> </span> glPopMatrix<span style="color: #707183;">()</span>         <span style="color: #b22222;"># </span><span style="color: #b22222;">Restaurar la matriz original</span>
</pre>
</div>
</div>
</div>
</div>
</div>





<div id="outline-container-org0a5eebd" class="outline-2">
<h2 id="org0a5eebd">Introducci√≥n a la Iluminaci√≥n en OpenGL</h2>
<div class="outline-text-2" id="text-org0a5eebd">
<p>
OpenGL utiliza un modelo de iluminaci√≥n basado en f√≠sica simplificada
que simula c√≥mo la luz interact√∫a con las superficies. Este modelo
considera tres componentes principales de luz: <b><b>ambiente</b></b>, <b><b>difusa</b></b> y
<b><b>especular</b></b>.
</p>
</div>
</div>

<div id="outline-container-org11c00e8" class="outline-2">
<h2 id="org11c00e8">Conceptos Fundamentales</h2>
<div class="outline-text-2" id="text-org11c00e8">
</div>
<div id="outline-container-orgc197517" class="outline-3">
<h3 id="orgc197517">Componentes de la Luz</h3>
<div class="outline-text-3" id="text-orgc197517">
</div>
<div id="outline-container-orge909a8f" class="outline-4">
<h4 id="orge909a8f">Luz Ambiente (Ambient)</h4>
<div class="outline-text-4" id="text-orge909a8f">
<ul class="org-ul">
<li>Iluminaci√≥n uniforme que llega a todas las superficies por igual</li>
<li>Simula la luz que rebota m√∫ltiples veces en el entorno</li>
<li>No tiene direcci√≥n</li>
<li>Evita que las zonas sin luz directa queden completamente negras</li>
</ul>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">light_ambient</span> = <span style="color: #707183;">[</span>0.3, 0.3, 0.3, 1.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Gris claro</span>
glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_AMBIENT, light_ambient<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org18d8012" class="outline-4">
<h4 id="org18d8012">Luz Difusa (Diffuse)</h4>
<div class="outline-text-4" id="text-org18d8012">
<ul class="org-ul">
<li>Luz principal que depende del √°ngulo entre la superficie y la fuente de luz</li>
<li>Crea el efecto de volumen y forma</li>
<li>Sigue la Ley de Lambert: Intensidad = cos(√°ngulo)</li>
<li>Es la componente m√°s importante para dar forma a los objetos</li>
</ul>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">light_diffuse</span> = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Blanco brillante</span>
glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_DIFFUSE, light_diffuse<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbd26cbd" class="outline-4">
<h4 id="orgbd26cbd">Luz Especular (Specular)</h4>
<div class="outline-text-4" id="text-orgbd26cbd">
<ul class="org-ul">
<li>Crea brillos y reflejos en superficies brillantes</li>
<li>Depende del √°ngulo entre el observador y el reflejo</li>
<li>Simula materiales brillantes como metal o pl√°stico</li>
<li>Requiere configurar tambi√©n el material del objeto</li>
</ul>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">light_specular</span> = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Blanco puro</span>
glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_SPECULAR, light_specular<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Tambi&#233;n configurar material</span>
glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_SPECULAR, <span style="color: #7388d6;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
glMaterialf<span style="color: #707183;">(</span>GL_FRONT, GL_SHININESS, 100.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">0-128</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org6cf734c" class="outline-3">
<h3 id="org6cf734c">F√≥rmula de Iluminaci√≥n</h3>
<div class="outline-text-3" id="text-org6cf734c">
<p>
La intensidad final en un p√≠xel se calcula como:
</p>

<pre class="example" id="orge722cd6">
I_total = I_ambiente + I_difusa + I_especular

Donde:
I_ambiente = luz_ambiente √ó material_ambiente
I_difusa   = luz_difusa √ó material_difuso √ó cos(Œ∏)
I_especular = luz_especular √ó material_especular √ó cos(Œ±)^shininess

Œ∏ = √°ngulo entre normal y direcci√≥n de luz
Œ± = √°ngulo entre direcci√≥n de reflejo y direcci√≥n al observador
</pre>
</div>
</div>
</div>

<div id="outline-container-org975b3f2" class="outline-2">
<h2 id="org975b3f2">Tipos de Luces</h2>
<div class="outline-text-2" id="text-org975b3f2">
</div>
<div id="outline-container-org23cfd7c" class="outline-3">
<h3 id="org23cfd7c">Luz Posicional (Point Light)</h3>
<div class="outline-text-3" id="text-org23cfd7c">
</div>
<div id="outline-container-org361fd54" class="outline-4">
<h4 id="org361fd54">Descripci√≥n</h4>
<div class="outline-text-4" id="text-org361fd54">
<p>
Una luz que emite desde un punto espec√≠fico en todas direcciones, como una bombilla.
</p>
</div>
</div>

<div id="outline-container-org1db967e" class="outline-4">
<h4 id="org1db967e">Caracter√≠sticas</h4>
<div class="outline-text-4" id="text-org1db967e">
<ul class="org-ul">
<li>Tiene una posici√≥n en el espacio 3D</li>
<li>La intensidad puede disminuir con la distancia (atenuaci√≥n)</li>
<li>W = 1.0 en el vector de posici√≥n</li>
<li>Crea sombras radiales (si se implementan sombras)</li>
</ul>
</div>
</div>

<div id="outline-container-org8083a1d" class="outline-4">
<h4 id="org8083a1d">C√≥digo</h4>
<div class="outline-text-4" id="text-org8083a1d">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">def</span> <span style="color: #0000ff;">setup_point_light</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n: [X, Y, Z, W]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">W = 1.0 indica luz posicional</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_position</span> = <span style="color: #707183;">[</span>3.0, 2.0, 3.0, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Colores</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_ambient</span> = <span style="color: #707183;">[</span>0.3, 0.3, 0.3, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_diffuse</span> = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_specular</span> = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, light_position<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_AMBIENT, light_ambient<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_DIFFUSE, light_diffuse<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_SPECULAR, light_specular<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb56c9d1" class="outline-4">
<h4 id="orgb56c9d1">Visualizaci√≥n</h4>
<div class="outline-text-4" id="text-orgb56c9d1">
<pre class="example" id="orgd174cda">
         Y
         |
         |   ‚ú® Luz (3, 2, 3)
         |  /|\
         | / | \  Rayos en todas direcciones
         |/  |  \
        /|   |   \
       / |   |    \
      /__|___|_____\_____ X
     /   |   ‚óè     \
    Z    |  Objeto  \
</pre>
</div>
</div>

<div id="outline-container-orgaf16e3b" class="outline-4">
<h4 id="orgaf16e3b">Casos de uso</h4>
<div class="outline-text-4" id="text-orgaf16e3b">
<ul class="org-ul">
<li>L√°mparas</li>
<li>Velas</li>
<li>Focos de luz</li>
<li>Iluminaci√≥n interior</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org20aee4d" class="outline-3">
<h3 id="org20aee4d">Luz Direccional (Directional Light)</h3>
<div class="outline-text-3" id="text-org20aee4d">
</div>
<div id="outline-container-org4b53dd2" class="outline-4">
<h4 id="org4b53dd2">Descripci√≥n</h4>
<div class="outline-text-4" id="text-org4b53dd2">
<p>
Una luz infinitamente lejana que emite rayos paralelos, como el sol.
</p>
</div>
</div>

<div id="outline-container-orgdcad3bf" class="outline-4">
<h4 id="orgdcad3bf">Caracter√≠sticas</h4>
<div class="outline-text-4" id="text-orgdcad3bf">
<ul class="org-ul">
<li>No tiene posici√≥n, solo direcci√≥n</li>
<li>Todos los rayos son paralelos</li>
<li>W = 0.0 en el vector de posici√≥n</li>
<li>No hay atenuaci√≥n por distancia</li>
<li>M√°s eficiente computacionalmente</li>
</ul>
</div>
</div>

<div id="outline-container-org9858dd3" class="outline-4">
<h4 id="org9858dd3">C√≥digo</h4>
<div class="outline-text-4" id="text-org9858dd3">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">def</span> <span style="color: #0000ff;">setup_directional_light</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Direcci&#243;n: [X, Y, Z, W]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">W = 0.0 indica luz direccional</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_direction</span> = <span style="color: #707183;">[</span>1.0, -1.0, 0.5, 0.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">El vector indica la direcci&#243;n de donde VIENE la luz</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">(1, -1, 0.5) = viene de arriba-derecha-adelante</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_diffuse</span> = <span style="color: #707183;">[</span>1.0, 0.95, 0.8, 1.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Amarillo c&#225;lido (sol)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_ambient</span> = <span style="color: #707183;">[</span>0.4, 0.4, 0.4, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, light_direction<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_DIFFUSE, light_diffuse<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_AMBIENT, light_ambient<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org510a198" class="outline-4">
<h4 id="org510a198">Visualizaci√≥n</h4>
<div class="outline-text-4" id="text-org510a198">
<pre class="example" id="org1fa84da">
    Sol ‚òÄÔ∏è (infinitamente lejos)
     |  |  |  |  |
     |  |  |  |  |   Rayos paralelos
     ‚Üì  ‚Üì  ‚Üì  ‚Üì  ‚Üì
    _______________
    | | | | | | | |
    | ‚óè | ‚óè | ‚óè | |   Objetos iluminados uniformemente
    |_|_|_|_|_|_|_|
</pre>
</div>
</div>

<div id="outline-container-org76707b5" class="outline-4">
<h4 id="org76707b5">Casos de uso</h4>
<div class="outline-text-4" id="text-org76707b5">
<ul class="org-ul">
<li>Luz solar</li>
<li>Escenas exteriores</li>
<li>Iluminaci√≥n general</li>
<li>Escenas muy grandes</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgb87e3f4" class="outline-3">
<h3 id="orgb87e3f4">Spotlight (Luz C√≥nica)</h3>
<div class="outline-text-3" id="text-orgb87e3f4">
</div>
<div id="outline-container-orgb6c17b1" class="outline-4">
<h4 id="orgb6c17b1">Descripci√≥n</h4>
<div class="outline-text-4" id="text-orgb6c17b1">
<p>
Una luz que emite en forma de cono, como un reflector o linterna.
</p>
</div>
</div>

<div id="outline-container-orgafb8592" class="outline-4">
<h4 id="orgafb8592">Caracter√≠sticas</h4>
<div class="outline-text-4" id="text-orgafb8592">
<ul class="org-ul">
<li>Tiene posici√≥n Y direcci√≥n</li>
<li>√Ångulo de apertura configurable (cutoff)</li>
<li>Concentraci√≥n del haz configurable (exponent)</li>
<li>Atenuaci√≥n por distancia</li>
<li>Muy √∫til para efectos dram√°ticos</li>
</ul>
</div>
</div>

<div id="outline-container-org287069c" class="outline-4">
<h4 id="org287069c">Par√°metros</h4>
<div class="outline-text-4" id="text-org287069c">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Par√°metro</th>
<th scope="col" class="org-left">Descripci√≥n</th>
<th scope="col" class="org-left">Rango</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>GL_SPOT_DIRECTION</code></td>
<td class="org-left">Direcci√≥n del cono</td>
<td class="org-left">Vector [x,y,z]</td>
</tr>

<tr>
<td class="org-left"><code>GL_SPOT_CUTOFF</code></td>
<td class="org-left">√Ångulo de apertura</td>
<td class="org-left">0-90¬∞ o 180¬∞ (omni)</td>
</tr>

<tr>
<td class="org-left"><code>GL_SPOT_EXPONENT</code></td>
<td class="org-left">Concentraci√≥n</td>
<td class="org-left">0-128</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org86855b7" class="outline-4">
<h4 id="org86855b7">C√≥digo</h4>
<div class="outline-text-4" id="text-org86855b7">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">def</span> <span style="color: #0000ff;">setup_spotlight</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n del foco</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_position</span> = <span style="color: #707183;">[</span>0.0, 4.0, 2.0, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Direcci&#243;n hacia donde apunta (vector normalizado)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">spot_direction</span> = <span style="color: #707183;">[</span>0.0, -1.0, -0.5<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">&#193;ngulo del cono (grados)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">spot_cutoff</span> = 30.0  <span style="color: #b22222;"># </span><span style="color: #b22222;">0-90 o 180 (180=desactiva spotlight)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Concentraci&#243;n del haz</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">0   = borde suave, disperso</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">128 = borde duro, concentrado</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">spot_exponent</span> = 20.0
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, light_position<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_SPOT_DIRECTION, spot_direction<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightf<span style="color: #707183;">(</span>GL_LIGHT0, GL_SPOT_CUTOFF, spot_cutoff<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightf<span style="color: #707183;">(</span>GL_LIGHT0, GL_SPOT_EXPONENT, spot_exponent<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Colores</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_DIFFUSE, <span style="color: #7388d6;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_AMBIENT, <span style="color: #7388d6;">[</span>0.1, 0.1, 0.1, 1.0<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org63b125b" class="outline-4">
<h4 id="org63b125b">Visualizaci√≥n</h4>
<div class="outline-text-4" id="text-org63b125b">
<pre class="example" id="orgdc29002">
        ‚ú® Foco
        |‚ï≤
        | ‚ï≤
        |  ‚ï≤  30¬∞
        |   ‚ï≤
        |____‚ï≤
        |  ‚óè  |  Objeto iluminado
        |_____|
          ‚ï≤ /
           V
      Zona oscura
</pre>
</div>
</div>

<div id="outline-container-org04984b6" class="outline-4">
<h4 id="org04984b6">Efecto del Exponent</h4>
<div class="outline-text-4" id="text-org04984b6">
<pre class="example" id="org95627bd">
Exponent = 0 (suave)        Exponent = 50 (concentrado)
    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà                    ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë
   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà                  ‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë
  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà                 ‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë
  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà                  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà                   ‚ñë‚ñà‚ñà‚ñà‚ñà‚ñë
    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà                    ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë
</pre>
</div>
</div>

<div id="outline-container-org48858eb" class="outline-4">
<h4 id="org48858eb">Casos de uso</h4>
<div class="outline-text-4" id="text-org48858eb">
<ul class="org-ul">
<li>Linternas</li>
<li>Reflectores de teatro</li>
<li>Faros de coches</li>
<li>Efectos dram√°ticos</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgbdd3c58" class="outline-3">
<h3 id="orgbdd3c58">Atenuaci√≥n de Luz</h3>
<div class="outline-text-3" id="text-orgbdd3c58">
</div>
<div id="outline-container-org93b36a4" class="outline-4">
<h4 id="org93b36a4">Descripci√≥n</h4>
<div class="outline-text-4" id="text-org93b36a4">
<p>
La atenuaci√≥n controla c√≥mo disminuye la intensidad de la luz con la distancia.
</p>
</div>
</div>

<div id="outline-container-org0cc5fa1" class="outline-4">
<h4 id="org0cc5fa1">F√≥rmula</h4>
<div class="outline-text-4" id="text-org0cc5fa1">
<pre class="example" id="org2231021">
Factor_atenuaci√≥n = 1 / (Kc + Kl√ód + Kq√ód¬≤)

Donde:
Kc = Atenuaci√≥n constante (GL_CONSTANT_ATTENUATION)
Kl = Atenuaci√≥n lineal (GL_LINEAR_ATTENUATION)
Kq = Atenuaci√≥n cuadr√°tica (GL_QUADRATIC_ATTENUATION)
d  = Distancia a la luz
</pre>
</div>
</div>

<div id="outline-container-org1d4dc3d" class="outline-4">
<h4 id="org1d4dc3d">C√≥digo</h4>
<div class="outline-text-4" id="text-org1d4dc3d">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #b22222;"># </span><span style="color: #b22222;">Sin atenuaci&#243;n (por defecto)</span>
glLightf<span style="color: #707183;">(</span>GL_LIGHT0, GL_CONSTANT_ATTENUATION, 1.0<span style="color: #707183;">)</span>
glLightf<span style="color: #707183;">(</span>GL_LIGHT0, GL_LINEAR_ATTENUATION, 0.0<span style="color: #707183;">)</span>
glLightf<span style="color: #707183;">(</span>GL_LIGHT0, GL_QUADRATIC_ATTENUATION, 0.0<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Atenuaci&#243;n realista (f&#237;sicamente correcta)</span>
glLightf<span style="color: #707183;">(</span>GL_LIGHT0, GL_CONSTANT_ATTENUATION, 1.0<span style="color: #707183;">)</span>
glLightf<span style="color: #707183;">(</span>GL_LIGHT0, GL_LINEAR_ATTENUATION, 0.0<span style="color: #707183;">)</span>
glLightf<span style="color: #707183;">(</span>GL_LIGHT0, GL_QUADRATIC_ATTENUATION, 0.01<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">1/d&#178;</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Atenuaci&#243;n suave para escenas peque&#241;as</span>
glLightf<span style="color: #707183;">(</span>GL_LIGHT0, GL_CONSTANT_ATTENUATION, 1.0<span style="color: #707183;">)</span>
glLightf<span style="color: #707183;">(</span>GL_LIGHT0, GL_LINEAR_ATTENUATION, 0.05<span style="color: #707183;">)</span>
glLightf<span style="color: #707183;">(</span>GL_LIGHT0, GL_QUADRATIC_ATTENUATION, 0.01<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgca64cc8" class="outline-4">
<h4 id="orgca64cc8">Comparaci√≥n</h4>
<div class="outline-text-4" id="text-orgca64cc8">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Tipo</th>
<th scope="col" class="org-right">Kc</th>
<th scope="col" class="org-right">Kl</th>
<th scope="col" class="org-right">Kq</th>
<th scope="col" class="org-left">Uso</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Sin atenuaci√≥n</td>
<td class="org-right">1.0</td>
<td class="org-right">0.0</td>
<td class="org-right">0.0</td>
<td class="org-left">Luces direccionales</td>
</tr>

<tr>
<td class="org-left">Lineal</td>
<td class="org-right">1.0</td>
<td class="org-right">0.1</td>
<td class="org-right">0.0</td>
<td class="org-left">Efectos simples</td>
</tr>

<tr>
<td class="org-left">Cuadr√°tica</td>
<td class="org-right">1.0</td>
<td class="org-right">0.0</td>
<td class="org-right">0.01</td>
<td class="org-left">F√≠sica realista</td>
</tr>

<tr>
<td class="org-left">Combinada</td>
<td class="org-right">1.0</td>
<td class="org-right">0.05</td>
<td class="org-right">0.01</td>
<td class="org-left">Escenas interiores</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>

<div id="outline-container-orgfdee5d1" class="outline-2">
<h2 id="orgfdee5d1">Configuraciones Avanzadas</h2>
<div class="outline-text-2" id="text-orgfdee5d1">
</div>
<div id="outline-container-org2a05b12" class="outline-3">
<h3 id="org2a05b12">Sistema de 3 Puntos (Three-Point Lighting)</h3>
<div class="outline-text-3" id="text-org2a05b12">
<p>
Sistema profesional usado en fotograf√≠a y cine.
</p>
</div>

<div id="outline-container-org38f8174" class="outline-4">
<h4 id="org38f8174">Key Light (Luz Principal)</h4>
<div class="outline-text-4" id="text-org38f8174">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #b22222;"># </span><span style="color: #b22222;">Luz principal: fuerte, desde arriba-adelante-lateral</span>
glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>
<span style="color: #a0522d;">light0_position</span> = <span style="color: #707183;">[</span>3.0, 4.0, 3.0, 1.0<span style="color: #707183;">]</span>
<span style="color: #a0522d;">light0_diffuse</span> = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Blanco brillante</span>
<span style="color: #a0522d;">light0_ambient</span> = <span style="color: #707183;">[</span>0.2, 0.2, 0.2, 1.0<span style="color: #707183;">]</span>
glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, light0_position<span style="color: #707183;">)</span>
glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_DIFFUSE, light0_diffuse<span style="color: #707183;">)</span>
glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_AMBIENT, light0_ambient<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org453846d" class="outline-4">
<h4 id="org453846d">Fill Light (Luz de Relleno)</h4>
<div class="outline-text-4" id="text-org453846d">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #b22222;"># </span><span style="color: #b22222;">Luz de relleno: suave, opuesta a la principal</span>
glEnable<span style="color: #707183;">(</span>GL_LIGHT1<span style="color: #707183;">)</span>
light1_position = <span style="color: #707183;">[</span>-2.0, 1.0, -3.0, 1.0<span style="color: #707183;">]</span>
<span style="color: #a0522d;">light1_diffuse</span> = <span style="color: #707183;">[</span>0.4, 0.5, 0.6, 1.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Azul suave (50% intensidad)</span>
glLightfv<span style="color: #707183;">(</span>GL_LIGHT1, GL_POSITION, light1_position<span style="color: #707183;">)</span>
glLightfv<span style="color: #707183;">(</span>GL_LIGHT1, GL_DIFFUSE, light1_diffuse<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org917bebd" class="outline-4">
<h4 id="org917bebd">Rim Light (Luz de Contorno)</h4>
<div class="outline-text-4" id="text-org917bebd">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #b22222;"># </span><span style="color: #b22222;">Luz de contorno: desde atr&#225;s-lateral, separa objeto del fondo</span>
glEnable<span style="color: #707183;">(</span>GL_LIGHT2<span style="color: #707183;">)</span>
<span style="color: #a0522d;">light2_position</span> = <span style="color: #707183;">[</span>4.0, 1.0, -2.0, 1.0<span style="color: #707183;">]</span>
<span style="color: #a0522d;">light2_diffuse</span> = <span style="color: #707183;">[</span>0.9, 0.7, 0.4, 1.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Naranja c&#225;lido</span>
glLightfv<span style="color: #707183;">(</span>GL_LIGHT2, GL_POSITION, light2_position<span style="color: #707183;">)</span>
glLightfv<span style="color: #707183;">(</span>GL_LIGHT2, GL_DIFFUSE, light2_diffuse<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb214e56" class="outline-4">
<h4 id="orgb214e56">Diagrama</h4>
<div class="outline-text-4" id="text-orgb214e56">
<pre class="example" id="orgfead0ef">
          Key ‚ú®
           ‚Üì  45¬∞
            ‚ï≤
             ‚ï≤
    Fill      ‚óè  ‚Üê Objeto    ‚ú® Rim
    ‚ú®     ‚ï±  ‚ï≤               (atr√°s)
         ‚ï±    ‚ï≤
       ‚ï±       ‚ï≤
</pre>
</div>
</div>
</div>

<div id="outline-container-orgde7dd8c" class="outline-3">
<h3 id="orgde7dd8c">Luces de Colores</h3>
<div class="outline-text-3" id="text-orgde7dd8c">
</div>
<div id="outline-container-org00f622c" class="outline-4">
<h4 id="org00f622c">Teor√≠a del Color</h4>
<div class="outline-text-4" id="text-org00f622c">
<p>
Las luces de colores se pueden combinar seg√∫n la s√≠ntesis aditiva RGB:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Luz 1</th>
<th scope="col" class="org-left">Luz 2</th>
<th scope="col" class="org-left">Resultado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Rojo</td>
<td class="org-left">Verde</td>
<td class="org-left">Amarillo</td>
</tr>

<tr>
<td class="org-left">Rojo</td>
<td class="org-left">Azul</td>
<td class="org-left">Magenta</td>
</tr>

<tr>
<td class="org-left">Verde</td>
<td class="org-left">Azul</td>
<td class="org-left">Cian</td>
</tr>

<tr>
<td class="org-left">R+G+B</td>
<td class="org-left">-</td>
<td class="org-left">Blanco</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgce5e938" class="outline-4">
<h4 id="orgce5e938">Ejemplo Art√≠stico</h4>
<div class="outline-text-4" id="text-orgce5e938">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">def</span> <span style="color: #0000ff;">setup_colored_lights</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Luz ROJA (izquierda)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light0_position</span> = <span style="color: #707183;">[</span>-3.0, 1.0, 2.0, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light0_diffuse</span> = <span style="color: #707183;">[</span>1.0, 0.2, 0.2, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, light0_position<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_DIFFUSE, light0_diffuse<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Luz VERDE (derecha)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light1_position</span> = <span style="color: #707183;">[</span>3.0, 1.0, 2.0, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light1_diffuse</span> = <span style="color: #707183;">[</span>0.2, 1.0, 0.3, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT1, GL_POSITION, light1_position<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT1, GL_DIFFUSE, light1_diffuse<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Luz AZUL (arriba)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light2_position</span> = <span style="color: #707183;">[</span>0.0, 3.0, 0.0, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light2_diffuse</span> = <span style="color: #707183;">[</span>0.3, 0.3, 1.0, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT2, GL_POSITION, light2_position<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT2, GL_DIFFUSE, light2_diffuse<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Ambiente muy bajo para resaltar colores</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_ambient</span> = <span style="color: #707183;">[</span>0.05, 0.05, 0.05, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_AMBIENT, light_ambient<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org747c689" class="outline-2">
<h2 id="org747c689">Configuraci√≥n de Materiales</h2>
<div class="outline-text-2" id="text-org747c689">
</div>
<div id="outline-container-orgbe31955" class="outline-3">
<h3 id="orgbe31955">Propiedades del Material</h3>
<div class="outline-text-3" id="text-orgbe31955">
<p>
Los materiales definen c√≥mo las superficies reaccionan a la luz.
</p>
</div>

<div id="outline-container-orgc37d574" class="outline-4">
<h4 id="orgc37d574">Material Ambiente</h4>
<div class="outline-text-4" id="text-orgc37d574">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">material_ambient</span> = <span style="color: #707183;">[</span>0.2, 0.2, 0.2, 1.0<span style="color: #707183;">]</span>
glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_AMBIENT, material_ambient<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9f4da30" class="outline-4">
<h4 id="org9f4da30">Material Difuso</h4>
<div class="outline-text-4" id="text-org9f4da30">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">material_diffuse</span> = <span style="color: #707183;">[</span>0.8, 0.0, 0.0, 1.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo mate</span>
glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_DIFFUSE, material_diffuse<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org184dd0b" class="outline-4">
<h4 id="org184dd0b">Material Especular</h4>
<div class="outline-text-4" id="text-org184dd0b">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">material_specular</span> = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Brillos blancos</span>
glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_SPECULAR, material_specular<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgabb20df" class="outline-4">
<h4 id="orgabb20df">Shininess (Brillo)</h4>
<div class="outline-text-4" id="text-orgabb20df">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #b22222;"># </span><span style="color: #b22222;">0   = superficie mate, difusa</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">128 = superficie muy brillante, pulida</span>
<span style="color: #a0522d;">shininess</span> = 100.0
glMaterialf<span style="color: #707183;">(</span>GL_FRONT, GL_SHININESS, shininess<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org82df98b" class="outline-3">
<h3 id="org82df98b">Ejemplos de Materiales</h3>
<div class="outline-text-3" id="text-org82df98b">
</div>
<div id="outline-container-org493d577" class="outline-4">
<h4 id="org493d577">Pl√°stico</h4>
<div class="outline-text-4" id="text-org493d577">
<div class="org-src-container">
<pre class="src src-python">glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_AMBIENT, <span style="color: #7388d6;">[</span>0.2, 0.2, 0.2, 1.0<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_DIFFUSE, <span style="color: #7388d6;">[</span>0.8, 0.1, 0.1, 1.0<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_SPECULAR, <span style="color: #7388d6;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
glMaterialf<span style="color: #707183;">(</span>GL_FRONT, GL_SHININESS, 32.0<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3728a41" class="outline-4">
<h4 id="org3728a41">Metal</h4>
<div class="outline-text-4" id="text-org3728a41">
<div class="org-src-container">
<pre class="src src-python">glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_AMBIENT, <span style="color: #7388d6;">[</span>0.3, 0.3, 0.3, 1.0<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_DIFFUSE, <span style="color: #7388d6;">[</span>0.7, 0.7, 0.7, 1.0<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_SPECULAR, <span style="color: #7388d6;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
glMaterialf<span style="color: #707183;">(</span>GL_FRONT, GL_SHININESS, 128.0<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org60dc757" class="outline-4">
<h4 id="org60dc757">Goma</h4>
<div class="outline-text-4" id="text-org60dc757">
<div class="org-src-container">
<pre class="src src-python">glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_AMBIENT, <span style="color: #7388d6;">[</span>0.1, 0.1, 0.1, 1.0<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_DIFFUSE, <span style="color: #7388d6;">[</span>0.5, 0.5, 0.5, 1.0<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_SPECULAR, <span style="color: #7388d6;">[</span>0.1, 0.1, 0.1, 1.0<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
glMaterialf<span style="color: #707183;">(</span>GL_FRONT, GL_SHININESS, 5.0<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org1c177e6" class="outline-3">
<h3 id="org1c177e6">GL<sub>COLOR</sub><sub>MATERIAL</sub></h3>
<div class="outline-text-3" id="text-org1c177e6">
<p>
Permite usar <code>glColor3f()</code> con iluminaci√≥n:
</p>

<div class="org-src-container">
<pre class="src src-python">glEnable<span style="color: #707183;">(</span>GL_COLOR_MATERIAL<span style="color: #707183;">)</span>
glColorMaterial<span style="color: #707183;">(</span>GL_FRONT_AND_BACK, GL_AMBIENT_AND_DIFFUSE<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Ahora glColor3f afecta ambient y diffuse del material</span>
glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Objeto rojo con iluminaci&#243;n</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org29b4e77" class="outline-2">
<h2 id="org29b4e77">Funciones Principales de OpenGL</h2>
<div class="outline-text-2" id="text-org29b4e77">
</div>
<div id="outline-container-org80ec468" class="outline-3">
<h3 id="org80ec468">Activaci√≥n del Sistema</h3>
<div class="outline-text-3" id="text-org80ec468">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #b22222;"># </span><span style="color: #b22222;">Activar iluminaci&#243;n global</span>
glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Activar luces individuales (GL_LIGHT0 a GL_LIGHT7)</span>
glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>
glEnable<span style="color: #707183;">(</span>GL_LIGHT1<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Desactivar</span>
glDisable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
glDisable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org49653eb" class="outline-3">
<h3 id="org49653eb">Configuraci√≥n de Luces</h3>
<div class="outline-text-3" id="text-org49653eb">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #b22222;"># </span><span style="color: #b22222;">Par&#225;metros vectoriales (4 valores)</span>
glLightfv<span style="color: #707183;">(</span>luz, par&#225;metro, valor<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Par&#225;metros escalares (1 valor)</span>
glLightf<span style="color: #707183;">(</span>luz, par&#225;metro, valor<span style="color: #707183;">)</span>
</pre>
</div>
</div>

<div id="outline-container-org410d4b8" class="outline-4">
<h4 id="org410d4b8">Par√°metros Disponibles</h4>
<div class="outline-text-4" id="text-org410d4b8">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Par√°metro</th>
<th scope="col" class="org-left">Tipo</th>
<th scope="col" class="org-left">Descripci√≥n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>GL_POSITION</code></td>
<td class="org-left">[x,y,z,w]</td>
<td class="org-left">Posici√≥n o direcci√≥n</td>
</tr>

<tr>
<td class="org-left"><code>GL_AMBIENT</code></td>
<td class="org-left">[r,g,b,a]</td>
<td class="org-left">Color ambiente</td>
</tr>

<tr>
<td class="org-left"><code>GL_DIFFUSE</code></td>
<td class="org-left">[r,g,b,a]</td>
<td class="org-left">Color difuso</td>
</tr>

<tr>
<td class="org-left"><code>GL_SPECULAR</code></td>
<td class="org-left">[r,g,b,a]</td>
<td class="org-left">Color especular</td>
</tr>

<tr>
<td class="org-left"><code>GL_SPOT_DIRECTION</code></td>
<td class="org-left">[x,y,z]</td>
<td class="org-left">Direcci√≥n del spotlight</td>
</tr>

<tr>
<td class="org-left"><code>GL_SPOT_CUTOFF</code></td>
<td class="org-left">float</td>
<td class="org-left">√Ångulo del cono (0-90 o 180)</td>
</tr>

<tr>
<td class="org-left"><code>GL_SPOT_EXPONENT</code></td>
<td class="org-left">float</td>
<td class="org-left">Concentraci√≥n (0-128)</td>
</tr>

<tr>
<td class="org-left"><code>GL_CONSTANT_ATTENUATION</code></td>
<td class="org-left">float</td>
<td class="org-left">Kc</td>
</tr>

<tr>
<td class="org-left"><code>GL_LINEAR_ATTENUATION</code></td>
<td class="org-left">float</td>
<td class="org-left">Kl</td>
</tr>

<tr>
<td class="org-left"><code>GL_QUADRATIC_ATTENUATION</code></td>
<td class="org-left">float</td>
<td class="org-left">Kq</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-org37c8bcf" class="outline-3">
<h3 id="org37c8bcf">Configuraci√≥n de Materiales</h3>
<div class="outline-text-3" id="text-org37c8bcf">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #b22222;"># </span><span style="color: #b22222;">Par&#225;metros vectoriales</span>
glMaterialfv<span style="color: #707183;">(</span>cara, par&#225;metro, valor<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Par&#225;metros escalares</span>
glMaterialf<span style="color: #707183;">(</span>cara, par&#225;metro, valor<span style="color: #707183;">)</span>
</pre>
</div>
</div>

<div id="outline-container-orgaddf4f6" class="outline-4">
<h4 id="orgaddf4f6">Caras</h4>
<div class="outline-text-4" id="text-orgaddf4f6">
<ul class="org-ul">
<li><code>GL_FRONT</code> : Solo cara frontal</li>
<li><code>GL_BACK</code> : Solo cara trasera</li>
<li><code>GL_FRONT_AND_BACK</code> : Ambas caras</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orga757ded" class="outline-3">
<h3 id="orga757ded">Modelo de Sombreado</h3>
<div class="outline-text-3" id="text-orga757ded">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #b22222;"># </span><span style="color: #b22222;">Suavizado de Gouraud (interpolaci&#243;n de colores)</span>
glShadeModel<span style="color: #707183;">(</span>GL_SMOOTH<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Por defecto</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Sombreado plano (color constante por pol&#237;gono)</span>
glShadeModel<span style="color: #707183;">(</span>GL_FLAT<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org5a79326" class="outline-2">
<h2 id="org5a79326">Diferencia entre Mover Objeto vs Mover C√°mara</h2>
<div class="outline-text-2" id="text-org5a79326">
</div>
<div id="outline-container-org0d3a4a5" class="outline-3">
<h3 id="org0d3a4a5">Moviendo el OBJETO (tu c√≥digo actual)</h3>
<div class="outline-text-3" id="text-org0d3a4a5">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #b22222;"># </span><span style="color: #b22222;">C&#225;mara FIJA en (0, 0, -5) mirando al origen</span>
glLoadIdentity<span style="color: #707183;">()</span>
glTranslatef<span style="color: #707183;">(</span>0, 0, -5<span style="color: #707183;">)</span>      <span style="color: #b22222;"># </span><span style="color: #b22222;">&#8592; C&#225;mara fija</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">OBJETO rota</span>
glRotatef<span style="color: #707183;">(</span>rotation, 0, 1, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#8592; Objeto gira</span>
draw_object<span style="color: #707183;">()</span>
</pre>
</div>
</div>

<div id="outline-container-org26dbfa4" class="outline-4">
<h4 id="org26dbfa4">Diagrama</h4>
<div class="outline-text-4" id="text-org26dbfa4">
<pre class="example" id="orgf5ae3e8">
    üëÅÔ∏è C√°mara (fija)
     |
     | mira hacia
     ‚Üì
     ‚óè ‚Üª  Objeto ROTA
     
La c√°mara est√° quieta, el objeto gira
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbdae608" class="outline-3">
<h3 id="orgbdae608">Moviendo la C√ÅMARA (objeto fijo)</h3>
<div class="outline-text-3" id="text-orgbdae608">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #b22222;"># </span><span style="color: #b22222;">C&#193;MARA rota alrededor del objeto</span>
glLoadIdentity<span style="color: #707183;">()</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Alejar c&#225;mara</span>
glTranslatef<span style="color: #707183;">(</span>0, 0, -5<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">C&#193;MARA rota (invirtiendo la rotaci&#243;n)</span>
glRotatef<span style="color: #707183;">(</span>rotation, 0, 1, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#8592; C&#225;mara orbita</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Objeto FIJO</span>
draw_object<span style="color: #707183;">()</span>
</pre>
</div>
</div>

<div id="outline-container-org8d06493" class="outline-4">
<h4 id="org8d06493">Diagrama</h4>
<div class="outline-text-4" id="text-org8d06493">
<pre class="example" id="org7dcb97c">
       ‚óè Objeto (fijo)
      /
     /
    üëÅÔ∏è ‚Üª  C√°mara ORBITA
    
El objeto est√° quieto, la c√°mara gira alrededor
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb878352" class="outline-3">
<h3 id="orgb878352">C√≥digo Completo de Ejemplo</h3>
<div class="outline-text-3" id="text-orgb878352">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #b22222;"># </span><span style="color: #b22222;">MODO 1: Rotar OBJETO (c&#225;mara fija)</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">render_rotating_object</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">1. Posicionar c&#225;mara (fija)</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0, 0, -5<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">2. Rotar OBJETO</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>angle, 0, 1, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">3. Dibujar</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">()</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">MODO 2: Rotar C&#193;MARA (objeto fijo)</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">render_orbiting_camera</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">1. Rotar C&#193;MARA (invertir rotaci&#243;n)</span>
<span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>-angle, 0, 1, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">2. Alejar c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0, 0, -5<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">3. Dibujar objeto (fijo en origen)</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">()</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">MODO 3: Usar gluLookAt (m&#225;s intuitivo para c&#225;mara)</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">render_with_lookat</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Calcular posici&#243;n de c&#225;mara en &#243;rbita</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">cam_x</span> = 5 * math.sin<span style="color: #707183;">(</span>math.radians<span style="color: #7388d6;">(</span>angle<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">cam_z</span> = 5 * math.cos<span style="color: #707183;">(</span>math.radians<span style="color: #7388d6;">(</span>angle<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">gluLookAt(ojo_x, ojo_y, ojo_z, </span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#           </span><span style="color: #b22222;">mira_x, mira_y, mira_z,</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#           </span><span style="color: #b22222;">arriba_x, arriba_y, arriba_z)</span>
<span style="background-color: #f2f2f2;"> </span>   gluLookAt<span style="color: #707183;">(</span>cam_x, 0, cam_z,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 0, 0,          <span style="color: #b22222;"># </span><span style="color: #b22222;">Mira al origen</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 1, 0<span style="color: #707183;">)</span>          <span style="color: #b22222;"># </span><span style="color: #b22222;">Vector "arriba"</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Objeto fijo en origen</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">()</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga5392d0" class="outline-3">
<h3 id="orga5392d0">Resumen</h3>
<div class="outline-text-3" id="text-orga5392d0">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Aspecto</th>
<th scope="col" class="org-left">Rotar Objeto</th>
<th scope="col" class="org-left">Rotar C√°mara</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><b><b>Objeto</b></b></td>
<td class="org-left">Se mueve/rota</td>
<td class="org-left">Est√°tico en origen</td>
</tr>

<tr>
<td class="org-left"><b><b>C√°mara</b></b></td>
<td class="org-left">Fija</td>
<td class="org-left">Orbita alrededor</td>
</tr>

<tr>
<td class="org-left"><b><b>Transformaciones</b></b></td>
<td class="org-left">Despu√©s de c√°mara</td>
<td class="org-left">Antes de alejar c√°mara</td>
</tr>

<tr>
<td class="org-left"><b><b>Uso com√∫n</b></b></td>
<td class="org-left">Inspeccionar modelo</td>
<td class="org-left">Explorar escena</td>
</tr>

<tr>
<td class="org-left"><b><b>Luces</b></b></td>
<td class="org-left">Fijas respecto al mundo</td>
<td class="org-left">Fijas respecto a c√°mara</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-orgf350ead" class="outline-2">
<h2 id="orgf350ead">Consejos y Buenas Pr√°cticas</h2>
<div class="outline-text-2" id="text-orgf350ead">
</div>
<div id="outline-container-org711cee6" class="outline-3">
<h3 id="org711cee6">Orden de Operaciones</h3>
<div class="outline-text-3" id="text-org711cee6">
<p>
El orden IMPORTA en OpenGL:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #b22222;"># </span><span style="color: #b22222;">CORRECTO</span>
glLoadIdentity<span style="color: #707183;">()</span>
glTranslatef<span style="color: #707183;">(</span>x, y, z<span style="color: #707183;">)</span>    <span style="color: #b22222;"># </span><span style="color: #b22222;">1. Primero trasladar</span>
glRotatef<span style="color: #707183;">(</span>angle, ...<span style="color: #707183;">)</span>    <span style="color: #b22222;"># </span><span style="color: #b22222;">2. Luego rotar</span>
glScalef<span style="color: #707183;">(</span>sx, sy, sz<span style="color: #707183;">)</span>     <span style="color: #b22222;"># </span><span style="color: #b22222;">3. Finalmente escalar</span>
draw_object<span style="color: #707183;">()</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Las transformaciones se aplican en ORDEN INVERSO al c&#243;digo</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">El objeto se escala &#8594; rota &#8594; traslada</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org846d823" class="outline-3">
<h3 id="org846d823">Optimizaci√≥n</h3>
<div class="outline-text-3" id="text-org846d823">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #b22222;"># </span><span style="color: #b22222;">MAL: Cambiar estado muchas veces</span>
<span style="color: #a020f0;">for</span> obj <span style="color: #a020f0;">in</span> objects:
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   draw<span style="color: #707183;">(</span>obj<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glDisable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">BIEN: Agrupar por estado</span>
glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="color: #a020f0;">for</span> obj <span style="color: #a020f0;">in</span> lit_objects:
<span style="background-color: #f2f2f2;"> </span>   draw<span style="color: #707183;">(</span>obj<span style="color: #707183;">)</span>
glDisable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="color: #a020f0;">for</span> obj <span style="color: #a020f0;">in</span> unlit_objects:
<span style="background-color: #f2f2f2;"> </span>   draw<span style="color: #707183;">(</span>obj<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1e03431" class="outline-3">
<h3 id="org1e03431">Depuraci√≥n</h3>
<div class="outline-text-3" id="text-org1e03431">
</div>
<div id="outline-container-org1c3628d" class="outline-4">
<h4 id="org1c3628d">Ver posiciones de luces</h4>
<div class="outline-text-4" id="text-org1c3628d">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">def</span> <span style="color: #0000ff;">debug_draw_lights</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glDisable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar esferas en posici&#243;n de luces</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_pos</span> = <span style="color: #707183;">[</span>0<span style="color: #707183;">]</span> * 4
<span style="background-color: #f2f2f2;"> </span>   glGetLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, light_pos<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1, 1, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>light_pos<span style="color: #7388d6;">[</span>0<span style="color: #7388d6;">]</span>, light_pos<span style="color: #7388d6;">[</span>1<span style="color: #7388d6;">]</span>, light_pos<span style="color: #7388d6;">[</span>2<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutWireSphere<span style="color: #707183;">(</span>0.1, 8, 8<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd9f8801" class="outline-4">
<h4 id="orgd9f8801">Verificar normales</h4>
<div class="outline-text-4" id="text-orgd9f8801">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #b22222;"># </span><span style="color: #b22222;">Asegurar que las normales est&#233;n normalizadas</span>
glEnable<span style="color: #707183;">(</span>GL_NORMALIZE<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Costoso pero seguro</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">O usar manualmente</span>
glEnable<span style="color: #707183;">(</span>GL_RESCALE_NORMAL<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">M&#225;s r&#225;pido si solo escalas uniforme</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgd736d70" class="outline-3">
<h3 id="orgd736d70">Problemas Comunes</h3>
<div class="outline-text-3" id="text-orgd736d70">
</div>
<div id="outline-container-org9a9067b" class="outline-4">
<h4 id="org9a9067b">Objeto completamente negro</h4>
<div class="outline-text-4" id="text-org9a9067b">
<p>
<b>Causas:</b>
</p>
<ul class="org-ul">
<li>Normales invertidas o incorrectas</li>
<li>Material sin componente difuso</li>
<li>Luz mal posicionada</li>
</ul>

<p>
<b>Soluci√≥n:</b>
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #b22222;"># </span><span style="color: #b22222;">Verificar que GL_COLOR_MATERIAL est&#233; activo</span>
glEnable<span style="color: #707183;">(</span>GL_COLOR_MATERIAL<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">O configurar material manualmente</span>
glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_DIFFUSE, <span style="color: #7388d6;">[</span>0.8, 0.8, 0.8, 1.0<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc7592d1" class="outline-4">
<h4 id="orgc7592d1">Objeto muy oscuro</h4>
<div class="outline-text-4" id="text-orgc7592d1">
<p>
<b>Causas:</b>
</p>
<ul class="org-ul">
<li>Luz ambiente muy baja</li>
<li>Objeto lejos de la luz posicional</li>
</ul>

<p>
<b>Soluci√≥n:</b>
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #b22222;"># </span><span style="color: #b22222;">Aumentar luz ambiente</span>
<span style="color: #a0522d;">light_ambient</span> = <span style="color: #707183;">[</span>0.5, 0.5, 0.5, 1.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">M&#225;s alto</span>
glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_AMBIENT, light_ambient<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org298cf96" class="outline-4">
<h4 id="org298cf96">Sin brillos especulares</h4>
<div class="outline-text-4" id="text-org298cf96">
<p>
<b>Causas:</b>
</p>
<ul class="org-ul">
<li>No se configur√≥ material especular</li>
<li>Shininess = 0</li>
</ul>

<p>
<b>Soluci√≥n:</b>
</p>
<div class="org-src-container">
<pre class="src src-python">glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_SPECULAR, <span style="color: #7388d6;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
glMaterialf<span style="color: #707183;">(</span>GL_FRONT, GL_SHININESS, 100.0<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org78c3cfb" class="outline-2">
<h2 id="org78c3cfb">Ejemplos Completos</h2>
<div class="outline-text-2" id="text-org78c3cfb">
</div>
<div id="outline-container-org64508ff" class="outline-3">
<h3 id="org64508ff">Escena Simple con Una Luz</h3>
<div class="outline-text-3" id="text-org64508ff">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">def</span> <span style="color: #0000ff;">setup_simple_scene</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar sistema</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_COLOR_MATERIAL<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar luz</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, <span style="color: #7388d6;">[</span>2, 3, 2, 1<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_DIFFUSE, <span style="color: #7388d6;">[</span>1, 1, 1, 1<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_AMBIENT, <span style="color: #7388d6;">[</span>0.3, 0.3, 0.3, 1<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Material brillante</span>
<span style="background-color: #f2f2f2;"> </span>   glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_SPECULAR, <span style="color: #7388d6;">[</span>1, 1, 1, 1<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glMaterialf<span style="color: #707183;">(</span>GL_FRONT, GL_SHININESS, 50<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_scene</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.8, 0.2, 0.2<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>1.0, 40, 40<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc092059" class="outline-3">
<h3 id="orgc092059">Escena con Iluminaci√≥n Profesional</h3>
<div class="outline-text-3" id="text-orgc092059">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">def</span> <span style="color: #0000ff;">setup_professional_lighting</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_COLOR_MATERIAL<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glShadeModel<span style="color: #707183;">(</span>GL_SMOOTH<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_NORMALIZE<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Key Light (principal)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, <span style="color: #7388d6;">[</span>5, 5, 5, 1<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_DIFFUSE, <span style="color: #7388d6;">[</span>1.0, 1.0, 1.0, 1<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_SPECULAR, <span style="color: #7388d6;">[</span>1.0, 1.0, 1.0, 1<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_AMBIENT, <span style="color: #7388d6;">[</span>0.2, 0.2, 0.2, 1<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Fill Light (relleno)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT1, GL_POSITION, <span style="color: #7388d6;">[</span>-3, 2, -2, 1<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT1, GL_DIFFUSE, <span style="color: #7388d6;">[</span>0.4, 0.5, 0.6, 1<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Rim Light (contorno)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT2, GL_POSITION, <span style="color: #7388d6;">[</span>0, 2, -5, 1<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT2, GL_DIFFUSE, <span style="color: #7388d6;">[</span>0.8, 0.6, 0.4, 1<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Material</span>
<span style="background-color: #f2f2f2;"> </span>   glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_SPECULAR, <span style="color: #7388d6;">[</span>1, 1, 1, 1<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glMaterialf<span style="color: #707183;">(</span>GL_FRONT, GL_SHININESS, 80<span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org2d38ed1" class="outline-2">
<h2 id="org2d38ed1">Referencias</h2>
<div class="outline-text-2" id="text-org2d38ed1">
</div>
<div id="outline-container-org126efc5" class="outline-3">
<h3 id="org126efc5">Documentaci√≥n Oficial</h3>
<div class="outline-text-3" id="text-org126efc5">
<ul class="org-ul">
<li><a href="https://www.khronos.org/opengl/">OpenGL Official Website</a></li>
<li><a href="https://www.opengl.org/sdk/docs/man2/">OpenGL 2.1 Reference</a></li>
</ul>
</div>
</div>

<div id="outline-container-org05a88d7" class="outline-3">
<h3 id="org05a88d7">Libros</h3>
<div class="outline-text-3" id="text-org05a88d7">
<ul class="org-ul">
<li>"OpenGL Programming Guide" (Red Book)</li>
<li>"OpenGL SuperBible"</li>
<li>"Real-Time Rendering"</li>
</ul>
</div>
</div>

<div id="outline-container-orgcaa2fd7" class="outline-3">
<h3 id="orgcaa2fd7">Tutoriales Online</h3>
<div class="outline-text-3" id="text-orgcaa2fd7">
<ul class="org-ul">
<li><a href="https://learnopengl.com/">Learn OpenGL</a></li>
<li><a href="http://www.lighthouse3d.com/">Lighthouse3D</a></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org10443a7" class="outline-2">
<h2 id="org10443a7">Ap√©ndice: Tabla de Referencia R√°pida</h2>
<div class="outline-text-2" id="text-org10443a7">
</div>
<div id="outline-container-orgbf6d46f" class="outline-3">
<h3 id="orgbf6d46f">Funciones Esenciales</h3>
<div class="outline-text-3" id="text-orgbf6d46f">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Funci√≥n</th>
<th scope="col" class="org-left">Prop√≥sito</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>glEnable(GL_LIGHTING)</code></td>
<td class="org-left">Activa iluminaci√≥n</td>
</tr>

<tr>
<td class="org-left"><code>glEnable(GL_LIGHT0)</code></td>
<td class="org-left">Activa luz 0</td>
</tr>

<tr>
<td class="org-left"><code>glLightfv(luz, param, val)</code></td>
<td class="org-left">Configura luz</td>
</tr>

<tr>
<td class="org-left"><code>glMaterialfv(cara, param, val)</code></td>
<td class="org-left">Configura material</td>
</tr>

<tr>
<td class="org-left"><code>glColorMaterial(cara, modo)</code></td>
<td class="org-left">Vincula color a material</td>
</tr>

<tr>
<td class="org-left"><code>glShadeModel(modo)</code></td>
<td class="org-left">Suavizado o plano</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgb5b8893" class="outline-3">
<h3 id="orgb5b8893">Valores T√≠picos</h3>
<div class="outline-text-3" id="text-orgb5b8893">
</div>
<div id="outline-container-org1a9c453" class="outline-4">
<h4 id="org1a9c453">Luz B√°sica</h4>
<div class="outline-text-4" id="text-org1a9c453">
<pre class="example" id="org3b9e120">
Posici√≥n: [2, 3, 2, 1]
Ambient:  [0.3, 0.3, 0.3, 1]
Diffuse:  [1, 1, 1, 1]
Specular: [1, 1, 1, 1]
</pre>
</div>
</div>

<div id="outline-container-org1dd3b65" class="outline-4">
<h4 id="org1dd3b65">Material B√°sico</h4>
<div class="outline-text-4" id="text-org1dd3b65">
<pre class="example" id="org873e5c7">
Specular:  [1, 1, 1, 1]
Shininess: 50-100
</pre>

<p>
#+END<sub>SRC</sub>
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org6270585" class="outline-2">
<h2 id="org6270585">Figuras</h2>
<div class="outline-text-2" id="text-org6270585">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLUT <span style="color: #a020f0;">import</span> *

<span style="color: #a0522d;">rotation</span> = 0.0

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_eye</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja dos esferas simples"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>  
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Primera esfera (roja) a la izquierda</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.85, 0.67, 0.65<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.7, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>0.54, 30, 30<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.56, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>0.6, 30, 30<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Segunda esfera (azul) a la derecha</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.84, 0.85, 0.92<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Azul</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.49, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>0.55, 30, 30<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0, 0, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Azul</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.3, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>0.4, 30, 30<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>


<span style="background-color: #f2f2f2;"> </span>   
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">setup_lighting</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Configura iluminaci&#243;n b&#225;sica"""</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_COLOR_MATERIAL<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_position</span> = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 0.2<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, light_position<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> rotation
<span style="background-color: #f2f2f2;"> </span>   glutInit<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>800, 600, <span style="color: #8b2252;">"Dos Esferas Simples"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.54, 0.72, 0.84, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   setup_lighting<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 800/600, 0.1, 100.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0, 0, -5<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar la escena</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">rotation</span> += 0.5
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>rotation, 0, 1, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_eye<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLUT <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">import</span> math

<span style="color: #a0522d;">rotation</span> = 0.0
<span style="color: #a0522d;">eye_mode</span> = 0  <span style="color: #b22222;"># </span><span style="color: #b22222;">0=uno, 1=dos, 2=cuadr&#237;cula, 3=c&#237;rculo</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_eye</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja un ojo completo"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>  
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.85, 0.67, 0.65<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.7, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>0.54, 30, 30<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.56, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>0.6, 30, 30<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0 , 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.49, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>0.55, 30, 30<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.3, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>0.4, 30, 30<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_one_eye</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Un solo ojo"""</span>
<span style="background-color: #f2f2f2;"> </span>   draw_eye<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_two_eyes</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dos ojos como cara"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>-1.2, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   draw_eye<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   draw_eye<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0, -1.5, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   draw_eye<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0, 1.5, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   draw_eye<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>1.2, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   draw_eye<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_grid_eyes</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Cuadr&#237;cula de ojos"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> row <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>3<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> col <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>3<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">x</span> = <span style="color: #707183;">(</span>col - 1<span style="color: #707183;">)</span> * 1.8
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">y</span> = <span style="color: #707183;">(</span>row - 1<span style="color: #707183;">)</span> * 1.8
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>x, y, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glScalef<span style="color: #707183;">(</span>0.5, 0.5, 0.5<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_eye<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_circle_eyes</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""C&#237;rculo de ojos (ara&#241;a)"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">num_eyes</span> = 8
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">radius</span> = 2.5
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>num_eyes<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">angle</span> = i * <span style="color: #707183;">(</span>360.0 / num_eyes<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">rad</span> = math.radians<span style="color: #707183;">(</span>angle<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">x</span> = radius * math.cos<span style="color: #707183;">(</span>rad<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">y</span> = radius * math.sin<span style="color: #707183;">(</span>rad<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>x, y, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>angle + 90, 0, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glScalef<span style="color: #707183;">(</span>0.4, 0.4, 0.4<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_eye<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_eyes</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja seg&#250;n el modo actual"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> eye_mode == 0:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_one_eye<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> eye_mode == 1:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_two_eyes<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> eye_mode == 2:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_grid_eyes<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> eye_mode == 3:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_circle_eyes<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">setup_lighting</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Configura iluminaci&#243;n b&#225;sica"""</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_COLOR_MATERIAL<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   light_position = <span style="color: #707183;">[</span>2.0, 3.0, 2.0, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   light_ambient = <span style="color: #707183;">[</span>0.4, 0.4, 0.4, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, light_position<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_AMBIENT, light_ambient<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">key_callback</span><span style="color: #707183;">(</span>window, key, scancode, action, mods<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Cambiar entre modos con teclas"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> eye_mode
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> action == glfw.PRESS:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> key == glfw.KEY_1:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   eye_mode = 0
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Modo: UN OJO"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> key == glfw.KEY_2:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   eye_mode = 1
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Modo: DOS OJOS (cara)"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> key == glfw.KEY_3:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   eye_mode = 2
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Modo: CUADR&#205;CULA 3x3"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> key == glfw.KEY_4:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   eye_mode = 3
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Modo: C&#205;RCULO (ara&#241;a)"</span><span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> rotation
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glutInit<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   window = glfw.create_window<span style="color: #707183;">(</span>800, 600, <span style="color: #8b2252;">"M&#250;ltiples Ojos"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.set_key_callback<span style="color: #707183;">(</span>window, key_callback<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.54, 0.72, 0.84, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   setup_lighting<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"="</span> * 50<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"CONTROLES:"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"  1 - Un ojo"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"  2 - Dos ojos (cara)"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"  3 - Cuadr&#237;cula 3x3"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"  4 - C&#237;rculo (ara&#241;a)"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"="</span> * 50<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>30, 800/600, 0.1, 100.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0, 0, -8<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">M&#225;s lejos para ver todos</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   rotation += 0.3
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>rotation, 0, 1, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>20, 1, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_eyes<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>
</pre>
</div>



<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLUT <span style="color: #a020f0;">import</span> *

<span style="color: #a0522d;">rotation</span> = 0.0
<span style="color: #a0522d;">light_mode</span> = 0  <span style="color: #b22222;"># </span><span style="color: #b22222;">0=B&#225;sica, 1=M&#250;ltiple, 2=Direccional, 3=Spotlight, 4=Colores</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_two_spheres</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja dos esferas simples formando un ojo"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>  
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Escler&#243;tica (blanco)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.56, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>0.6, 40, 40<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Iris (azul gris&#225;ceo)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.84, 0.85, 0.92<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.49, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>0.55, 35, 35<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Parte rosada del iris</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.85, 0.67, 0.65<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.7, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>0.54, 35, 35<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Pupila (negro)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.3, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>0.4, 30, 30<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">setup_lighting_basic</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   MODO 0: LUZ B&#193;SICA</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   - Una sola luz posicional blanca</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   - Iluminaci&#243;n simple y uniforme</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   """</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glDisable<span style="color: #707183;">(</span>GL_LIGHT1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glDisable<span style="color: #707183;">(</span>GL_LIGHT2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_COLOR_MATERIAL<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Luz blanca b&#225;sica arriba a la derecha</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_position</span> = <span style="color: #707183;">[</span>3.0, 2.0, 3.0, 1.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">W=1.0 &#8594; Luz posicional</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_diffuse</span> = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #707183;">]</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Blanco</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_ambient</span> = <span style="color: #707183;">[</span>0.3, 0.3, 0.3, 1.0<span style="color: #707183;">]</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Ambiente gris claro</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, light_position<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_DIFFUSE, light_diffuse<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_AMBIENT, light_ambient<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">setup_lighting_multiple</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   MODO 1: LUCES M&#218;LTIPLES</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   - Luz principal (blanca) desde arriba</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   - Luz de relleno (azul suave) desde atr&#225;s</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   - Luz de acento (naranja) lateral</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   Simula un estudio fotogr&#225;fico profesional</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   """</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_COLOR_MATERIAL<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">LIGHT0: Luz principal (Key Light)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Arriba adelante, blanca brillante</span>
<span style="background-color: #f2f2f2;"> </span>   light0_position = <span style="color: #707183;">[</span>3.0, 4.0, 3.0, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light0_diffuse</span> = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #707183;">]</span>    <span style="color: #b22222;"># </span><span style="color: #b22222;">Blanco brillante</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light0_ambient</span> = <span style="color: #707183;">[</span>0.2, 0.2, 0.2, 1.0<span style="color: #707183;">]</span>    <span style="color: #b22222;"># </span><span style="color: #b22222;">Ambiente suave</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light0_specular</span> = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #707183;">]</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Brillos blancos</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, light0_position<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_DIFFUSE, light0_diffuse<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_AMBIENT, light0_ambient<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_SPECULAR, light0_specular<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">LIGHT1: Luz de relleno (Fill Light)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Atr&#225;s izquierda, azul suave</span>
<span style="background-color: #f2f2f2;"> </span>   light1_position = <span style="color: #707183;">[</span>-2.0, 1.0, -3.0, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light1_diffuse</span> = <span style="color: #707183;">[</span>0.3, 0.4, 0.6, 1.0<span style="color: #707183;">]</span>    <span style="color: #b22222;"># </span><span style="color: #b22222;">Azul suave</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light1_ambient</span> = <span style="color: #707183;">[</span>0.1, 0.1, 0.2, 1.0<span style="color: #707183;">]</span>    <span style="color: #b22222;"># </span><span style="color: #b22222;">Ambiente azulado</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT1, GL_POSITION, light1_position<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT1, GL_DIFFUSE, light1_diffuse<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT1, GL_AMBIENT, light1_ambient<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">LIGHT2: Luz de acento (Rim Light)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Lateral derecha, naranja c&#225;lida</span>
<span style="background-color: #f2f2f2;"> </span>   light2_position = <span style="color: #707183;">[</span>4.0, 0.0, 1.0, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light2_diffuse</span> = <span style="color: #707183;">[</span>0.9, 0.6, 0.3, 1.0<span style="color: #707183;">]</span>    <span style="color: #b22222;"># </span><span style="color: #b22222;">Naranja c&#225;lido</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT2, GL_POSITION, light2_position<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT2, GL_DIFFUSE, light2_diffuse<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">setup_lighting_directional</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   MODO 2: LUZ DIRECCIONAL</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   - Como la luz del sol (infinita)</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   - Todos los rayos son paralelos</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   - W = 0.0 indica que es direccional</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   &#218;til para simular luz solar o luz muy lejana</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   """</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glDisable<span style="color: #707183;">(</span>GL_LIGHT1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glDisable<span style="color: #707183;">(</span>GL_LIGHT2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_COLOR_MATERIAL<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Direcci&#243;n de la luz (no posici&#243;n)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">W = 0.0 &#8594; Luz direccional (como el sol)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_direction</span> = <span style="color: #707183;">[</span>1.0, -1.0, 1.0, 0.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#161;W=0.0!</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_diffuse</span> = <span style="color: #707183;">[</span>1.0, 0.95, 0.8, 1.0<span style="color: #707183;">]</span>    <span style="color: #b22222;"># </span><span style="color: #b22222;">Amarillo c&#225;lido (sol)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_ambient</span> = <span style="color: #707183;">[</span>0.4, 0.4, 0.4, 1.0<span style="color: #707183;">]</span>     <span style="color: #b22222;"># </span><span style="color: #b22222;">Ambiente m&#225;s fuerte</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, light_direction<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_DIFFUSE, light_diffuse<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_AMBIENT, light_ambient<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">setup_lighting_spotlight</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   MODO 3: SPOTLIGHT (Foco)</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   - Luz c&#243;nica concentrada</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   - Como un reflector de teatro</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   - Tiene direcci&#243;n, &#225;ngulo y atenuaci&#243;n</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   """</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glDisable<span style="color: #707183;">(</span>GL_LIGHT1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glDisable<span style="color: #707183;">(</span>GL_LIGHT2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_COLOR_MATERIAL<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n del foco (arriba)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_position</span> = <span style="color: #707183;">[</span>0.0, 4.0, 2.0, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_diffuse</span> = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_ambient</span> = <span style="color: #707183;">[</span>0.1, 0.1, 0.1, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_specular</span> = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Direcci&#243;n hacia donde apunta el foco (hacia el objeto)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">spot_direction</span> = <span style="color: #707183;">[</span>0.0, -1.0, -0.5<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Apunta hacia abajo y adelante</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">&#193;ngulo del cono (30 grados)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">spot_cutoff</span> = 30.0
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Concentraci&#243;n del haz (0=difuso, 128=muy concentrado)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">spot_exponent</span> = 20.0
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, light_position<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_DIFFUSE, light_diffuse<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_AMBIENT, light_ambient<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_SPECULAR, light_specular<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_SPOT_DIRECTION, spot_direction<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightf<span style="color: #707183;">(</span>GL_LIGHT0, GL_SPOT_CUTOFF, spot_cutoff<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightf<span style="color: #707183;">(</span>GL_LIGHT0, GL_SPOT_EXPONENT, spot_exponent<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Atenuaci&#243;n (c&#243;mo disminuye con la distancia)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightf<span style="color: #707183;">(</span>GL_LIGHT0, GL_CONSTANT_ATTENUATION, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightf<span style="color: #707183;">(</span>GL_LIGHT0, GL_LINEAR_ATTENUATION, 0.05<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightf<span style="color: #707183;">(</span>GL_LIGHT0, GL_QUADRATIC_ATTENUATION, 0.01<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">setup_lighting_colored</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   MODO 4: LUCES DE COLORES</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   - M&#250;ltiples luces con colores diferentes</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   - Crea efectos art&#237;sticos/dram&#225;ticos</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   &#218;til para escenas nocturnas, discotecas, efectos especiales</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   """</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_COLOR_MATERIAL<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">LIGHT0: Luz roja (izquierda)</span>
<span style="background-color: #f2f2f2;"> </span>   light0_position = <span style="color: #707183;">[</span>-3.0, 1.0, 2.0, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light0_diffuse</span> = <span style="color: #707183;">[</span>1.0, 0.2, 0.2, 1.0<span style="color: #707183;">]</span>    <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo intenso</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, light0_position<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_DIFFUSE, light0_diffuse<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">LIGHT1: Luz verde (derecha)</span>
<span style="background-color: #f2f2f2;"> </span>   light1_position = <span style="color: #707183;">[</span>3.0, 1.0, 2.0, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light1_diffuse</span> = <span style="color: #707183;">[</span>0.2, 1.0, 0.3, 1.0<span style="color: #707183;">]</span>    <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde brillante</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT1, GL_POSITION, light1_position<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT1, GL_DIFFUSE, light1_diffuse<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">LIGHT2: Luz azul (arriba)</span>
<span style="background-color: #f2f2f2;"> </span>   light2_position = <span style="color: #707183;">[</span>0.0, 3.0, 0.0, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light2_diffuse</span> = <span style="color: #707183;">[</span>0.3, 0.3, 1.0, 1.0<span style="color: #707183;">]</span>    <span style="color: #b22222;"># </span><span style="color: #b22222;">Azul intenso</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT2, GL_POSITION, light2_position<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT2, GL_DIFFUSE, light2_diffuse<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Ambiente muy oscuro para resaltar colores</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_ambient</span> = <span style="color: #707183;">[</span>0.05, 0.05, 0.05, 1.0<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_AMBIENT, light_ambient<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">setup_lighting</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Selecciona el modo de iluminaci&#243;n seg&#250;n light_mode"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> light_mode == 0:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   setup_lighting_basic<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> light_mode == 1:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   setup_lighting_multiple<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> light_mode == 2:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   setup_lighting_directional<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> light_mode == 3:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   setup_lighting_spotlight<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> light_mode == 4:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   setup_lighting_colored<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_light_indicators</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja peque&#241;as esferas mostrando la posici&#243;n de las luces"""</span>
<span style="background-color: #f2f2f2;"> </span>   glDisable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> light_mode == 0:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Luz b&#225;sica</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>3.0, 2.0, 3.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glutWireSphere<span style="color: #707183;">(</span>0.1, 8, 8<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> light_mode == 1:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">M&#250;ltiples luces</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Blanca</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>3.0, 4.0, 3.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glutWireSphere<span style="color: #707183;">(</span>0.1, 8, 8<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.3, 0.4, 0.6<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Azul</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>-2.0, 1.0, -3.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glutWireSphere<span style="color: #707183;">(</span>0.1, 8, 8<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.9, 0.6, 0.3<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Naranja</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>4.0, 0.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glutWireSphere<span style="color: #707183;">(</span>0.1, 8, 8<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> light_mode == 3:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Spotlight</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 4.0, 2.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glutWireSphere<span style="color: #707183;">(</span>0.15, 8, 8<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> light_mode == 4:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Luces de colores</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 0.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Roja</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>-3.0, 1.0, 2.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glutWireSphere<span style="color: #707183;">(</span>0.1, 8, 8<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 1.0, 0.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Verde</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>3.0, 1.0, 2.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glutWireSphere<span style="color: #707183;">(</span>0.1, 8, 8<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.0, 0.5, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Azul</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.0, 3.0, 0.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glutWireSphere<span style="color: #707183;">(</span>0.1, 8, 8<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_text_info</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Muestra informaci&#243;n del modo de iluminaci&#243;n"""</span>
<span style="background-color: #f2f2f2;"> </span>   modes = <span style="color: #707183;">[</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"0: LUZ B&#193;SICA - Una luz blanca simple"</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"1: LUCES M&#218;LTIPLES - Key + Fill + Rim"</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"2: LUZ DIRECCIONAL - Como el sol (infinita)"</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"3: SPOTLIGHT - Foco concentrado"</span>,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"4: LUCES DE COLORES - RGB art&#237;stico"</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glDisable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1.0, 1.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Nota: Para texto necesitar&#237;as glutBitmapCharacter o una librer&#237;a de texto</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">key_callback</span><span style="color: #707183;">(</span>window, key, scancode, action, mods<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Manejo de teclado para cambiar modos"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> light_mode
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> action == glfw.PRESS:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> key == glfw.KEY_0:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   light_mode = 0
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"\n&gt;&gt;&gt; MODO 0: LUZ B&#193;SICA"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Una luz posicional blanca simple"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> key == glfw.KEY_1:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   light_mode = 1
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"\n&gt;&gt;&gt; MODO 1: LUCES M&#218;LTIPLES"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Key Light (blanca) + Fill (azul) + Rim (naranja)"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> key == glfw.KEY_2:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   light_mode = 2
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"\n&gt;&gt;&gt; MODO 2: LUZ DIRECCIONAL"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Luz infinita como el sol (W=0)"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> key == glfw.KEY_3:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   light_mode = 3
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"\n&gt;&gt;&gt; MODO 3: SPOTLIGHT"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Foco concentrado con &#225;ngulo de 30&#176;"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> key == glfw.KEY_4:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   light_mode = 4
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"\n&gt;&gt;&gt; MODO 4: LUCES DE COLORES"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Roja (izq) + Verde (der) + Azul (arriba)"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   setup_lighting<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> rotation
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   glutInit<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   window = glfw.create_window<span style="color: #707183;">(</span>800, 600, <span style="color: #8b2252;">"Tipos de Iluminaci&#243;n OpenGL"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.set_key_callback<span style="color: #707183;">(</span>window, key_callback<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.54, 0.72, 0.84, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   setup_lighting<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar material para brillos</span>
<span style="background-color: #f2f2f2;"> </span>   glMaterialfv<span style="color: #707183;">(</span>GL_FRONT, GL_SPECULAR, <span style="color: #7388d6;">[</span>1.0, 1.0, 1.0, 1.0<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glMaterialf<span style="color: #707183;">(</span>GL_FRONT, GL_SHININESS, 100.0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"="</span> * 60<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"MODOS DE ILUMINACI&#211;N EN OPENGL"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"="</span> * 60<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"Presiona las teclas num&#233;ricas para cambiar:"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"  0 - Luz B&#225;sica"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"  1 - Luces M&#250;ltiples (3 luces)"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"  2 - Luz Direccional (sol)"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"  3 - Spotlight (foco)"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"  4 - Luces de Colores (RGB)"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #483d8b;">print</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"="</span> * 60<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 800/600, 0.1, 100.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0, 0, -5<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar la escena</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   rotation += 0.5
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>rotation, 0, 1, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>20, 1, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_two_spheres<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_light_indicators<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>
</pre>
</div>

<p>
Para windows test 
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">import</span> math

<span style="color: #a0522d;">rotation</span> = 0.0
<span style="color: #b22222;"># </span><span style="color: #b22222;">Variables globales para la c&#225;mara</span>
<span style="color: #a0522d;">camera_pos</span> = <span style="color: #707183;">[</span>4.0, 3.0, 8.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de la c&#225;mara</span>
<span style="color: #a0522d;">camera_target</span> = <span style="color: #707183;">[</span>0.0, 1.0, 0.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Punto al que mira</span>
<span style="color: #a0522d;">camera_up</span> = <span style="color: #707183;">[</span>0.0, 1.0, 0.0<span style="color: #707183;">]</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Vector hacia arriba</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Variables para el movimiento</span>
<span style="color: #a0522d;">camera_speed</span> = 0.2  <span style="color: #b22222;"># </span><span style="color: #b22222;">Velocidad de movimiento</span>
<span style="color: #a0522d;">keys</span> = <span style="color: #707183;">{}</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Diccionario para controlar el estado de las teclas</span>



<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_sphere</span><span style="color: #707183;">(</span>radius, slices=30, stacks=30<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja una esfera usando primitivas OpenGL (sin GLUT)"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> i <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>stacks<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   lat1 = math.pi * <span style="color: #707183;">(</span>-0.5 + i / stacks<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   lat2 = math.pi * <span style="color: #707183;">(</span>-0.5 + <span style="color: #7388d6;">(</span>i + 1<span style="color: #7388d6;">)</span> / stacks<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUAD_STRIP<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">for</span> j <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span><span style="color: #707183;">(</span>slices + 1<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   lng = 2 * math.pi * j / slices
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   x1 = math.cos<span style="color: #707183;">(</span>lat1<span style="color: #707183;">)</span> * math.cos<span style="color: #707183;">(</span>lng<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   y1 = math.sin<span style="color: #707183;">(</span>lat1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   z1 = math.cos<span style="color: #707183;">(</span>lat1<span style="color: #707183;">)</span> * math.sin<span style="color: #707183;">(</span>lng<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   x2 = math.cos<span style="color: #707183;">(</span>lat2<span style="color: #707183;">)</span> * math.cos<span style="color: #707183;">(</span>lng<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   y2 = math.sin<span style="color: #707183;">(</span>lat2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   z2 = math.cos<span style="color: #707183;">(</span>lat2<span style="color: #707183;">)</span> * math.sin<span style="color: #707183;">(</span>lng<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glNormal3f<span style="color: #707183;">(</span>x1, y1, z1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>x1 * radius, y1 * radius, z1 * radius<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glNormal3f<span style="color: #707183;">(</span>x2, y2, z2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>x2 * radius, y2 * radius, z2 * radius<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>


<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">process_input</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Procesa el estado de las teclas para mover la c&#225;mara"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> camera_pos

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> keys.get<span style="color: #707183;">(</span>glfw.KEY_W, <span style="color: #008b8b;">False</span><span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover hacia adelante</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   camera_pos<span style="color: #707183;">[</span>2<span style="color: #707183;">]</span> -= camera_speed
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> keys.get<span style="color: #707183;">(</span>glfw.KEY_S, <span style="color: #008b8b;">False</span><span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover hacia atr&#225;s</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   camera_pos<span style="color: #707183;">[</span>2<span style="color: #707183;">]</span> += camera_speed
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> keys.get<span style="color: #707183;">(</span>glfw.KEY_A, <span style="color: #008b8b;">False</span><span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover a la izquierda</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   camera_pos<span style="color: #707183;">[</span>0<span style="color: #707183;">]</span> -= camera_speed
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> keys.get<span style="color: #707183;">(</span>glfw.KEY_D, <span style="color: #008b8b;">False</span><span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Mover a la derecha</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   camera_pos<span style="color: #707183;">[</span>0<span style="color: #707183;">]</span> += camera_speed
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> keys.get<span style="color: #707183;">(</span>glfw.KEY_UP, <span style="color: #008b8b;">False</span><span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Subir</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   camera_pos<span style="color: #707183;">[</span>1<span style="color: #707183;">]</span> += camera_speed
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> keys.get<span style="color: #707183;">(</span>glfw.KEY_DOWN, <span style="color: #008b8b;">False</span><span style="color: #707183;">)</span>:  <span style="color: #b22222;"># </span><span style="color: #b22222;">Bajar</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   camera_pos<span style="color: #707183;">[</span>1<span style="color: #707183;">]</span> -= camera_speed


<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">key_callback</span><span style="color: #707183;">(</span>window, key, scancode, action, mods<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Actualiza el estado de las teclas"""</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> action == glfw.PRESS:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   keys<span style="color: #707183;">[</span><span style="color: #a0522d;">key</span><span style="color: #707183;">]</span> = <span style="color: #008b8b;">True</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">elif</span> action == glfw.RELEASE:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   keys<span style="color: #707183;">[</span><span style="color: #a0522d;">key</span><span style="color: #707183;">]</span> = <span style="color: #008b8b;">False</span>


<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_eye</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja dos esferas simples"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>  
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Primera esfera (roja) a la izquierda</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.85, 0.67, 0.65<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.7, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>0.54, 30, 30<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Blanco</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.56, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>0.6, 30, 30<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Segunda esfera (azul) a la derecha</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.84, 0.85, 0.92<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Azul</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.49, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>0.55, 30, 30<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0, 0, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Negro</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.3, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   draw_sphere<span style="color: #707183;">(</span>0.4, 30, 30<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">setup_lighting</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Configura iluminaci&#243;n b&#225;sica"""</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_COLOR_MATERIAL<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   light_position = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 0.2<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, light_position<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_scene</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja la escena completa"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   gluLookAt<span style="color: #707183;">(</span>camera_pos<span style="color: #7388d6;">[</span>0<span style="color: #7388d6;">]</span>, camera_pos<span style="color: #7388d6;">[</span>1<span style="color: #7388d6;">]</span>, camera_pos<span style="color: #7388d6;">[</span>2<span style="color: #7388d6;">]</span>,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de la c&#225;mara</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> camera_target<span style="color: #7388d6;">[</span>0<span style="color: #7388d6;">]</span>, camera_target<span style="color: #7388d6;">[</span>1<span style="color: #7388d6;">]</span>, camera_target<span style="color: #7388d6;">[</span>2<span style="color: #7388d6;">]</span>,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Punto al que mira</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> camera_up<span style="color: #7388d6;">[</span>0<span style="color: #7388d6;">]</span>, camera_up<span style="color: #7388d6;">[</span>1<span style="color: #7388d6;">]</span>, camera_up<span style="color: #7388d6;">[</span>2<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Vector hacia arriba</span>

<span style="background-color: #f2f2f2;"> </span>   draw_eye<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Configuraci&#243;n inicial de OpenGL"""</span>
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.5, 0.8, 1.0, 1.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Fondo azul cielo</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>           <span style="color: #b22222;"># </span><span style="color: #b22222;">Activar prueba de profundidad</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configuraci&#243;n de la perspectiva</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 1.0, 0.1, 100.0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Campo de visi&#243;n m&#225;s amplio</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   

<span style="background-color: #f2f2f2;"> </span>   
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Crear ventana de GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   width, height = 800, 600
<span style="background-color: #f2f2f2;"> </span>   window = glfw.create_window<span style="color: #707183;">(</span>width, height, <span style="color: #8b2252;">"Mover Escena Completa"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, width, height<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Configurar callback de teclado</span>
<span style="background-color: #f2f2f2;"> </span>   glfw.set_key_callback<span style="color: #707183;">(</span>window, key_callback<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">glMatrixMode(GL_PROJECTION)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">glLoadIdentity()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">gluPerspective(45, 800/600, 0.1, 100.0)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">glMatrixMode(GL_MODELVIEW)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">glLoadIdentity()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">glTranslatef(0, 0, -5)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar la escena</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">rotation += 0.5</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">glRotatef(rotation, 0, 1, 0)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   process_input<span style="color: #707183;">()</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Procesar teclas presionadas</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>  
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">draw_eye()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_scene<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">glfw.swap_buffers(window)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>

<p>
Test 2
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLUT <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">import</span> sys

<span style="color: #a0522d;">rotation</span> = 0.0

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_eye</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Dibuja dos esferas simples usando funciones GLUT"""</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>  
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Primera esfera (roja) a la izquierda</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.85, 0.67, 0.65<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Rojo</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.7, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>0.54, 30, 30<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Blanco</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.56, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>0.6, 30, 30<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Segunda esfera (azul) a la derecha</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.84, 0.85, 0.92<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Azul</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.49, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>0.55, 30, 30<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0, 0, 0<span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">Negro</span>
<span style="background-color: #f2f2f2;"> </span>   glPushMatrix<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0.3, 0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glutSolidSphere<span style="color: #707183;">(</span>0.4, 30, 30<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glPopMatrix<span style="color: #707183;">()</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">setup_lighting</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #8b2252;">"""Configura iluminaci&#243;n b&#225;sica"""</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHTING<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_LIGHT0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_COLOR_MATERIAL<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">light_position</span> = <span style="color: #707183;">[</span>1.0, 1.0, 1.0, 0.2<span style="color: #707183;">]</span>
<span style="background-color: #f2f2f2;"> </span>   glLightfv<span style="color: #707183;">(</span>GL_LIGHT0, GL_POSITION, light_position<span style="color: #707183;">)</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> rotation
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Inicializar GLUT primero (necesario para usar funciones GLUT)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Pasar argumentos vac&#237;os para evitar problemas</span>
<span style="background-color: #f2f2f2;"> </span>   glutInit<span style="color: #707183;">(</span>sys.argv <span style="color: #a020f0;">if</span> <span style="color: #483d8b;">hasattr</span><span style="color: #7388d6;">(</span>sys, <span style="color: #8b2252;">'argv'</span><span style="color: #7388d6;">)</span> <span style="color: #a020f0;">else</span> <span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">No crear ventana GLUT, solo inicializar para usar las funciones</span>
<span style="background-color: #f2f2f2;"> </span>   glutInitDisplayMode<span style="color: #707183;">(</span>GLUT_DOUBLE | GLUT_RGB | GLUT_DEPTH<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Ahora inicializar GLFW</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>800, 600, <span style="color: #8b2252;">"Dos Esferas Simples"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">return</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.54, 0.72, 0.84, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   setup_lighting<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>45, 800/600, 0.1, 100.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glTranslatef<span style="color: #707183;">(</span>0, 0, -5<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Rotar la escena</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">rotation</span> += 0.5
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glRotatef<span style="color: #707183;">(</span>rotation, 0, 1, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_eye<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>

<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>
</div>


<div id="outline-container-org0cbea40" class="outline-3">
<h3 id="org0cbea40">Sombras y Efectos Avanzados</h3>
<div class="outline-text-3" id="text-org0cbea40">
<p>
OpenGL tambi√©n permite generar sombras y efectos avanzados como
transparencia, texturas y sombreado por v√©rtices.
</p>
</div>
</div>

<div id="outline-container-org63fa463" class="outline-3">
<h3 id="org63fa463">OpenGL Moderno: Shaders y el Pipeline Gr√°fico</h3>
<div class="outline-text-3" id="text-org63fa463">
<p>
OpenGL moderno (a partir de OpenGL 3.0) ha evolucionado hacia un modelo basado en shaders. Los shaders son peque√±os programas que se ejecutan en la GPU y permiten controlar de manera detallada el comportamiento del pipeline gr√°fico.
</p>
</div>

<div id="outline-container-org0251b07" class="outline-4">
<h4 id="org0251b07">Vertex Shader</h4>
<div class="outline-text-4" id="text-org0251b07">
<p>
Procesa cada v√©rtice y aplica transformaciones para determinar su posici√≥n en la pantalla.
</p>
</div>
</div>

<div id="outline-container-org753eecf" class="outline-4">
<h4 id="org753eecf">Fragment Shader</h4>
<div class="outline-text-4" id="text-org753eecf">
<p>
Calcula el color final de cada p√≠xel en la superficie de los objetos.
</p>
</div>
</div>

<div id="outline-container-org6b9ad1f" class="outline-4">
<h4 id="org6b9ad1f">Geometry Shader</h4>
<div class="outline-text-4" id="text-org6b9ad1f">
<p>
Opcional, permite manipular primitivas completas (como puntos, l√≠neas o tri√°ngulos).
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #f2f2f2;"> </span> <span style="color: #b22222;"># </span><span style="color: #b22222;">Ejemplo de vertex shader simple en GLSL (OpenGL Shading Language)</span>
<span style="background-color: #f2f2f2;"> </span> <span style="color: #8b2252;">"""</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;"> #version 330 core</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;"> layout(location = 0) in vec3 position;</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;"> uniform mat4 model;</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;"> uniform mat4 view;</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;"> uniform mat4 projection;</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;"> void main() {</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;">   </span><span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;"> gl_Position = projection * view * model * vec4(position, 1.0);</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;"> }</span>
<span style="color: #8b2252; background-color: #f2f2f2;"> </span><span style="color: #8b2252;"> """</span>
</pre>
</div>
</div>
</div>
</div>
</div>




<div id="outline-container-org15ade2d" class="outline-2">
<h2 id="org15ade2d">gluLookAt</h2>
<div class="outline-text-2" id="text-org15ade2d">
<p>
En OpenGL cl√°sico (la <b>Fixed-Function Pipeline</b>), la c√°mara no existe de
forma f√≠sica.  En lugar de mover una c√°mara por el mundo, lo que hace
OpenGL es <b>mover el mundo al rev√©s</b> respecto al punto de vista del
observador.
</p>

<p>
Una de las funciones m√°s utilizadas para controlar esta ‚Äúc√°mara virtual‚Äù es:
</p>

<div class="org-src-container">
<pre class="src src-c"><span style="color: #0000ff;">gluLookAt</span><span style="color: #707183;">(</span>eyeX, eyeY, eyeZ,
          centerX, centerY, centerZ,
          upX, upY, upZ<span style="color: #707183;">)</span>;
</pre>
</div>

<p>
Esta funci√≥n define la posici√≥n del observador y la orientaci√≥n de la
vista a partir de:
</p>

<ol class="org-ol">
<li><b>eye:</b> posici√≥n de la c√°mara</li>
<li><b>center:</b> punto al que se ‚Äúmira‚Äù</li>
<li><b>up:</b> vector que define cu√°l es el ‚Äúarriba‚Äù</li>
</ol>

<p>
Este tutorial profundiza en el uso, matem√°ticas internas, ejemplos
pr√°cticos y diagramas.
</p>
</div>

<div id="outline-container-org86eafeb" class="outline-3">
<h3 id="org86eafeb">Concepto visual de la c√°mara virtual</h3>
<div class="outline-text-3" id="text-org86eafeb">
<p>
Imagina que t√∫ est√°s en un mundo 3D mirando un objeto.  
Eso es exactamente lo que <code>gluLookAt</code> configura.
</p>

<p>
Un diagrama conceptual:
</p>

<pre class="example" id="org49a1efc">
              ‚Üë up
              |
              |
        eye ‚Üí ‚óè ------------‚Üí direcci√≥n (center - eye)
             / 
            /
           ‚Üì eje hacia abajo
</pre>

<p>
El punto ‚óè es la posici√≥n de la c√°mara.
</p>
</div>
</div>

<div id="outline-container-org522a038" class="outline-3">
<h3 id="org522a038">Par√°metros de gluLookAt explicados visualmente</h3>
<div class="outline-text-3" id="text-org522a038">
<p>
<b><b>1. eye (posici√≥n de la c√°mara)</b></b>
</p>

<p>
Representa el punto desde donde observas la escena.
</p>

<pre class="example" id="orgbb58836">
eye = (3, 2, 5)
</pre>

<p>
ASCII:
</p>

<pre class="example" id="org5af3f2f">
        (0,0,0)   objeto
            ‚óè
           /|
          / |
         /  |   ‚Üê vector de vista
        ‚óè eye(3,2,5)
</pre>

<p>
<b><b>2. center (punto hacia donde mira la c√°mara)</b></b>
</p>

<p>
Indica hacia d√≥nde est√° enfocando la c√°mara.
</p>

<pre class="example" id="org90e0b3a">
center = (0, 0, 0)
</pre>

<p>
Es t√≠pico usar siempre el origen en ejemplos b√°sicos.
</p>

<p>
<b><b>3. up (vector arriba)</b></b>
</p>

<p>
Define cu√°l es el ‚Äútecho‚Äù para la c√°mara.
</p>

<p>
El m√°s com√∫n:
</p>

<div class="org-src-container">
<pre class="src src-c">0, 1, 0
</pre>
</div>

<p>
Pero puedes usar, por ejemplo, <code>0,0,1</code> si tu mundo est√° rotado.
</p>

<p>
Diagrama:
</p>

<pre class="example" id="orgdd1858c">
          ‚Üë up
          |
    eye ‚Üí ‚óè ‚Üí ‚Üí direcci√≥n hacia center
</pre>
</div>
</div>

<div id="outline-container-org22ebf63" class="outline-3">
<h3 id="org22ebf63">Funcionamiento matem√°tico interno</h3>
<div class="outline-text-3" id="text-org22ebf63">
<p>
Internamente, <code>gluLookAt</code> calcula 3 vectores clave:
</p>

<ol class="org-ol">
<li><b><b>forward</b></b> = direcci√≥n de la vista</li>
<li><b><b>side</b></b> = derecha de la c√°mara</li>
<li><b><b>up corregido</b></b> = arriba ajustado ortogonalmente</li>
</ol>

<div class="org-src-container">
<pre class="src src-text">forward = normalize(center - eye)
side    = normalize(forward &#215; up)
up2     = side &#215; forward
</pre>
</div>

<p>
Diagrama espacial de ejes de la c√°mara:
</p>

<pre class="example" id="org8f777b3">
            up2 (c√°mara)
             ‚Üë
             |
    side ‚Üê---‚óè---‚Üí forward
</pre>

<p>
Estas direcciones forman la matriz de vista.
</p>
</div>
</div>

<div id="outline-container-org773c248" class="outline-3">
<h3 id="org773c248">Ejemplo b√°sico completo</h3>
<div class="outline-text-3" id="text-org773c248">
<div class="org-src-container">
<pre class="src src-c"><span style="color: #0000ff;">glMatrixMode</span><span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>;
<span style="color: #0000ff;">glLoadIdentity</span><span style="color: #707183;">()</span>;

gluLookAt<span style="color: #707183;">(</span> 0.0, 3.0, 6.0,   <span style="color: #b22222;">// </span><span style="color: #b22222;">C&#225;mara arriba y atr&#225;s</span>
           0.0, 0.0, 0.0,   <span style="color: #b22222;">// </span><span style="color: #b22222;">Mirando al origen</span>
           0.0, 1.0, 0.0 <span style="color: #707183;">)</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">Arriba del mundo</span>

glutSolidTeapot<span style="color: #707183;">(</span>1.0<span style="color: #707183;">)</span>;
</pre>
</div>

<p>
Diagrama del escenario:
</p>

<pre class="example" id="org2834c57">
    C√°mara
      ‚óè
     /|\
    / | \
   /  |  \
   ----‚óè----  ‚Üê objeto en el origen
</pre>
</div>
</div>

<div id="outline-container-org1a1b767" class="outline-3">
<h3 id="org1a1b767">C√°mara orbital (muy usado en animaci√≥n)</h3>
<div class="outline-text-3" id="text-org1a1b767">
<p>
Una c√°mara que gira alrededor del objeto.
</p>

<div class="org-src-container">
<pre class="src src-c"><span style="color: #228b22;">float</span> <span style="color: #a0522d;">angle</span> = 0;

<span style="color: #228b22;">void</span> <span style="color: #0000ff;">display</span><span style="color: #707183;">()</span> <span style="color: #707183;">{</span>
    <span style="color: #228b22;">float</span> <span style="color: #a0522d;">camX</span> = 5 * sin<span style="color: #7388d6;">(</span>angle<span style="color: #7388d6;">)</span>;
    <span style="color: #228b22;">float</span> <span style="color: #a0522d;">camZ</span> = 5 * cos<span style="color: #7388d6;">(</span>angle<span style="color: #7388d6;">)</span>;

    glLoadIdentity<span style="color: #7388d6;">()</span>;
    gluLookAt<span style="color: #7388d6;">(</span>camX, 2, camZ,
              0, 0, 0,
              0, 1, 0<span style="color: #7388d6;">)</span>;

    drawObject<span style="color: #7388d6;">()</span>;
<span style="color: #707183;">}</span>
</pre>
</div>

<p>
Diagrama orbital:
</p>

<pre class="example" id="org1c1c205">
       ‚óè camPos(angle)
      / 
     / 
    ‚óè------‚óè------‚óè
      trayectoria circular
</pre>
</div>
</div>

<div id="outline-container-org51b63f5" class="outline-3">
<h3 id="org51b63f5">C√°mara en primera persona (FPS)</h3>
<div class="outline-text-3" id="text-org51b63f5">
<div class="org-src-container">
<pre class="src src-c"><span style="color: #228b22;">float</span> <span style="color: #a0522d;">posX</span> = 0, <span style="color: #a0522d;">posY</span> = 1.8, <span style="color: #a0522d;">posZ</span> = 5;
<span style="color: #228b22;">float</span> <span style="color: #a0522d;">yaw</span> = 0;

<span style="color: #228b22;">void</span> <span style="color: #0000ff;">display</span><span style="color: #707183;">()</span> <span style="color: #707183;">{</span>
    <span style="color: #228b22;">float</span> <span style="color: #a0522d;">lx</span> = sin<span style="color: #7388d6;">(</span>yaw<span style="color: #7388d6;">)</span>;
    <span style="color: #228b22;">float</span> <span style="color: #a0522d;">lz</span> = -cos<span style="color: #7388d6;">(</span>yaw<span style="color: #7388d6;">)</span>;

    glLoadIdentity<span style="color: #7388d6;">()</span>;

    gluLookAt<span style="color: #7388d6;">(</span>posX, posY, posZ,
              posX + lx, posY, posZ + lz,
              0, 1, 0<span style="color: #7388d6;">)</span>;

    drawScene<span style="color: #7388d6;">()</span>;
<span style="color: #707183;">}</span>
</pre>
</div>

<p>
Diagrama:
</p>

<pre class="example" id="org2b1604a">
                 direcci√≥n
                    ‚Üì
Jugador/c√°mara ‚Üí  ‚óè ‚Üí ‚Üí ‚Üí
                   \
                    \
                     ‚óè posici√≥n futura (pos + dir)
</pre>
</div>
</div>

<div id="outline-container-orgff33be3" class="outline-3">
<h3 id="orgff33be3">C√°mara en tercera persona (estilo "behind the character")</h3>
<div class="outline-text-3" id="text-orgff33be3">
<div class="org-src-container">
<pre class="src src-c"><span style="color: #228b22;">float</span> <span style="color: #a0522d;">distance</span> = 5.0;

<span style="color: #228b22;">void</span> <span style="color: #0000ff;">updateCamera</span><span style="color: #707183;">(</span><span style="color: #228b22;">float</span> <span style="color: #a0522d;">px</span>, <span style="color: #228b22;">float</span> <span style="color: #a0522d;">py</span>, <span style="color: #228b22;">float</span> <span style="color: #a0522d;">pz</span>, <span style="color: #228b22;">float</span> <span style="color: #a0522d;">yaw</span><span style="color: #707183;">)</span> <span style="color: #707183;">{</span>
    <span style="color: #228b22;">float</span> <span style="color: #a0522d;">camX</span> = px - distance * sin<span style="color: #7388d6;">(</span>yaw<span style="color: #7388d6;">)</span>;
    <span style="color: #228b22;">float</span> <span style="color: #a0522d;">camZ</span> = pz + distance * cos<span style="color: #7388d6;">(</span>yaw<span style="color: #7388d6;">)</span>;

    gluLookAt<span style="color: #7388d6;">(</span>camX, py + 2.0, camZ,
              px, py + 1.5, pz,
              0, 1, 0<span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>
</pre>
</div>

<p>
Diagrama:
</p>

<pre class="example" id="orga702c1f">
    C√°mara detr√°s del personaje

         ‚óè camera
         |
         |
         ‚óè personaje
</pre>
</div>
</div>

<div id="outline-container-orgafb6f4a" class="outline-3">
<h3 id="orgafb6f4a">Casos especiales y errores comunes</h3>
<div class="outline-text-3" id="text-orgafb6f4a">
<p>
<b><b>1. El vector UP mal elegido</b></b>
</p>

<p>
Si el vector up es paralelo a forward:
</p>

<pre class="example" id="orged05c6e">
forward = (0, 1, 0)
up       = (0, 1, 0)
</pre>

<p>
‚Üí La c√°mara rota y queda invertida.
</p>

<p>
Soluci√≥n:  
usar un UP alterno, por ejemplo:
</p>

<div class="org-src-container">
<pre class="src src-c">0, 0, 1
</pre>
</div>

<p>
&#x2014;
</p>

<p>
<b><b>2. El objeto se ve invertido o de cabeza</b></b>
</p>

<p>
Esto significa que el vector up no es correcto para la escena.
</p>

<p>
Diagrama del error:
</p>

<pre class="example" id="org1f7e292">
    C√°mara rota
       ‚Üª
       ‚óè
      / \
     /   \
    (objeto se ve de cabeza)
</pre>
</div>
</div>

<div id="outline-container-org90cd7fa" class="outline-3">
<h3 id="org90cd7fa">Relaci√≥n entre gluLookAt y matrices modernas</h3>
<div class="outline-text-3" id="text-org90cd7fa">
<p>
En OpenGL moderno ya no existe <code>gluLookAt</code>.  
Se reemplaza con matrices en shaders:
</p>

<div class="org-src-container">
<pre class="src src-glsl">mat4 view = lookAt(eye, center, up);
</pre>
</div>

<p>
Donde <code>lookAt</code> se implementa igual a la matem√°tica interna explicada antes.
</p>

<p>
Puedes crear tu propia funci√≥n C:
</p>

<div class="org-src-container">
<pre class="src src-c"><span style="color: #228b22;">mat4</span> <span style="color: #0000ff;">lookAt</span><span style="color: #707183;">(</span><span style="color: #228b22;">vec3</span> <span style="color: #a0522d;">eye</span>, <span style="color: #228b22;">vec3</span> <span style="color: #a0522d;">center</span>, <span style="color: #228b22;">vec3</span> <span style="color: #a0522d;">up</span><span style="color: #707183;">)</span>;
</pre>
</div>

<p>
Esto hace exactamente lo mismo que gluLookAt.
</p>
</div>
</div>

<div id="outline-container-org7c3ca2f" class="outline-3">
<h3 id="org7c3ca2f">Ejercicio 1: Crear una c√°mara que siga un objeto</h3>
<div class="outline-text-3" id="text-org7c3ca2f">
<p>
Implementa que la c√°mara lo siga desde atr√°s, subiendo o bajando seg√∫n su movimiento.
</p>
</div>
</div>

<div id="outline-container-orgc09c2c2" class="outline-3">
<h3 id="orgc09c2c2">Ejercicio 2: Implementar una c√°mara que siempre mire un punto m√≥vil</h3>
<div class="outline-text-3" id="text-orgc09c2c2">
<p>
El punto <code>center</code> se mueve con el objeto.
</p>
</div>
</div>

<div id="outline-container-org3dcd3e1" class="outline-3">
<h3 id="org3dcd3e1">Ejercicio 3: Crear tres vistas diferentes</h3>
<div class="outline-text-3" id="text-org3dcd3e1">
<ol class="org-ol">
<li>vista superior</li>
<li>vista en primera persona</li>
<li>vista orbital</li>
</ol>

<p>
Cambia entre ellas con el teclado.
</p>

<p>
gluLookAt= es una herramienta fundamental en OpenGL cl√°sico para crear c√°maras realistas, ya sea:
</p>

<ul class="org-ul">
<li>Fija</li>
<li>Orbitante</li>
<li>De primera persona</li>
<li>De tercera persona</li>
<li>Animada</li>
<li>Seguidora de un objeto</li>
</ul>

<p>
Con los diagramas, matem√°ticas internas y ejemplos proporcionados, ahora tienes una base s√≥lida para trabajar con c√°maras en cualquier escena 3D.
</p>
</div>
</div>
</div>






<div id="outline-container-org972e635" class="outline-2">
<h2 id="org972e635">Exploraci√≥n de C√°mara con gluLookAt (PyOpenGL/GLFW)</h2>
<div class="outline-text-2" id="text-org972e635">
</div>
<div id="outline-container-orgdf17ac7" class="outline-3">
<h3 id="orgdf17ac7">Objetivo</h3>
<div class="outline-text-3" id="text-orgdf17ac7">
<p>
Manipular la funci√≥n <code>gluLookAt</code> para cambiar la perspectiva y orientaci√≥n de la c√°mara en la escena de las casas, entendiendo c√≥mo afecta la posici√≥n (Eye), el enfoque (Center) y la verticalidad (Up).
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Par√°metro</th>
<th scope="col" class="org-left">Significado</th>
<th scope="col" class="org-left">Valores Iniciales</th>
<th scope="col" class="org-left">Controla</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Eye</td>
<td class="org-left">Posici√≥n</td>
<td class="org-left">(9, 10, 15)</td>
<td class="org-left">D√≥nde estoy</td>
</tr>

<tr>
<td class="org-left">Center</td>
<td class="org-left">Inter√©s</td>
<td class="org-left">(0, 0, 0)</td>
<td class="org-left">Hacia d√≥nde miro</td>
</tr>

<tr>
<td class="org-left">Up</td>
<td class="org-left">Orientaci√≥n</td>
<td class="org-left">(0, 1, 0)</td>
<td class="org-left">C√≥mo est√° mi cabeza</td>
</tr>
</tbody>
</table>

<p>
&#x2014;
</p>
</div>

<div id="outline-container-org1be9ff4" class="outline-4">
<h4 id="org1be9ff4">C√≥digo Base Relevante</h4>
<div class="outline-text-4" id="text-org1be9ff4">
<p>
El c√≥digo de la escena base se encuentra en la funci√≥n <code>draw_scene()</code>. Este es el bloque que modificaremos en cada tarea.
</p>

<div class="org-src-container">
<pre class="src src-python" id="orgeb836ea"><span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_scene</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">... (c&#243;digo de limpieza)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">****** LA FUNCI&#211;N CLAVE ******</span>
<span style="background-color: #f2f2f2;"> </span>   gluLookAt<span style="color: #707183;">(</span>9, 10, 15,  <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n de la c&#225;mara (Eye)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 0, 0,    <span style="color: #b22222;"># </span><span style="color: #b22222;">Punto al que mira (Center)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 1, 0<span style="color: #707183;">)</span>    <span style="color: #b22222;"># </span><span style="color: #b22222;">Vector hacia arriba (Up)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">... (c&#243;digo de dibujo de casas y suelo)</span>
</pre>
</div>

<p>
&#x2014;
</p>
</div>
</div>
</div>

<div id="outline-container-org2a2d34d" class="outline-3">
<h3 id="org2a2d34d">2.  Actividad 1: Cambio de Posici√≥n (<b>Eye</b>)</h3>
<div class="outline-text-3" id="text-org2a2d34d">
<p>
La c√°mara inicial mira a las casas desde una perspectiva a√©rea y lateral (9, 10, 15). Queremos acercarnos y adoptar una vista a nivel de la calle.
</p>

<p>
<b><b>Instrucci√≥n:</b></b> Mueve la c√°mara cerca de una de las casas (ej. la que est√° en (5, 0, 5)) y a una altura humana, manteniendo el foco en el centro de la escena.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Vector</th>
<th scope="col" class="org-left">Original (X, Y, Z)</th>
<th scope="col" class="org-left"><b><b>Nuevo (X, Y, Z)</b></b></th>
<th scope="col" class="org-left">Efecto Esperado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><b><b>Eye</b></b></td>
<td class="org-left">(9, 10, 15)</td>
<td class="org-left"><b><b>(12, 1, 12)</b></b></td>
<td class="org-left">La c√°mara estar√° cerca del suelo y cerca de las casas.</td>
</tr>

<tr>
<td class="org-left">Center</td>
<td class="org-left">(0, 0, 0)</td>
<td class="org-left">(0, 0, 0)</td>
<td class="org-left">El punto de enfoque sigue siendo el centro.</td>
</tr>

<tr>
<td class="org-left">Up</td>
<td class="org-left">(0, 1, 0)</td>
<td class="org-left">(0, 1, 0)</td>
<td class="org-left">Fijo</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-python" id="org0765c1c"><span style="color: #b22222;"># </span><span style="color: #b22222;">Modificar la funci&#243;n draw_scene en el c&#243;digo principal:</span>
gluLookAt<span style="color: #707183;">(</span>12, 1, 12,  <span style="color: #b22222;"># </span><span style="color: #b22222;">POSICI&#211;N CERCANA Y BAJA</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 0, 0,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 1, 0<span style="color: #707183;">)</span>
</pre>
</div>

<p>
<b>An√°lisis Esperado:</b> La escena se ver√° mucho m√°s grande. La casa en (5, 0, 5) estar√° muy cerca en el campo de visi√≥n. Se perder√° la perspectiva a√©rea.
</p>

<p>
&#x2014;
</p>
</div>
</div>

<div id="outline-container-org77b6083" class="outline-3">
<h3 id="org77b6083">Actividad 2: Cambio de Punto de Inter√©s (<b>Center</b>)</h3>
<div class="outline-text-3" id="text-org77b6083">
<p>
Volvemos a la posici√≥n inicial de la c√°mara, pero la hacemos mirar hacia un punto en el horizonte que no es el centro de la escena.
</p>

<p>
<b><b>Instrucci√≥n:</b></b> Haz que la c√°mara (fija en 9, 10, 15) mire hacia el fondo y a la derecha (eje X positivo y Z negativo), enfocando una zona vac√≠a de la calle.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Vector</th>
<th scope="col" class="org-left">Original (X, Y, Z)</th>
<th scope="col" class="org-left"><b><b>Nuevo (X, Y, Z)</b></b></th>
<th scope="col" class="org-left">Efecto Esperado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Eye</td>
<td class="org-left">(9, 10, 15)</td>
<td class="org-left">(9, 10, 15)</td>
<td class="org-left">Fijo</td>
</tr>

<tr>
<td class="org-left"><b><b>Center</b></b></td>
<td class="org-left">(0, 0, 0)</td>
<td class="org-left"><b><b>(10, 0, -10)</b></b></td>
<td class="org-left">La c√°mara gira hacia una esquina lejana.</td>
</tr>

<tr>
<td class="org-left">Up</td>
<td class="org-left">(0, 1, 0)</td>
<td class="org-left">(0, 1, 0)</td>
<td class="org-left">Fijo</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-python" id="orgf6e56eb"><span style="color: #b22222;"># </span><span style="color: #b22222;">Modificar la funci&#243;n draw_scene en el c&#243;digo principal:</span>
gluLookAt<span style="color: #707183;">(</span>9, 10, 15,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 10, 0, -10, <span style="color: #b22222;"># </span><span style="color: #b22222;">ENFOQUE LEJANO (Esquina posterior derecha del suelo)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 1, 0<span style="color: #707183;">)</span>
</pre>
</div>

<p>
<b>An√°lisis Esperado:</b> Las casas se desplazar√°n hacia la izquierda del marco, ya que el punto de enfoque se ha movido fuera del grupo de casas.
</p>

<p>
&#x2014;
</p>
</div>
</div>

<div id="outline-container-org654e253" class="outline-3">
<h3 id="org654e253">4. Actividad 3: Cambio de Orientaci√≥n (<b>Up</b>)</h3>
<div class="outline-text-3" id="text-org654e253">
<p>
Regresamos a la posici√≥n y al punto de inter√©s iniciales, pero inclinamos la cabeza del espectador.
</p>

<p>
<b><b>Instrucci√≥n:</b></b> Simula que la c√°mara se ha inclinado 90 grados hacia la derecha, haciendo que el eje Z sea la nueva vertical.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Vector</th>
<th scope="col" class="org-left">Original (X, Y, Z)</th>
<th scope="col" class="org-left"><b><b>Nuevo (X, Y, Z)</b></b></th>
<th scope="col" class="org-left">Efecto Esperado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Eye</td>
<td class="org-left">(9, 10, 15)</td>
<td class="org-left">(9, 10, 15)</td>
<td class="org-left">Fijo</td>
</tr>

<tr>
<td class="org-left">Center</td>
<td class="org-left">(0, 0, 0)</td>
<td class="org-left">(0, 0, 0)</td>
<td class="org-left">Fijo</td>
</tr>

<tr>
<td class="org-left"><b><b>Up</b></b></td>
<td class="org-left">(0, 1, 0)</td>
<td class="org-left"><b><b>(0, 0, 1)</b></b></td>
<td class="org-left">Toda la escena girar√° de lado.</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-python" id="orgad517d1"><span style="color: #b22222;"># </span><span style="color: #b22222;">Modificar la funci&#243;n draw_scene en el c&#243;digo principal:</span>
gluLookAt<span style="color: #707183;">(</span>9, 10, 15,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 0, 0,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 0, 1<span style="color: #707183;">)</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">EL EJE Z ES AHORA EL VECTOR "ARRIBA"</span>
</pre>
</div>

<p>
<b>An√°lisis Esperado:</b> La escena completa aparecer√° rotada 90 grados. Lo que antes era horizontal (eje X) ahora se sentir√° vertical.
</p>

<p>
&#x2014;
</p>
</div>
</div>

<div id="outline-container-orgb2785ee" class="outline-3">
<h3 id="orgb2785ee">5. üöÄ Desaf√≠o de Combinaci√≥n: Vista del Autom√≥vil</h3>
<div class="outline-text-3" id="text-orgb2785ee">
<p>
<b><b>Instrucci√≥n:</b></b> Combina los tres vectores para simular la vista desde un <b><b>autom√≥vil que se acerca a las casas por la calle central</b></b>, ligeramente inclinado hacia la derecha.
</p>
</div>

<div id="outline-container-orgeaf6027" class="outline-4">
<h4 id="orgeaf6027"><b><b>Eye:</b></b> (0, 1, 18) - Muy bajo (1), centrado en X (0), y muy atr√°s (18).</h4>
</div>
<div id="outline-container-org40386a1" class="outline-4">
<h4 id="org40386a1"><b><b>Center:</b></b> (0, 1, 0) - Mira hacia el centro de la escena, manteniendo la misma altura (1).</h4>
</div>
<div id="outline-container-orgc096561" class="outline-4">
<h4 id="orgc096561"><b><b>Up:</b></b> (0.5, 1, 0) - Una ligera inclinaci√≥n.</h4>
<div class="outline-text-4" id="text-orgc096561">
<div class="org-src-container">
<pre class="src src-python" id="org073dfde"><span style="color: #b22222;"># </span><span style="color: #b22222;">Modificar la funci&#243;n draw_scene en el c&#243;digo principal:</span>
gluLookAt<span style="color: #707183;">(</span>0, 1, 18,    <span style="color: #b22222;"># </span><span style="color: #b22222;">Posici&#243;n: bajo y muy lejos en el eje Z positivo</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0, 1, 0,     <span style="color: #b22222;"># </span><span style="color: #b22222;">Enfoque: mirando al centro de la calle</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span> 0.5, 1, 0<span style="color: #707183;">)</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Orientaci&#243;n: inclinado lateralmente (0.5 en X, 1 en Y)</span>
</pre>
</div>

<p>
<b>An√°lisis Esperado:</b> La vista ser√° rasante al suelo y las casas se ver√°n peque√±as al principio, creciendo r√°pidamente en perspectiva. El horizonte estar√° ligeramente torcido.
</p>
</div>
</div>
</div>
</div>









<div id="outline-container-org5a978e9" class="outline-2">
<h2 id="org5a978e9">Proyecto Enero Junio Final 2025</h2>
<div class="outline-text-2" id="text-org5a978e9">
<p>
El flujo √≥ptico es el patr√≥n del movimiento aparente de los objetos,
superficies y bordes en una escena causado por el movimiento relativo
entre un observador (un ojo o una c√°mara) y la escena.2‚Äã3‚Äã El concepto
de flujo √≥ptico se estudi√≥ por primera vez en la d√©cada de 1940 y,
finalmente, fue publicado por el psic√≥logo estadounidense James
J. Gibson4‚Äã como parte de su teor√≠a de la affordance (una acci√≥n que un
individuo puede potencialmente realizar en su ambiente). Las
aplicaciones del flujo √≥ptico tales como la detecci√≥n de movimiento,
la segmentaci√≥n de objetos, el tiempo hasta la colisi√≥n y el enfoque
de c√°lculo de expansiones, la codificaci√≥n del movimiento compensado y
la medici√≥n de la disparidad estereosc√≥pica utilizan este movimiento
de las superficies y bordes de los objetos.
</p>

<p>
Actividades
</p>

<ol class="org-ol">
<li>Desarrollar un programa que utilice el flujo √≥ptico, para aplicar a
una imagen o una primitiva de dibujo, las transformaciones
geom√©tricas vistas en clase, (Traslaci√≥n, Escalamiento, Rotaci√≥n)</li>
</ol>


<ol class="org-ol">
<li>Desarrollar un programa que utilice opengl, para modelar un entorno
completo tipo mundo minecraft de alguna ciudad, paisaje, bosque,
etc. Donde se deben de incluir por lo menos 15 modelos diferentes,
dise√±ados con primitivas de opengl de igual manera se debe de mover
todo el entorno modelado mediante el flujo √≥ptico aplicando las
transformaciones geom√©tricas vistas en clase, (Traslaci√≥n,
Escalamiento, Rotaci√≥n), para esta actividad pueden hacer equipos
m√°ximo de 5 personas.</li>
</ol>
</div>
</div>


<div id="outline-container-orgb626e0a" class="outline-2">
<h2 id="orgb626e0a">Proyectos Finales Agosto Diciembre 2025</h2>
<div class="outline-text-2" id="text-orgb626e0a">
</div>
<div id="outline-container-orgcf7371a" class="outline-3">
<h3 id="orgcf7371a">Pizarra Virtual: Seguimiento por Color y Primitivas</h3>
<div class="outline-text-3" id="text-orgcf7371a">
<p>
Introducci√≥n T√©cnica La actividad se basa en el Seguimiento por Color
(Color Tracking) en el espacio HSV para la segmentaci√≥n de objetos en
tiempo real. El centroide del objeto detectado se establece como el
Landmark de control. La aplicaci√≥n combina la visi√≥n artificial con
las funciones de dibujo de primitivas de la librer√≠a OpenCV.
</p>

<p>
<b>Actividades</b>
</p>

<ol class="org-ol">
<li>Desarrollo del Modo Trazado Libre (Pintura por Color)

<ul class="org-ul">
<li>Objetivo: Implementar la captura de video y la l√≥gica de
seguimiento para generar un trazo de pintura continuo sobre un
lienzo virtual (matriz NumPy).</li>

<li>Paso Clave: Aislar un color predefinido mediante umbralizaci√≥n
HSV (cv2.inRange) para localizar el Landmark.</li>

<li>Funci√≥n: Utilizar las coordenadas del Landmark para dibujar
l√≠neas consecutivas (cv2.line) entre el punto actual y el
anterior en el lienzo virtual, simulando un pincel.</li>
</ul></li>

<li>Implementaci√≥n de Figuras Primitivas Controladas por Landmark

<ul class="org-ul">
<li>Objetivo: Integrar una funcionalidad en la misma pizarra para
dibujar figuras geom√©tricas est√°ticas, controlando su posici√≥n,
escalamiento y rotaci√≥n con el movimiento del Landmark.</li>

<li>Paso Clave: Implementar una l√≥gica de estado (controlada por
teclado o por la detecci√≥n de un segundo color) para alternar el
modo de dibujo.</li>

<li>Funci√≥n: En el modo de figuras, utilizar las coordenadas del
Landmark para:</li>

<li>Dibujar Figuras Primitivas (cv2.circle, cv2.rectangle) en la
posici√≥n del Landmark.</li>

<li>Controlar la Traslaci√≥n: Mover la figura en el lienzo siguiendo
el movimiento directo del Landmark.</li>

<li>Controlar Escalamiento y Rotaci√≥n (Opcional Avanzado): Utilizar
la magnitud y/o direcci√≥n del vector de movimiento del Landmark
para modular el tama√±o y el √°ngulo de la figura, respectivamente.</li>
</ul></li>
</ol>
</div>
</div>
</div>




<div id="outline-container-org7e8b1aa" class="outline-2">
<h2 id="org7e8b1aa">Respuestas Examen.</h2>
<div class="outline-text-2" id="text-org7e8b1aa">
</div>
<div id="outline-container-orgc035d38" class="outline-3">
<h3 id="orgc035d38">1) ¬øQu√© funci√≥n del c√≥digo se encarga de construir geometr√≠a 3D mediante tiras de cuadril√°teros?</h3>
<div class="outline-text-3" id="text-orgc035d38">
<p>
A) process<sub>input</sub>  B) draw<sub>scene</sub>  C) draw<sub>sphere</sub>  D) draw<sub>eye</sub>  
</p>

<p>
<b>Respuesta:</b> C Explicaci√≥n:* La funci√≥n draw<sub>sphere</sub> genera la geometr√≠a
de una esfera manualmente usando GL<sub>QUAD</sub><sub>STRIP</sub>, calculando v√©rtices y normales.
</p>
</div>
</div>

<div id="outline-container-orgc65321d" class="outline-3">
<h3 id="orgc65321d">2) ¬øQu√© instrucci√≥n activa la evaluaci√≥n de profundidad en OpenGL?</h3>
<div class="outline-text-3" id="text-orgc65321d">
<p>
A) glEnable(GL<sub>LIGHTING</sub>)  B) glEnable(GL<sub>DEPTH</sub><sub>TEST</sub>)  
C) glBegin(GL<sub>QUAD</sub><sub>STRIP</sub>)  D) glLoadIdentity  
<b>Respuesta:</b> B  
<b>Explicaci√≥n:</b> GL<sub>DEPTH</sub><sub>TEST</sub> habilita el buffer de profundidad, permitiendo que OpenGL determine qu√© objetos est√°n delante o detr√°s.
</p>
</div>
</div>

<div id="outline-container-org637b202" class="outline-3">
<h3 id="org637b202">3) ¬øQu√© funci√≥n define la posici√≥n y orientaci√≥n de la c√°mara?</h3>
<div class="outline-text-3" id="text-org637b202">
<p>
A) gluPerspective  B) gluLookAt  C) glTranslatef  D) glPushMatrix  
<b>Respuesta:</b> B  
<b>Explicaci√≥n:</b> gluLookAt posiciona la c√°mara en un punto, le indica hacia d√≥nde mirar y define cu√°l es el vector "arriba".
</p>
</div>
</div>

<div id="outline-container-org80fed5e" class="outline-3">
<h3 id="org80fed5e">4) ¬øQu√© variable controla la velocidad del movimiento de la c√°mara?</h3>
<div class="outline-text-3" id="text-org80fed5e">
<p>
A) rotation  B) keys  C) camera<sub>speed</sub>  D) camera<sub>up</sub>  
<b>Respuesta:</b> C  
<b>Explicaci√≥n:</b> camera<sub>speed</sub> establece cu√°nto se mueve la c√°mara por cada actualizaci√≥n de process<sub>input</sub>.
</p>
</div>
</div>

<div id="outline-container-org2a17421" class="outline-3">
<h3 id="org2a17421">5) ¬øQu√© callback actualiza el estado de las teclas presionadas?</h3>
<div class="outline-text-3" id="text-org2a17421">
<p>
A) draw<sub>scene</sub>  B) key<sub>callback</sub>  C) draw<sub>eye</sub>  D) glfw.poll<sub>events</sub>  
<b>Respuesta:</b> B  
<b>Explicaci√≥n:</b> key<sub>callback</sub> registra si una tecla fue presionada o liberada y actualiza el diccionario keys.
</p>
</div>
</div>

<div id="outline-container-orgebbd8b0" class="outline-3">
<h3 id="orgebbd8b0">6) ¬øQu√© hace glPushMatrix y glPopMatrix en el c√≥digo?</h3>
<div class="outline-text-3" id="text-orgebbd8b0">
<p>
A) Limpian el buffer de color  
B) Apilan y desapilan matrices para aislar transformaciones  
C) Aplican iluminaci√≥n  
D) Duplican objetos 3D  
<b>Respuesta:</b> B  
<b>Explicaci√≥n:</b> Estas funciones permiten aplicar transformaciones locales sin afectar otros objetos de la escena.
</p>
</div>
</div>

<div id="outline-container-org698b5dd" class="outline-3">
<h3 id="org698b5dd">7) ¬øQu√© eje se modifica cuando usas W y S?</h3>
<div class="outline-text-3" id="text-org698b5dd">
<p>
A) X  B) Y  C) Z  D) Ninguno  
<b>Respuesta:</b> C  
<b>Explicaci√≥n:</b> W y S modifican camera<sub>pos</sub>[2], moviendo la c√°mara hacia adelante o hacia atr√°s en el eje Z.
</p>
</div>
</div>

<div id="outline-container-orgf702566" class="outline-3">
<h3 id="orgf702566">8) ¬øQu√© color corresponde al iris (parte negra) en draw<sub>eye</sub>?</h3>
<div class="outline-text-3" id="text-orgf702566">
<p>
A) glColor3f(1,0,0)  B) glColor3f(0,0,0)  
C) glColor3f(0.84, 0.85, 0.92)  D) glColor3f(1,1,1)  
<b>Respuesta:</b> B  
<b>Explicaci√≥n:</b> El iris est√° dibujado con glColor3f(0, 0, 0), que corresponde al color negro.
</p>
</div>
</div>

<div id="outline-container-org7c7dc84" class="outline-3">
<h3 id="org7c7dc84">9) ¬øQu√© par√°metro de gluPerspective controla cu√°nto "zoom" tiene la c√°mara?</h3>
<div class="outline-text-3" id="text-org7c7dc84">
<p>
A) El near  B) El far  C) El campo de visi√≥n (primer par√°metro)  D) El aspect ratio  
<b>Respuesta:</b> C  
<b>Explicaci√≥n:</b> El primer par√°metro, el FOV, define la amplitud de visi√≥n. Menor FOV = mayor zoom.
</p>
</div>
</div>

<div id="outline-container-orge7a73cd" class="outline-3">
<h3 id="orge7a73cd">10) ¬øCu√°l es el prop√≥sito de glfw.swap<sub>buffers</sub>(window)?</h3>
<div class="outline-text-3" id="text-orge7a73cd">
<p>
A) Leer el estado del teclado  
B) Crear la ventana  
C) Mostrar el frame renderizado  
D) Reiniciar la c√°mara  
<b>Respuesta:</b> C  
<b>Explicaci√≥n:</b> swap<sub>buffers</sub> intercambia el buffer trasero con el delantero, mostrando el frame ya renderizado.
</p>
</div>
</div>

<div id="outline-container-orgb78e790" class="outline-3">
<h3 id="orgb78e790">11) Explica en tus palabras c√≥mo funciona process<sub>input</sub> para mover la c√°mara.</h3>
<div class="outline-text-3" id="text-orgb78e790">
<p>
<b>Respuesta:</b> process<sub>input</sub> revisa el diccionario keys para saber qu√©
teclas est√°n presionadas. Si una tecla como W, S, A, D, UP o DOWN est√°
marcada como True, se modifica la posici√≥n de la c√°mara moviendo el
vector camera<sub>pos</sub> en el eje correspondiente. Esto ocurre en cada
iteraci√≥n del ciclo principal, lo que genera movimiento continuo
mientras la tecla est√© presionada.
</p>
</div>
</div>

<div id="outline-container-org7e11fed" class="outline-3">
<h3 id="org7e11fed">12) ¬øPor qu√© es necesario llamar glLoadIdentity antes de gluLookAt?</h3>
<div class="outline-text-3" id="text-org7e11fed">
<p>
<b>Respuesta:</b> glLoadIdentity reinicia la matriz modelo-vista a una matriz
identidad. Esto garantiza que gluLookAt no aplique la vista sobre
transformaciones previas, evitando acumulaci√≥n de rotaciones o
traslaciones no deseadas.
</p>
</div>
</div>

<div id="outline-container-org7ebce39" class="outline-3">
<h3 id="org7ebce39">13) En draw<sub>sphere</sub>, ¬øpara qu√© sirve glNormal3f?</h3>
<div class="outline-text-3" id="text-org7ebce39">
<p>
<b>Respuesta:</b> glNormal3f define la normal de un v√©rtice, necesaria para
el c√°lculo correcto de iluminaci√≥n. Las normales permiten que OpenGL
determine c√≥mo reacciona la luz sobre la superficie de la esfera.
</p>
</div>
</div>

<div id="outline-container-org1f18179" class="outline-3">
<h3 id="org1f18179">14) Explica brevemente qu√© hace el ciclo principal (game loop) en main.</h3>
<div class="outline-text-3" id="text-org1f18179">
<p>
<b>Respuesta:</b>  
El ciclo principal mantiene la aplicaci√≥n funcionando. Cada vuelta:  
</p>
<ol class="org-ol">
<li>procesa eventos de ventana (poll<sub>events</sub>),</li>
<li>llama process<sub>input</sub> para mover la c√°mara,</li>
<li>renderiza la escena con draw<sub>scene</sub>,</li>
<li>muestra el resultado con swap<sub>buffers</sub>.</li>
</ol>
<p>
Esto se repite hasta que la ventana se cierra.
</p>
</div>
</div>

<div id="outline-container-org3208065" class="outline-3">
<h3 id="org3208065">15) ¬øQu√© diferencia hay entre glTranslatef y gluLookAt para mover la escena?</h3>
<div class="outline-text-3" id="text-org3208065">
<p>
<b>Respuesta:</b>  
glTranslatef mueve objetos dentro de la escena.  
gluLookAt posiciona la c√°mara (la vista del usuario), no los objetos.  
Mover la c√°mara y mover el mundo no son equivalentes matem√°ticamente.
</p>
</div>
</div>

<div id="outline-container-org5712282" class="outline-3">
<h3 id="org5712282">16) ¬øQu√© pasar√≠a si eliminaras glEnable(GL<sub>COLOR</sub><sub>MATERIAL</sub>)?</h3>
<div class="outline-text-3" id="text-org5712282">
<p>
<b>Respuesta:</b> Los colores establecidos con glColor3f no afectar√≠an la
iluminaci√≥n. Los objetos se ver√≠an oscuros o con iluminaci√≥n
incorrecta porque OpenGL usar√≠a √∫nicamente materiales por defecto.
</p>
</div>
</div>

<div id="outline-container-org01cb006" class="outline-3">
<h3 id="org01cb006">17) ¬øPor qu√© draw<sub>eye</sub> tiene varias esferas con diferentes glTranslatef?</h3>
<div class="outline-text-3" id="text-org01cb006">
<p>
<b>Respuesta:</b> Cada glTranslatef desplaza una esfera distinta para
colocarla en la posici√≥n adecuada dentro del ‚Äúojo‚Äù. Esto permite crear
una composici√≥n compleja (p√°rpado, iris, pupila) a partir de varias
esferas independientes.
</p>
</div>
</div>

<div id="outline-container-org13879c2" class="outline-3">
<h3 id="org13879c2">18) ¬øPor qu√© se usa GL<sub>QUAD</sub><sub>STRIP</sub> en lugar de GL<sub>TRIANGLES</sub> en la esfera?</h3>
<div class="outline-text-3" id="text-org13879c2">
<p>
<b>Respuesta:</b> GL<sub>QUAD</sub><sub>STRIP</sub> genera bandas continuas de cuadril√°teros, lo
que reduce el n√∫mero de v√©rtices y hace m√°s eficiente el renderizado
de superficies curvas como una esfera. Triangles funcionar√≠a, pero
ser√≠a menos eficiente y producir√≠a m√°s v√©rtices.
</p>
</div>
</div>

<div id="outline-container-org1e57cc8" class="outline-3">
<h3 id="org1e57cc8">19) ¬øQu√© ocurre si no llamas glfw.poll<sub>events</sub>() dentro del loop?</h3>
<div class="outline-text-3" id="text-org1e57cc8">
<p>
<b>Respuesta:</b> La ventana dejar√≠a de responder, el teclado no funcionar√≠a,
y el sistema operativo podr√≠a marcar la aplicaci√≥n como
bloqueada. poll<sub>events</sub> permite que GLFW procese entradas y eventos de
ventana.
</p>
</div>
</div>

<div id="outline-container-org1777120" class="outline-3">
<h3 id="org1777120">20) ¬øCu√°l es el prop√≥sito de glClear(GL<sub>COLOR</sub><sub>BUFFER</sub><sub>BIT</sub> | GL<sub>DEPTH</sub><sub>BUFFER</sub><sub>BIT</sub>)?</h3>
<div class="outline-text-3" id="text-org1777120">
<p>
<b>Respuesta:</b> glClear limpia la pantalla del frame anterior y reinicia el
buffer de profundidad. Esto evita que se mezclen im√°genes viejas o que
queden restos de objetos anteriores en el dibujo actual.
</p>
</div>
</div>
</div>




<div id="outline-container-org9ed0b58" class="outline-2">
<h2 id="org9ed0b58">Introducci√≥n a las Texturas en OpenGL</h2>
<div class="outline-text-2" id="text-org9ed0b58">
<p>
Las texturas en OpenGL son im√°genes que se aplican sobre la superficie
de objetos 3D para darles m√°s realismo. En lugar de pintar un color
s√≥lido, OpenGL puede "envolver" una imagen sobre un plano, cubo,
esfera, etc. Esto permite:
</p>

<ul class="org-ul">
<li>Simular materiales como madera, pasto, ladrillo o metal.</li>
<li>Dar detalle sin incrementar la cantidad de pol√≠gonos.</li>
</ul>
</div>

<div id="outline-container-orgaea9879" class="outline-3">
<h3 id="orgaea9879">Agregar variaciones visuales: patrones, sombras, ruido.</h3>
<div class="outline-text-3" id="text-orgaea9879">
<p>
Para usar texturas, OpenGL sigue un proceso t√≠pico:
</p>

<ol class="org-ol">
<li><b><b>Cargar la imagen</b></b> desde disco (PNG, JPG, etc.).</li>
<li><b><b>Convertirla a un arreglo de bytes</b></b> (RGB o RGBA).</li>
<li><b><b>Subirla a la memoria de la GPU</b></b> con `glTexImage2D`.</li>
<li><b><b>Configurar filtrado y repetici√≥n</b></b> (c√≥mo se ve al acercar/alejar).</li>
<li><b><b>Asignar coordenadas UV</b></b> a las superficies.</li>
<li><b><b>Renderizar</b></b> el objeto usando la textura.</li>

<li>casa textura</li>
</ol>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> glfw
<span style="color: #a020f0;">from</span> OpenGL.GL <span style="color: #a020f0;">import</span> *
<span style="color: #a020f0;">from</span> OpenGL.GLU <span style="color: #a020f0;">import</span> gluPerspective, gluLookAt
<span style="color: #a020f0;">from</span> PIL <span style="color: #a020f0;">import</span> Image
<span style="color: #a020f0;">import</span> sys

<span style="color: #a0522d;">texture_id</span> = <span style="color: #008b8b;">None</span>


<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar textura con correcciones</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">load_texture</span><span style="color: #707183;">(</span>path<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> texture_id

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = Image.<span style="color: #483d8b;">open</span><span style="color: #707183;">(</span>path<span style="color: #707183;">)</span>.convert<span style="color: #707183;">(</span><span style="color: #8b2252;">"RGB"</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img</span> = img.transpose<span style="color: #707183;">(</span>Image.FLIP_TOP_BOTTOM<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">img_data</span> = img.tobytes<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glPixelStorei<span style="color: #707183;">(</span>GL_UNPACK_ALIGNMENT, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">texture_id</span> = glGenTextures<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Filtrado suave + mipmaps</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR_MIPMAP_LINEAR<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Repetici&#243;n</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar textura normal</span>
<span style="background-color: #f2f2f2;"> </span>   glTexImage2D<span style="color: #707183;">(</span>GL_TEXTURE_2D, 0, GL_RGB,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>img.width, img.height, 0,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>GL_RGB, GL_UNSIGNED_BYTE, img_data<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Generar mipmaps moderno (reemplaza a gluBuild2DMipmaps)</span>
<span style="background-color: #f2f2f2;"> </span>   glGenerateMipmap<span style="color: #707183;">(</span>GL_TEXTURE_2D<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, 0<span style="color: #707183;">)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">OpenGL Init</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">init</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClearColor<span style="color: #707183;">(</span>0.5, 0.8, 1.0, 1.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_DEPTH_TEST<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnable<span style="color: #707183;">(</span>GL_TEXTURE_2D<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_PROJECTION<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   gluPerspective<span style="color: #707183;">(</span>60, 1.0, 0.1, 100.0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glMatrixMode<span style="color: #707183;">(</span>GL_MODELVIEW<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   load_texture<span style="color: #707183;">(</span><span style="color: #8b2252;">"pasto.png"</span><span style="color: #707183;">)</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">&lt;&lt;-- TU IMAGEN AQU&#205;</span>


<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujar la casa</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_cube</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.8, 0.5, 0.2<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Frente</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Atr&#225;s</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Izquierda</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Derecha</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Arriba</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.9, 0.6, 0.3<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">Abajo</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.6, 0.4, 0.2<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 0, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>


<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_roof</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_TRIANGLES<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>0.9, 0.1, 0.1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 2, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 2, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 2, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, -1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>0, 2, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>


<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Piso con textura</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_ground</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glBegin<span style="color: #707183;">(</span>GL_QUADS<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glColor3f<span style="color: #707183;">(</span>1, 1, 1<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">scale</span> = 3  <span style="color: #b22222;"># </span><span style="color: #b22222;">Cambia entre 1 y 5 seg&#250;n c&#243;mo quieras el mosaico</span>

<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>0, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-10, 0, 10<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>scale, 0<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>10, 0, 10<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>scale, scale<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>10, 0, -10<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glTexCoord2f<span style="color: #707183;">(</span>0, scale<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glVertex3f<span style="color: #707183;">(</span>-10, 0, -10<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   glEnd<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, 0<span style="color: #707183;">)</span>


<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Dibujo principal</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">draw_scene</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   glClear<span style="color: #707183;">(</span>GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glLoadIdentity<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   gluLookAt<span style="color: #707183;">(</span>4, 4, 8, 0, 1, 0, 0, 1, 0<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   draw_ground<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   draw_cube<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   draw_roof<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.swap_buffers<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>


<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Main</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">------------------------------------------------------------</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">main</span><span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">global</span> window

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> glfw.init<span style="color: #707183;">()</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a0522d;">window</span> = glfw.create_window<span style="color: #707183;">(</span>800, 600, <span style="color: #8b2252;">"Casa con Textura de Pasto"</span>, <span style="color: #008b8b;">None</span>, <span style="color: #008b8b;">None</span><span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">if</span> <span style="color: #a020f0;">not</span> window:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   sys.<span style="color: #008b8b;">exit</span><span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.make_context_current<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>
<span style="background-color: #f2f2f2;"> </span>   glViewport<span style="color: #707183;">(</span>0, 0, 800, 600<span style="color: #707183;">)</span>

<span style="background-color: #f2f2f2;"> </span>   init<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   <span style="color: #a020f0;">while</span> <span style="color: #a020f0;">not</span> glfw.window_should_close<span style="color: #707183;">(</span>window<span style="color: #707183;">)</span>:
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   draw_scene<span style="color: #707183;">()</span>
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   glfw.poll_events<span style="color: #707183;">()</span>

<span style="background-color: #f2f2f2;"> </span>   glfw.terminate<span style="color: #707183;">()</span>


<span style="color: #a020f0;">if</span> <span style="color: #483d8b;">__name__</span> == <span style="color: #8b2252;">"__main__"</span>:
<span style="background-color: #f2f2f2;"> </span>   main<span style="color: #707183;">()</span>

</pre>
</div>




<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">def</span> <span style="color: #0000ff;">load_texture</span><span style="color: #707183;">(</span>path<span style="color: #707183;">)</span>:
<span style="color: #a020f0;">global</span> texture_id

```
<span style="color: #a0522d;">img</span> = Image.<span style="color: #483d8b;">open</span><span style="color: #707183;">(</span>path<span style="color: #707183;">)</span>.convert<span style="color: #707183;">(</span><span style="color: #8b2252;">"RGB"</span><span style="color: #707183;">)</span>
<span style="color: #a0522d;">img</span> = img.transpose<span style="color: #707183;">(</span>Image.FLIP_TOP_BOTTOM<span style="color: #707183;">)</span>
<span style="color: #a0522d;">img_data</span> = img.tobytes<span style="color: #707183;">()</span>

glPixelStorei<span style="color: #707183;">(</span>GL_UNPACK_ALIGNMENT, 1<span style="color: #707183;">)</span>

<span style="color: #a0522d;">texture_id</span> = glGenTextures<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>
glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Filtrado suave + mipmaps</span>
glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR_MIPMAP_LINEAR<span style="color: #707183;">)</span>
glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Repetici&#243;n</span>
glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT<span style="color: #707183;">)</span>
glTexParameteri<span style="color: #707183;">(</span>GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT<span style="color: #707183;">)</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Cargar textura normal</span>
glTexImage2D<span style="color: #707183;">(</span>GL_TEXTURE_2D, 0, GL_RGB,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>img.width, img.height, 0,
<span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>   <span style="background-color: #f2f2f2;"> </span>GL_RGB, GL_UNSIGNED_BYTE, img_data<span style="color: #707183;">)</span>

glGenerateMipmap<span style="color: #707183;">(</span>GL_TEXTURE_2D<span style="color: #707183;">)</span>

glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, 0<span style="color: #707183;">)</span>
```

</pre>
</div>

<ul class="org-ul">
<li>Carga la imagen desde disco.</li>
<li>Abrir la imagen: <code>Image.open(path).convert("RGB")</code></li>
<li>Fuerza el formato a RGB (3 canales).</li>
</ul>

<pre class="example" id="org2c78055">
Archivo en disco
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ pasto.jpg      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ (PIL)
‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ PIL Image (RGB) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</pre>
</div>

<div id="outline-container-org5f553c5" class="outline-4">
<h4 id="org5f553c5">2. Voltear la imagen verticalmente</h4>
<div class="outline-text-4" id="text-org5f553c5">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">img</span> = img.transpose<span style="color: #707183;">(</span>Image.FLIP_TOP_BOTTOM<span style="color: #707183;">)</span>
</pre>
</div>

<p>
PIL considera el origen (0,0) arriba. OpenGL lo considera abajo.
</p>

<pre class="example" id="orga75a898">
Antes (PIL):
y ‚Üë
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ L√≠nea 0        ‚îÇ  ‚Üê arriba
‚îÇ L√≠nea 1        ‚îÇ
‚îÇ ...            ‚îÇ
‚îÇ L√≠nea n        ‚îÇ  ‚Üê abajo
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Despu√©s (OpenGL):
y ‚Üë
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ L√≠nea n        ‚îÇ  ‚Üê arriba
‚îÇ ...            ‚îÇ
‚îÇ L√≠nea 1        ‚îÇ
‚îÇ L√≠nea 0        ‚îÇ  ‚Üê abajo
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</pre>
</div>
</div>

<div id="outline-container-orgc578412" class="outline-4">
<h4 id="orgc578412">3. Convertir la imagen en bytes</h4>
<div class="outline-text-4" id="text-orgc578412">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">img_data</span> = img.tobytes<span style="color: #707183;">()</span>
</pre>
</div>

<p>
Formato final: <code>RGBRGBRGBRGB...</code>
</p>

<pre class="example" id="org9a3c717">
Memoria enviada a OpenGL:
[R G B][R G B][R G B]...[R G B]
</pre>
</div>
</div>

<div id="outline-container-orge6a51b0" class="outline-4">
<h4 id="orge6a51b0">4. Ajustar alineaci√≥n de lectura: <code>glPixelStorei(GL_UNPACK_ALIGNMENT, 1)</code></h4>
<div class="outline-text-4" id="text-orge6a51b0">
<p>
OpenGL por defecto espera que cada fila tenga padding hasta m√∫ltiplos de 4 bytes.
La opci√≥n <code>1</code> elimina ese requisito.
</p>

<pre class="example" id="org265928c">
Sin alineaci√≥n ‚Üí filas mal alineadas ‚Üí texturas corruptas.

Con GL_UNPACK_ALIGNMENT = 1:
Fila: [RGB RGB RGB RGB] sin relleno extra.
</pre>
</div>
</div>

<div id="outline-container-org160bea5" class="outline-4">
<h4 id="org160bea5">5. Crear la textura en GPU</h4>
<div class="outline-text-4" id="text-org160bea5">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">texture_id</span> = glGenTextures<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>
glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, texture_id<span style="color: #707183;">)</span>
</pre>
</div>

<pre class="example" id="org10b4660">
CPU                           GPU
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê             ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ texture_id=5‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ Texture #5 creada‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò             ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</pre>
</div>
</div>

<div id="outline-container-org82acee2" class="outline-4">
<h4 id="org82acee2">6. Configurar par√°metros de la textura</h4>
<div class="outline-text-4" id="text-org82acee2">
</div>
<ul class="org-ul">
<li><a id="org900ded5"></a>Filtrado<br />
<div class="outline-text-5" id="text-org900ded5">
<pre class="example" id="orgef1b386">
glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR_MIPMAP_LINEAR)
glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR)
</pre>

<pre class="example" id="org9e0fc27">
Objeto lejos ‚Üí usa MIPMAP
Objeto cerca ‚Üí usa textura original

```
   distancia
    ‚Üë
```

lejos  ‚îÇ   [textura reducida]
‚îÇ
‚îÇ   [textura 1/2]
‚îÇ
cerca  ‚îÇ   [textura original]
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂ tama√±o en pantalla
</pre>
</div>
</li>

<li><a id="orgb719645"></a>Repetici√≥n<br />
<div class="outline-text-5" id="text-orgb719645">
<pre class="example" id="orga7a7ecd">
glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT)
glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT)
</pre>

<pre class="example" id="org5e17c4c">
Coordenadas UV:
0   1   2   3   ‚Üí se repite la textura
‚îÇ‚îÄ‚îÄ‚îÄ‚îÇ‚îÄ‚îÄ‚îÄ‚îÇ‚îÄ‚îÄ‚îÄ‚îÇ‚îÄ‚îÄ‚îÄ‚îÇ
</pre>
</div>
</li>
</ul>
</div>

<div id="outline-container-orgb9a9b22" class="outline-4">
<h4 id="orgb9a9b22">7. Enviar la textura a GPU</h4>
<div class="outline-text-4" id="text-orgb9a9b22">
<div class="org-src-container">
<pre class="src src-python">glTexImage2D<span style="color: #707183;">(</span>GL_TEXTURE_2D, 0, GL_RGB,
img.width, img.height, 0,
GL_RGB, GL_UNSIGNED_BYTE, img_data<span style="color: #707183;">)</span>
</pre>
</div>

<p>
Diagrama:
</p>
<pre class="example" id="org4f527ad">
CPU (bytes crudos)
‚îÇ
‚îÇ glTexImage2D
‚ñº
GPU almacena la textura en VRAM
</pre>
</div>
</div>

<div id="outline-container-orgae734ad" class="outline-4">
<h4 id="orgae734ad">8. Generar Mipmaps</h4>
<div class="outline-text-4" id="text-orgae734ad">
<div class="org-src-container">
<pre class="src src-python">glGenerateMipmap<span style="color: #707183;">(</span>GL_TEXTURE_2D<span style="color: #707183;">)</span>
</pre>
</div>

<pre class="example" id="org8093e7d">
GPU genera autom√°ticamente:
Nivel 0 ‚Üí textura completa
Nivel 1 ‚Üí 1/2 tama√±o
Nivel 2 ‚Üí 1/4 tama√±o
Nivel 3 ‚Üí 1/8 tama√±o
...
</pre>
</div>
</div>

<div id="outline-container-org2221629" class="outline-4">
<h4 id="org2221629">9. Desbindeo</h4>
<div class="outline-text-4" id="text-org2221629">
<div class="org-src-container">
<pre class="src src-python">glBindTexture<span style="color: #707183;">(</span>GL_TEXTURE_2D, 0<span style="color: #707183;">)</span>
</pre>
</div>

<p>
Esto evita modificar la textura accidentalmente.
</p>
</div>
</div>
</div>

<div id="outline-container-org662792a" class="outline-3">
<h3 id="org662792a">Resumen visual completo</h3>
<div class="outline-text-3" id="text-org662792a">
<pre class="example" id="orga48bb73">
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 1. Cargar imagen  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ2. Voltear imagen  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ3. Bytes RGB       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ4. Alineaci√≥n 1    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ5. Crear textura   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ6. Configurar FILT ‚îÇ
‚îÇ   y WRAP          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ7. glTexImage2D    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ8. Mipmaps         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ9. Unbind          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Autor: Eduardo Alcaraz</p>
<p class="date">Created: 2025-12-01 lun 13:25</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
